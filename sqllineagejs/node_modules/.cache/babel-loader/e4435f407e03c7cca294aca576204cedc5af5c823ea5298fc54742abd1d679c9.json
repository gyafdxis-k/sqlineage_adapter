{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './dropdown.css';\nimport { append, $ } from '../../dom.js';\nimport { Emitter } from '../../../common/event.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n  constructor(action, menuActionsOrProvider, contextMenuProvider) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super(null, action, options);\n    this.options = options;\n    this.actionItem = null;\n    this._onDidChangeVisibility = this._register(new Emitter());\n    this.menuActionsOrProvider = menuActionsOrProvider;\n    this.contextMenuProvider = contextMenuProvider;\n    if (this.options.actionRunner) {\n      this.actionRunner = this.options.actionRunner;\n    }\n  }\n  render(container) {\n    this.actionItem = container;\n    const labelRenderer = el => {\n      this.element = append(el, $('a.action-label'));\n      let classNames = [];\n      if (typeof this.options.classNames === 'string') {\n        classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n      } else if (this.options.classNames) {\n        classNames = this.options.classNames;\n      }\n      // todo@aeschli: remove codicon, should come through `this.options.classNames`\n      if (!classNames.find(c => c === 'icon')) {\n        classNames.push('codicon');\n      }\n      this.element.classList.add(...classNames);\n      this.element.tabIndex = 0;\n      this.element.setAttribute('role', 'button');\n      this.element.setAttribute('aria-haspopup', 'true');\n      this.element.setAttribute('aria-expanded', 'false');\n      this.element.title = this._action.label || '';\n      return null;\n    };\n    const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n    const options = {\n      contextMenuProvider: this.contextMenuProvider,\n      labelRenderer: labelRenderer,\n      menuAsChild: this.options.menuAsChild,\n      actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n      actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\n    };\n    this.dropdownMenu = this._register(new DropdownMenu(container, options));\n    this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n      var _a;\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', \"\".concat(visible));\n      this._onDidChangeVisibility.fire(visible);\n    }));\n    this.dropdownMenu.menuOptions = {\n      actionViewItemProvider: this.options.actionViewItemProvider,\n      actionRunner: this.actionRunner,\n      getKeyBinding: this.options.keybindingProvider,\n      context: this._context\n    };\n    if (this.options.anchorAlignmentProvider) {\n      const that = this;\n      this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), {\n        get anchorAlignment() {\n          return that.options.anchorAlignmentProvider();\n        }\n      });\n    }\n    this.updateEnabled();\n  }\n  setActionContext(newContext) {\n    super.setActionContext(newContext);\n    if (this.dropdownMenu) {\n      if (this.dropdownMenu.menuOptions) {\n        this.dropdownMenu.menuOptions.context = newContext;\n      } else {\n        this.dropdownMenu.menuOptions = {\n          context: newContext\n        };\n      }\n    }\n  }\n  updateEnabled() {\n    var _a, _b;\n    const disabled = !this.getAction().enabled;\n    (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n    (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n  }\n}","map":{"version":3,"names":["append","$","Emitter","BaseActionViewItem","DropdownMenu","DropdownMenuActionViewItem","constructor","action","menuActionsOrProvider","contextMenuProvider","options","arguments","length","undefined","actionItem","_onDidChangeVisibility","_register","actionRunner","render","container","labelRenderer","el","element","classNames","split","filter","s","find","c","push","classList","add","tabIndex","setAttribute","title","_action","label","isActionsArray","Array","isArray","menuAsChild","actions","actionProvider","dropdownMenu","onDidChangeVisibility","visible","_a","concat","fire","menuOptions","actionViewItemProvider","getKeyBinding","keybindingProvider","context","_context","anchorAlignmentProvider","that","Object","assign","anchorAlignment","updateEnabled","setActionContext","newContext","_b","disabled","getAction","enabled","toggle"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './dropdown.css';\r\nimport { append, $ } from '../../dom.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\r\nimport { DropdownMenu } from './dropdown.js';\r\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\r\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = {}) {\r\n        super(null, action, options);\r\n        this.options = options;\r\n        this.actionItem = null;\r\n        this._onDidChangeVisibility = this._register(new Emitter());\r\n        this.menuActionsOrProvider = menuActionsOrProvider;\r\n        this.contextMenuProvider = contextMenuProvider;\r\n        if (this.options.actionRunner) {\r\n            this.actionRunner = this.options.actionRunner;\r\n        }\r\n    }\r\n    render(container) {\r\n        this.actionItem = container;\r\n        const labelRenderer = (el) => {\r\n            this.element = append(el, $('a.action-label'));\r\n            let classNames = [];\r\n            if (typeof this.options.classNames === 'string') {\r\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\r\n            }\r\n            else if (this.options.classNames) {\r\n                classNames = this.options.classNames;\r\n            }\r\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\r\n            if (!classNames.find(c => c === 'icon')) {\r\n                classNames.push('codicon');\r\n            }\r\n            this.element.classList.add(...classNames);\r\n            this.element.tabIndex = 0;\r\n            this.element.setAttribute('role', 'button');\r\n            this.element.setAttribute('aria-haspopup', 'true');\r\n            this.element.setAttribute('aria-expanded', 'false');\r\n            this.element.title = this._action.label || '';\r\n            return null;\r\n        };\r\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\r\n        const options = {\r\n            contextMenuProvider: this.contextMenuProvider,\r\n            labelRenderer: labelRenderer,\r\n            menuAsChild: this.options.menuAsChild,\r\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\r\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\r\n        };\r\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\r\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\r\n            var _a;\r\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\r\n            this._onDidChangeVisibility.fire(visible);\r\n        }));\r\n        this.dropdownMenu.menuOptions = {\r\n            actionViewItemProvider: this.options.actionViewItemProvider,\r\n            actionRunner: this.actionRunner,\r\n            getKeyBinding: this.options.keybindingProvider,\r\n            context: this._context\r\n        };\r\n        if (this.options.anchorAlignmentProvider) {\r\n            const that = this;\r\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\r\n                    return that.options.anchorAlignmentProvider();\r\n                } });\r\n        }\r\n        this.updateEnabled();\r\n    }\r\n    setActionContext(newContext) {\r\n        super.setActionContext(newContext);\r\n        if (this.dropdownMenu) {\r\n            if (this.dropdownMenu.menuOptions) {\r\n                this.dropdownMenu.menuOptions.context = newContext;\r\n            }\r\n            else {\r\n                this.dropdownMenu.menuOptions = { context: newContext };\r\n            }\r\n        }\r\n    }\r\n    updateEnabled() {\r\n        var _a, _b;\r\n        const disabled = !this.getAction().enabled;\r\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\r\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}