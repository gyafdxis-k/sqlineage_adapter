{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from './event.js';\nconst shortcutEvent = Object.freeze(function (callback, context) {\n  const handle = setTimeout(callback.bind(context), 0);\n  return {\n    dispose() {\n      clearTimeout(handle);\n    }\n  };\n});\nexport var CancellationToken;\n(function (CancellationToken) {\n  function isCancellationToken(thing) {\n    if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n      return true;\n    }\n    if (thing instanceof MutableToken) {\n      return true;\n    }\n    if (!thing || typeof thing !== 'object') {\n      return false;\n    }\n    return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n  }\n  CancellationToken.isCancellationToken = isCancellationToken;\n  CancellationToken.None = Object.freeze({\n    isCancellationRequested: false,\n    onCancellationRequested: Event.None\n  });\n  CancellationToken.Cancelled = Object.freeze({\n    isCancellationRequested: true,\n    onCancellationRequested: shortcutEvent\n  });\n})(CancellationToken || (CancellationToken = {}));\nclass MutableToken {\n  constructor() {\n    this._isCancelled = false;\n    this._emitter = null;\n  }\n  cancel() {\n    if (!this._isCancelled) {\n      this._isCancelled = true;\n      if (this._emitter) {\n        this._emitter.fire(undefined);\n        this.dispose();\n      }\n    }\n  }\n  get isCancellationRequested() {\n    return this._isCancelled;\n  }\n  get onCancellationRequested() {\n    if (this._isCancelled) {\n      return shortcutEvent;\n    }\n    if (!this._emitter) {\n      this._emitter = new Emitter();\n    }\n    return this._emitter.event;\n  }\n  dispose() {\n    if (this._emitter) {\n      this._emitter.dispose();\n      this._emitter = null;\n    }\n  }\n}\nexport class CancellationTokenSource {\n  constructor(parent) {\n    this._token = undefined;\n    this._parentListener = undefined;\n    this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n  }\n  get token() {\n    if (!this._token) {\n      // be lazy and create the token only when\n      // actually needed\n      this._token = new MutableToken();\n    }\n    return this._token;\n  }\n  cancel() {\n    if (!this._token) {\n      // save an object by returning the default\n      // cancelled token when cancellation happens\n      // before someone asks for the token\n      this._token = CancellationToken.Cancelled;\n    } else if (this._token instanceof MutableToken) {\n      // actually cancel\n      this._token.cancel();\n    }\n  }\n  dispose() {\n    let cancel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (cancel) {\n      this.cancel();\n    }\n    if (this._parentListener) {\n      this._parentListener.dispose();\n    }\n    if (!this._token) {\n      // ensure to initialize with an empty token if we had none\n      this._token = CancellationToken.None;\n    } else if (this._token instanceof MutableToken) {\n      // actually dispose\n      this._token.dispose();\n    }\n  }\n}","map":{"version":3,"names":["Emitter","Event","shortcutEvent","Object","freeze","callback","context","handle","setTimeout","bind","dispose","clearTimeout","CancellationToken","isCancellationToken","thing","None","Cancelled","MutableToken","isCancellationRequested","onCancellationRequested","constructor","_isCancelled","_emitter","cancel","fire","undefined","event","CancellationTokenSource","parent","_token","_parentListener","token","arguments","length"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/common/cancellation.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter, Event } from './event.js';\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    const handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nexport var CancellationToken;\r\n(function (CancellationToken) {\r\n    function isCancellationToken(thing) {\r\n        if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\r\n            return true;\r\n        }\r\n        if (thing instanceof MutableToken) {\r\n            return true;\r\n        }\r\n        if (!thing || typeof thing !== 'object') {\r\n            return false;\r\n        }\r\n        return typeof thing.isCancellationRequested === 'boolean'\r\n            && typeof thing.onCancellationRequested === 'function';\r\n    }\r\n    CancellationToken.isCancellationToken = isCancellationToken;\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: shortcutEvent\r\n    });\r\n})(CancellationToken || (CancellationToken = {}));\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n        this._emitter = null;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = null;\r\n        }\r\n    }\r\n}\r\nexport class CancellationTokenSource {\r\n    constructor(parent) {\r\n        this._token = undefined;\r\n        this._parentListener = undefined;\r\n        this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\r\n    }\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually cancel\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose(cancel = false) {\r\n        if (cancel) {\r\n            this.cancel();\r\n        }\r\n        if (this._parentListener) {\r\n            this._parentListener.dispose();\r\n        }\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}