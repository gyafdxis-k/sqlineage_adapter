{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Selection } from '../../common/core/selection.js';\nimport { Range } from '../../common/core/range.js';\nexport class DragAndDropCommand {\n  constructor(selection, targetPosition, copy) {\n    this.selection = selection;\n    this.targetPosition = targetPosition;\n    this.copy = copy;\n    this.targetSelection = null;\n  }\n  getEditOperations(model, builder) {\n    let text = model.getValueInRange(this.selection);\n    if (!this.copy) {\n      builder.addEditOperation(this.selection, null);\n    }\n    builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\n    if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\n    )) {\n      this.targetSelection = this.selection;\n      return;\n    }\n    if (this.copy) {\n      this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);\n      return;\n    }\n    if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\n      // Drag the selection downwards\n      this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);\n      return;\n    }\n    if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\n      // Drag the selection upwards\n      this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);\n      return;\n    }\n    // The target position is at the same line as the selection's end position.\n    if (this.selection.endColumn <= this.targetPosition.column) {\n      // The target position is after the selection's end position\n      this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column - this.selection.endColumn + this.selection.startColumn : this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column : this.selection.endColumn);\n    } else {\n      // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\n      this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\n    }\n  }\n  computeCursorState(model, helper) {\n    return this.targetSelection;\n  }\n}","map":{"version":3,"names":["Selection","Range","DragAndDropCommand","constructor","selection","targetPosition","copy","targetSelection","getEditOperations","model","builder","text","getValueInRange","addEditOperation","lineNumber","column","containsPosition","getEndPosition","equals","getStartPosition","endLineNumber","startLineNumber","endColumn","startColumn","computeCursorState","helper"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dragAndDropCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { Range } from '../../common/core/range.js';\r\nexport class DragAndDropCommand {\r\n    constructor(selection, targetPosition, copy) {\r\n        this.selection = selection;\r\n        this.targetPosition = targetPosition;\r\n        this.copy = copy;\r\n        this.targetSelection = null;\r\n    }\r\n    getEditOperations(model, builder) {\r\n        let text = model.getValueInRange(this.selection);\r\n        if (!this.copy) {\r\n            builder.addEditOperation(this.selection, null);\r\n        }\r\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\r\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\r\n        )) {\r\n            this.targetSelection = this.selection;\r\n            return;\r\n        }\r\n        if (this.copy) {\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\r\n            // Drag the selection downwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\r\n            // Drag the selection upwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        // The target position is at the same line as the selection's end position.\r\n        if (this.selection.endColumn <= this.targetPosition.column) {\r\n            // The target position is after the selection's end position\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column :\r\n                this.selection.endColumn);\r\n        }\r\n        else {\r\n            // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\r\n        }\r\n    }\r\n    computeCursorState(model, helper) {\r\n        return this.targetSelection;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}