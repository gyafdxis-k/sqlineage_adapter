{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../dom.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport * as aria from '../aria/aria.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { Event, Emitter } from '../../../common/event.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { domEvent } from '../../event.js';\nconst $ = dom.$;\nconst defaultOpts = {\n  inputBackground: Color.fromHex('#3C3C3C'),\n  inputForeground: Color.fromHex('#CCCCCC'),\n  inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n  inputValidationInfoBackground: Color.fromHex('#063B49'),\n  inputValidationWarningBorder: Color.fromHex('#B89500'),\n  inputValidationWarningBackground: Color.fromHex('#352A05'),\n  inputValidationErrorBorder: Color.fromHex('#BE1100'),\n  inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nexport class InputBox extends Widget {\n  constructor(container, contextViewProvider, options) {\n    super();\n    this.state = 'idle';\n    this.maxHeight = Number.POSITIVE_INFINITY;\n    this._onDidChange = this._register(new Emitter());\n    this.onDidChange = this._onDidChange.event;\n    this._onDidHeightChange = this._register(new Emitter());\n    this.onDidHeightChange = this._onDidHeightChange.event;\n    this.contextViewProvider = contextViewProvider;\n    this.options = options || Object.create(null);\n    mixin(this.options, defaultOpts, false);\n    this.message = null;\n    this.placeholder = this.options.placeholder || '';\n    this.ariaLabel = this.options.ariaLabel || '';\n    this.inputBackground = this.options.inputBackground;\n    this.inputForeground = this.options.inputForeground;\n    this.inputBorder = this.options.inputBorder;\n    this.inputValidationInfoBorder = this.options.inputValidationInfoBorder;\n    this.inputValidationInfoBackground = this.options.inputValidationInfoBackground;\n    this.inputValidationInfoForeground = this.options.inputValidationInfoForeground;\n    this.inputValidationWarningBorder = this.options.inputValidationWarningBorder;\n    this.inputValidationWarningBackground = this.options.inputValidationWarningBackground;\n    this.inputValidationWarningForeground = this.options.inputValidationWarningForeground;\n    this.inputValidationErrorBorder = this.options.inputValidationErrorBorder;\n    this.inputValidationErrorBackground = this.options.inputValidationErrorBackground;\n    this.inputValidationErrorForeground = this.options.inputValidationErrorForeground;\n    if (this.options.validationOptions) {\n      this.validation = this.options.validationOptions.validation;\n    }\n    this.element = dom.append(container, $('.monaco-inputbox.idle'));\n    let tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n    let wrapper = dom.append(this.element, $('.ibwrapper'));\n    this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n    this.input.setAttribute('autocorrect', 'off');\n    this.input.setAttribute('autocapitalize', 'off');\n    this.input.setAttribute('spellcheck', 'false');\n    this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n    this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n    if (this.options.flexibleHeight) {\n      this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n      this.mirror = dom.append(wrapper, $('div.mirror'));\n      this.mirror.innerText = '\\u00a0';\n      this.scrollableElement = new ScrollableElement(this.element, {\n        vertical: 1 /* Auto */\n      });\n      if (this.options.flexibleWidth) {\n        this.input.setAttribute('wrap', 'off');\n        this.mirror.style.whiteSpace = 'pre';\n        this.mirror.style.wordWrap = 'initial';\n      }\n      dom.append(container, this.scrollableElement.getDomNode());\n      this._register(this.scrollableElement);\n      // from ScrollableElement to DOM\n      this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n      const onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), () => {\n        const selection = document.getSelection();\n        return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n      });\n      // from DOM to ScrollableElement\n      this._register(onSelectionChange(this.updateScrollDimensions, this));\n      this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n    } else {\n      this.input.type = this.options.type || 'text';\n      this.input.setAttribute('wrap', 'off');\n    }\n    if (this.ariaLabel) {\n      this.input.setAttribute('aria-label', this.ariaLabel);\n    }\n    if (this.placeholder) {\n      this.setPlaceHolder(this.placeholder);\n    }\n    this.oninput(this.input, () => this.onValueChange());\n    this.onblur(this.input, () => this.onBlur());\n    this.onfocus(this.input, () => this.onFocus());\n    this.ignoreGesture(this.input);\n    setTimeout(() => this.updateMirror(), 0);\n    // Support actions\n    if (this.options.actions) {\n      this.actionbar = this._register(new ActionBar(this.element));\n      this.actionbar.push(this.options.actions, {\n        icon: true,\n        label: false\n      });\n    }\n    this.applyStyles();\n  }\n  onBlur() {\n    this._hideMessage();\n  }\n  onFocus() {\n    this._showMessage();\n  }\n  setPlaceHolder(placeHolder) {\n    this.placeholder = placeHolder;\n    this.input.setAttribute('placeholder', placeHolder);\n    this.input.title = placeHolder;\n  }\n  setAriaLabel(label) {\n    this.ariaLabel = label;\n    if (label) {\n      this.input.setAttribute('aria-label', this.ariaLabel);\n    } else {\n      this.input.removeAttribute('aria-label');\n    }\n  }\n  getAriaLabel() {\n    return this.ariaLabel;\n  }\n  get inputElement() {\n    return this.input;\n  }\n  get value() {\n    return this.input.value;\n  }\n  set value(newValue) {\n    if (this.input.value !== newValue) {\n      this.input.value = newValue;\n      this.onValueChange();\n    }\n  }\n  get height() {\n    return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n  }\n  focus() {\n    this.input.focus();\n  }\n  blur() {\n    this.input.blur();\n  }\n  hasFocus() {\n    return document.activeElement === this.input;\n  }\n  select() {\n    let range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    this.input.select();\n    if (range) {\n      this.input.setSelectionRange(range.start, range.end);\n    }\n  }\n  isSelectionAtEnd() {\n    return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n  }\n  enable() {\n    this.input.removeAttribute('disabled');\n  }\n  disable() {\n    this.blur();\n    this.input.disabled = true;\n    this._hideMessage();\n  }\n  get width() {\n    return dom.getTotalWidth(this.input);\n  }\n  set width(width) {\n    if (this.options.flexibleHeight && this.options.flexibleWidth) {\n      // textarea with horizontal scrolling\n      let horizontalPadding = 0;\n      if (this.mirror) {\n        const paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n        const paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n        horizontalPadding = paddingLeft + paddingRight;\n      }\n      this.input.style.width = width - horizontalPadding + 'px';\n    } else {\n      this.input.style.width = width + 'px';\n    }\n    if (this.mirror) {\n      this.mirror.style.width = width + 'px';\n    }\n  }\n  set paddingRight(paddingRight) {\n    if (this.options.flexibleHeight && this.options.flexibleWidth) {\n      this.input.style.width = \"calc(100% - \".concat(paddingRight, \"px)\");\n    } else {\n      this.input.style.paddingRight = paddingRight + 'px';\n    }\n    if (this.mirror) {\n      this.mirror.style.paddingRight = paddingRight + 'px';\n    }\n  }\n  updateScrollDimensions() {\n    if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n      return;\n    }\n    const scrollHeight = this.cachedContentHeight;\n    const height = this.cachedHeight;\n    const scrollTop = this.input.scrollTop;\n    this.scrollableElement.setScrollDimensions({\n      scrollHeight,\n      height\n    });\n    this.scrollableElement.setScrollPosition({\n      scrollTop\n    });\n  }\n  showMessage(message, force) {\n    this.message = message;\n    this.element.classList.remove('idle');\n    this.element.classList.remove('info');\n    this.element.classList.remove('warning');\n    this.element.classList.remove('error');\n    this.element.classList.add(this.classForType(message.type));\n    const styles = this.stylesForType(this.message.type);\n    this.element.style.border = styles.border ? \"1px solid \".concat(styles.border) : '';\n    if (this.hasFocus() || force) {\n      this._showMessage();\n    }\n  }\n  hideMessage() {\n    this.message = null;\n    this.element.classList.remove('info');\n    this.element.classList.remove('warning');\n    this.element.classList.remove('error');\n    this.element.classList.add('idle');\n    this._hideMessage();\n    this.applyStyles();\n  }\n  validate() {\n    let errorMsg = null;\n    if (this.validation) {\n      errorMsg = this.validation(this.value);\n      if (errorMsg) {\n        this.inputElement.setAttribute('aria-invalid', 'true');\n        this.showMessage(errorMsg);\n      } else if (this.inputElement.hasAttribute('aria-invalid')) {\n        this.inputElement.removeAttribute('aria-invalid');\n        this.hideMessage();\n      }\n    }\n    return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n  }\n  stylesForType(type) {\n    switch (type) {\n      case 1 /* INFO */:\n        return {\n          border: this.inputValidationInfoBorder,\n          background: this.inputValidationInfoBackground,\n          foreground: this.inputValidationInfoForeground\n        };\n      case 2 /* WARNING */:\n        return {\n          border: this.inputValidationWarningBorder,\n          background: this.inputValidationWarningBackground,\n          foreground: this.inputValidationWarningForeground\n        };\n      default:\n        return {\n          border: this.inputValidationErrorBorder,\n          background: this.inputValidationErrorBackground,\n          foreground: this.inputValidationErrorForeground\n        };\n    }\n  }\n  classForType(type) {\n    switch (type) {\n      case 1 /* INFO */:\n        return 'info';\n      case 2 /* WARNING */:\n        return 'warning';\n      default:\n        return 'error';\n    }\n  }\n  _showMessage() {\n    if (!this.contextViewProvider || !this.message) {\n      return;\n    }\n    let div;\n    let layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n    this.contextViewProvider.showContextView({\n      getAnchor: () => this.element,\n      anchorAlignment: 1 /* RIGHT */,\n      render: container => {\n        if (!this.message) {\n          return null;\n        }\n        div = dom.append(container, $('.monaco-inputbox-container'));\n        layout();\n        const renderOptions = {\n          inline: true,\n          className: 'monaco-inputbox-message'\n        };\n        const spanElement = this.message.formatContent ? renderFormattedText(this.message.content, renderOptions) : renderText(this.message.content, renderOptions);\n        spanElement.classList.add(this.classForType(this.message.type));\n        const styles = this.stylesForType(this.message.type);\n        spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\n        spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\n        spanElement.style.border = styles.border ? \"1px solid \".concat(styles.border) : '';\n        dom.append(div, spanElement);\n        return null;\n      },\n      onHide: () => {\n        this.state = 'closed';\n      },\n      layout: layout\n    });\n    // ARIA Support\n    let alertText;\n    if (this.message.type === 3 /* ERROR */) {\n      alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n    } else if (this.message.type === 2 /* WARNING */) {\n      alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n    } else {\n      alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n    }\n    aria.alert(alertText);\n    this.state = 'open';\n  }\n  _hideMessage() {\n    if (!this.contextViewProvider) {\n      return;\n    }\n    if (this.state === 'open') {\n      this.contextViewProvider.hideContextView();\n    }\n    this.state = 'idle';\n  }\n  onValueChange() {\n    this._onDidChange.fire(this.value);\n    this.validate();\n    this.updateMirror();\n    this.input.classList.toggle('empty', !this.value);\n    if (this.state === 'open' && this.contextViewProvider) {\n      this.contextViewProvider.layout();\n    }\n  }\n  updateMirror() {\n    if (!this.mirror) {\n      return;\n    }\n    const value = this.value;\n    const lastCharCode = value.charCodeAt(value.length - 1);\n    const suffix = lastCharCode === 10 ? ' ' : '';\n    const mirrorTextContent = value + suffix;\n    if (mirrorTextContent) {\n      this.mirror.textContent = value + suffix;\n    } else {\n      this.mirror.innerText = '\\u00a0';\n    }\n    this.layout();\n  }\n  style(styles) {\n    this.inputBackground = styles.inputBackground;\n    this.inputForeground = styles.inputForeground;\n    this.inputBorder = styles.inputBorder;\n    this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n    this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n    this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n    this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n    this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n    this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n    this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n    this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n    this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n    this.applyStyles();\n  }\n  applyStyles() {\n    const background = this.inputBackground ? this.inputBackground.toString() : '';\n    const foreground = this.inputForeground ? this.inputForeground.toString() : '';\n    const border = this.inputBorder ? this.inputBorder.toString() : '';\n    this.element.style.backgroundColor = background;\n    this.element.style.color = foreground;\n    this.input.style.backgroundColor = 'inherit';\n    this.input.style.color = foreground;\n    this.element.style.borderWidth = border ? '1px' : '';\n    this.element.style.borderStyle = border ? 'solid' : '';\n    this.element.style.borderColor = border;\n  }\n  layout() {\n    if (!this.mirror) {\n      return;\n    }\n    const previousHeight = this.cachedContentHeight;\n    this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n    if (previousHeight !== this.cachedContentHeight) {\n      this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n      this.input.style.height = this.cachedHeight + 'px';\n      this._onDidHeightChange.fire(this.cachedContentHeight);\n    }\n  }\n  insertAtCursor(text) {\n    const inputElement = this.inputElement;\n    const start = inputElement.selectionStart;\n    const end = inputElement.selectionEnd;\n    const content = inputElement.value;\n    if (start !== null && end !== null) {\n      this.value = content.substr(0, start) + text + content.substr(end);\n      inputElement.setSelectionRange(start + 1, start + 1);\n      this.layout();\n    }\n  }\n  dispose() {\n    this._hideMessage();\n    this.message = null;\n    if (this.actionbar) {\n      this.actionbar.dispose();\n    }\n    super.dispose();\n  }\n}\nexport class HistoryInputBox extends InputBox {\n  constructor(container, contextViewProvider, options) {\n    super(container, contextViewProvider, options);\n    this.history = new HistoryNavigator(options.history, 100);\n  }\n  addToHistory() {\n    if (this.value && this.value !== this.getCurrentValue()) {\n      this.history.add(this.value);\n    }\n  }\n  showNextValue() {\n    if (!this.history.has(this.value)) {\n      this.addToHistory();\n    }\n    let next = this.getNextValue();\n    if (next) {\n      next = next === this.value ? this.getNextValue() : next;\n    }\n    if (next) {\n      this.value = next;\n      aria.status(this.value);\n    }\n  }\n  showPreviousValue() {\n    if (!this.history.has(this.value)) {\n      this.addToHistory();\n    }\n    let previous = this.getPreviousValue();\n    if (previous) {\n      previous = previous === this.value ? this.getPreviousValue() : previous;\n    }\n    if (previous) {\n      this.value = previous;\n      aria.status(this.value);\n    }\n  }\n  getCurrentValue() {\n    let currentValue = this.history.current();\n    if (!currentValue) {\n      currentValue = this.history.last();\n      this.history.next();\n    }\n    return currentValue;\n  }\n  getPreviousValue() {\n    return this.history.previous() || this.history.first();\n  }\n  getNextValue() {\n    return this.history.next() || this.history.last();\n  }\n}","map":{"version":3,"names":["nls","dom","renderFormattedText","renderText","aria","ActionBar","Event","Emitter","Widget","Color","mixin","HistoryNavigator","ScrollableElement","domEvent","$","defaultOpts","inputBackground","fromHex","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","InputBox","constructor","container","contextViewProvider","options","state","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","_register","onDidChange","event","_onDidHeightChange","onDidHeightChange","Object","create","message","placeholder","ariaLabel","inputBorder","inputValidationInfoForeground","inputValidationWarningForeground","inputValidationErrorForeground","validationOptions","validation","element","append","tagName","flexibleHeight","wrapper","input","setAttribute","onfocus","classList","add","onblur","remove","flexibleMaxHeight","mirror","innerText","scrollableElement","vertical","flexibleWidth","style","whiteSpace","wordWrap","getDomNode","onScroll","e","scrollTop","onSelectionChange","filter","document","selection","getSelection","anchorNode","updateScrollDimensions","type","setPlaceHolder","oninput","onValueChange","onBlur","onFocus","ignoreGesture","setTimeout","updateMirror","actions","actionbar","push","icon","label","applyStyles","_hideMessage","_showMessage","placeHolder","title","setAriaLabel","removeAttribute","getAriaLabel","inputElement","value","newValue","height","cachedHeight","getTotalHeight","focus","blur","hasFocus","activeElement","select","range","arguments","length","undefined","setSelectionRange","start","end","isSelectionAtEnd","selectionEnd","selectionStart","enable","disable","disabled","width","getTotalWidth","horizontalPadding","paddingLeft","parseFloat","paddingRight","concat","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","showMessage","force","classForType","styles","stylesForType","border","hideMessage","validate","errorMsg","hasAttribute","background","foreground","div","layout","showContextView","getAnchor","anchorAlignment","render","renderOptions","inline","className","spanElement","formatContent","content","backgroundColor","toString","color","onHide","alertText","localize","alert","hideContextView","fire","toggle","lastCharCode","charCodeAt","suffix","mirrorTextContent","textContent","borderWidth","borderStyle","borderColor","previousHeight","Math","min","insertAtCursor","text","substr","dispose","HistoryInputBox","history","addToHistory","getCurrentValue","showNextValue","has","next","getNextValue","status","showPreviousValue","previous","getPreviousValue","currentValue","current","last","first"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './inputBox.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as dom from '../../dom.js';\r\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\r\nimport * as aria from '../aria/aria.js';\r\nimport { ActionBar } from '../actionbar/actionbar.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { HistoryNavigator } from '../../../common/history.js';\r\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\r\nimport { domEvent } from '../../event.js';\r\nconst $ = dom.$;\r\nconst defaultOpts = {\r\n    inputBackground: Color.fromHex('#3C3C3C'),\r\n    inputForeground: Color.fromHex('#CCCCCC'),\r\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\r\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\r\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\r\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\r\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\r\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\r\n};\r\nexport class InputBox extends Widget {\r\n    constructor(container, contextViewProvider, options) {\r\n        super();\r\n        this.state = 'idle';\r\n        this.maxHeight = Number.POSITIVE_INFINITY;\r\n        this._onDidChange = this._register(new Emitter());\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._onDidHeightChange = this._register(new Emitter());\r\n        this.onDidHeightChange = this._onDidHeightChange.event;\r\n        this.contextViewProvider = contextViewProvider;\r\n        this.options = options || Object.create(null);\r\n        mixin(this.options, defaultOpts, false);\r\n        this.message = null;\r\n        this.placeholder = this.options.placeholder || '';\r\n        this.ariaLabel = this.options.ariaLabel || '';\r\n        this.inputBackground = this.options.inputBackground;\r\n        this.inputForeground = this.options.inputForeground;\r\n        this.inputBorder = this.options.inputBorder;\r\n        this.inputValidationInfoBorder = this.options.inputValidationInfoBorder;\r\n        this.inputValidationInfoBackground = this.options.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = this.options.inputValidationInfoForeground;\r\n        this.inputValidationWarningBorder = this.options.inputValidationWarningBorder;\r\n        this.inputValidationWarningBackground = this.options.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = this.options.inputValidationWarningForeground;\r\n        this.inputValidationErrorBorder = this.options.inputValidationErrorBorder;\r\n        this.inputValidationErrorBackground = this.options.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = this.options.inputValidationErrorForeground;\r\n        if (this.options.validationOptions) {\r\n            this.validation = this.options.validationOptions.validation;\r\n        }\r\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\r\n        let tagName = this.options.flexibleHeight ? 'textarea' : 'input';\r\n        let wrapper = dom.append(this.element, $('.ibwrapper'));\r\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\r\n        this.input.setAttribute('autocorrect', 'off');\r\n        this.input.setAttribute('autocapitalize', 'off');\r\n        this.input.setAttribute('spellcheck', 'false');\r\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\r\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\r\n        if (this.options.flexibleHeight) {\r\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\r\n            this.mirror = dom.append(wrapper, $('div.mirror'));\r\n            this.mirror.innerText = '\\u00a0';\r\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* Auto */ });\r\n            if (this.options.flexibleWidth) {\r\n                this.input.setAttribute('wrap', 'off');\r\n                this.mirror.style.whiteSpace = 'pre';\r\n                this.mirror.style.wordWrap = 'initial';\r\n            }\r\n            dom.append(container, this.scrollableElement.getDomNode());\r\n            this._register(this.scrollableElement);\r\n            // from ScrollableElement to DOM\r\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\r\n            const onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), () => {\r\n                const selection = document.getSelection();\r\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\r\n            });\r\n            // from DOM to ScrollableElement\r\n            this._register(onSelectionChange(this.updateScrollDimensions, this));\r\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\r\n        }\r\n        else {\r\n            this.input.type = this.options.type || 'text';\r\n            this.input.setAttribute('wrap', 'off');\r\n        }\r\n        if (this.ariaLabel) {\r\n            this.input.setAttribute('aria-label', this.ariaLabel);\r\n        }\r\n        if (this.placeholder) {\r\n            this.setPlaceHolder(this.placeholder);\r\n        }\r\n        this.oninput(this.input, () => this.onValueChange());\r\n        this.onblur(this.input, () => this.onBlur());\r\n        this.onfocus(this.input, () => this.onFocus());\r\n        this.ignoreGesture(this.input);\r\n        setTimeout(() => this.updateMirror(), 0);\r\n        // Support actions\r\n        if (this.options.actions) {\r\n            this.actionbar = this._register(new ActionBar(this.element));\r\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\r\n        }\r\n        this.applyStyles();\r\n    }\r\n    onBlur() {\r\n        this._hideMessage();\r\n    }\r\n    onFocus() {\r\n        this._showMessage();\r\n    }\r\n    setPlaceHolder(placeHolder) {\r\n        this.placeholder = placeHolder;\r\n        this.input.setAttribute('placeholder', placeHolder);\r\n        this.input.title = placeHolder;\r\n    }\r\n    setAriaLabel(label) {\r\n        this.ariaLabel = label;\r\n        if (label) {\r\n            this.input.setAttribute('aria-label', this.ariaLabel);\r\n        }\r\n        else {\r\n            this.input.removeAttribute('aria-label');\r\n        }\r\n    }\r\n    getAriaLabel() {\r\n        return this.ariaLabel;\r\n    }\r\n    get inputElement() {\r\n        return this.input;\r\n    }\r\n    get value() {\r\n        return this.input.value;\r\n    }\r\n    set value(newValue) {\r\n        if (this.input.value !== newValue) {\r\n            this.input.value = newValue;\r\n            this.onValueChange();\r\n        }\r\n    }\r\n    get height() {\r\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\r\n    }\r\n    focus() {\r\n        this.input.focus();\r\n    }\r\n    blur() {\r\n        this.input.blur();\r\n    }\r\n    hasFocus() {\r\n        return document.activeElement === this.input;\r\n    }\r\n    select(range = null) {\r\n        this.input.select();\r\n        if (range) {\r\n            this.input.setSelectionRange(range.start, range.end);\r\n        }\r\n    }\r\n    isSelectionAtEnd() {\r\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\r\n    }\r\n    enable() {\r\n        this.input.removeAttribute('disabled');\r\n    }\r\n    disable() {\r\n        this.blur();\r\n        this.input.disabled = true;\r\n        this._hideMessage();\r\n    }\r\n    get width() {\r\n        return dom.getTotalWidth(this.input);\r\n    }\r\n    set width(width) {\r\n        if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n            // textarea with horizontal scrolling\r\n            let horizontalPadding = 0;\r\n            if (this.mirror) {\r\n                const paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\r\n                const paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\r\n                horizontalPadding = paddingLeft + paddingRight;\r\n            }\r\n            this.input.style.width = (width - horizontalPadding) + 'px';\r\n        }\r\n        else {\r\n            this.input.style.width = width + 'px';\r\n        }\r\n        if (this.mirror) {\r\n            this.mirror.style.width = width + 'px';\r\n        }\r\n    }\r\n    set paddingRight(paddingRight) {\r\n        if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n            this.input.style.width = `calc(100% - ${paddingRight}px)`;\r\n        }\r\n        else {\r\n            this.input.style.paddingRight = paddingRight + 'px';\r\n        }\r\n        if (this.mirror) {\r\n            this.mirror.style.paddingRight = paddingRight + 'px';\r\n        }\r\n    }\r\n    updateScrollDimensions() {\r\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\r\n            return;\r\n        }\r\n        const scrollHeight = this.cachedContentHeight;\r\n        const height = this.cachedHeight;\r\n        const scrollTop = this.input.scrollTop;\r\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\r\n        this.scrollableElement.setScrollPosition({ scrollTop });\r\n    }\r\n    showMessage(message, force) {\r\n        this.message = message;\r\n        this.element.classList.remove('idle');\r\n        this.element.classList.remove('info');\r\n        this.element.classList.remove('warning');\r\n        this.element.classList.remove('error');\r\n        this.element.classList.add(this.classForType(message.type));\r\n        const styles = this.stylesForType(this.message.type);\r\n        this.element.style.border = styles.border ? `1px solid ${styles.border}` : '';\r\n        if (this.hasFocus() || force) {\r\n            this._showMessage();\r\n        }\r\n    }\r\n    hideMessage() {\r\n        this.message = null;\r\n        this.element.classList.remove('info');\r\n        this.element.classList.remove('warning');\r\n        this.element.classList.remove('error');\r\n        this.element.classList.add('idle');\r\n        this._hideMessage();\r\n        this.applyStyles();\r\n    }\r\n    validate() {\r\n        let errorMsg = null;\r\n        if (this.validation) {\r\n            errorMsg = this.validation(this.value);\r\n            if (errorMsg) {\r\n                this.inputElement.setAttribute('aria-invalid', 'true');\r\n                this.showMessage(errorMsg);\r\n            }\r\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\r\n                this.inputElement.removeAttribute('aria-invalid');\r\n                this.hideMessage();\r\n            }\r\n        }\r\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\r\n    }\r\n    stylesForType(type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\r\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\r\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\r\n        }\r\n    }\r\n    classForType(type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return 'info';\r\n            case 2 /* WARNING */: return 'warning';\r\n            default: return 'error';\r\n        }\r\n    }\r\n    _showMessage() {\r\n        if (!this.contextViewProvider || !this.message) {\r\n            return;\r\n        }\r\n        let div;\r\n        let layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\r\n        this.contextViewProvider.showContextView({\r\n            getAnchor: () => this.element,\r\n            anchorAlignment: 1 /* RIGHT */,\r\n            render: (container) => {\r\n                if (!this.message) {\r\n                    return null;\r\n                }\r\n                div = dom.append(container, $('.monaco-inputbox-container'));\r\n                layout();\r\n                const renderOptions = {\r\n                    inline: true,\r\n                    className: 'monaco-inputbox-message'\r\n                };\r\n                const spanElement = (this.message.formatContent\r\n                    ? renderFormattedText(this.message.content, renderOptions)\r\n                    : renderText(this.message.content, renderOptions));\r\n                spanElement.classList.add(this.classForType(this.message.type));\r\n                const styles = this.stylesForType(this.message.type);\r\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\r\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\r\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\r\n                dom.append(div, spanElement);\r\n                return null;\r\n            },\r\n            onHide: () => {\r\n                this.state = 'closed';\r\n            },\r\n            layout: layout\r\n        });\r\n        // ARIA Support\r\n        let alertText;\r\n        if (this.message.type === 3 /* ERROR */) {\r\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\r\n        }\r\n        else if (this.message.type === 2 /* WARNING */) {\r\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\r\n        }\r\n        else {\r\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\r\n        }\r\n        aria.alert(alertText);\r\n        this.state = 'open';\r\n    }\r\n    _hideMessage() {\r\n        if (!this.contextViewProvider) {\r\n            return;\r\n        }\r\n        if (this.state === 'open') {\r\n            this.contextViewProvider.hideContextView();\r\n        }\r\n        this.state = 'idle';\r\n    }\r\n    onValueChange() {\r\n        this._onDidChange.fire(this.value);\r\n        this.validate();\r\n        this.updateMirror();\r\n        this.input.classList.toggle('empty', !this.value);\r\n        if (this.state === 'open' && this.contextViewProvider) {\r\n            this.contextViewProvider.layout();\r\n        }\r\n    }\r\n    updateMirror() {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        const value = this.value;\r\n        const lastCharCode = value.charCodeAt(value.length - 1);\r\n        const suffix = lastCharCode === 10 ? ' ' : '';\r\n        const mirrorTextContent = value + suffix;\r\n        if (mirrorTextContent) {\r\n            this.mirror.textContent = value + suffix;\r\n        }\r\n        else {\r\n            this.mirror.innerText = '\\u00a0';\r\n        }\r\n        this.layout();\r\n    }\r\n    style(styles) {\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    }\r\n    applyStyles() {\r\n        const background = this.inputBackground ? this.inputBackground.toString() : '';\r\n        const foreground = this.inputForeground ? this.inputForeground.toString() : '';\r\n        const border = this.inputBorder ? this.inputBorder.toString() : '';\r\n        this.element.style.backgroundColor = background;\r\n        this.element.style.color = foreground;\r\n        this.input.style.backgroundColor = 'inherit';\r\n        this.input.style.color = foreground;\r\n        this.element.style.borderWidth = border ? '1px' : '';\r\n        this.element.style.borderStyle = border ? 'solid' : '';\r\n        this.element.style.borderColor = border;\r\n    }\r\n    layout() {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        const previousHeight = this.cachedContentHeight;\r\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\r\n        if (previousHeight !== this.cachedContentHeight) {\r\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\r\n            this.input.style.height = this.cachedHeight + 'px';\r\n            this._onDidHeightChange.fire(this.cachedContentHeight);\r\n        }\r\n    }\r\n    insertAtCursor(text) {\r\n        const inputElement = this.inputElement;\r\n        const start = inputElement.selectionStart;\r\n        const end = inputElement.selectionEnd;\r\n        const content = inputElement.value;\r\n        if (start !== null && end !== null) {\r\n            this.value = content.substr(0, start) + text + content.substr(end);\r\n            inputElement.setSelectionRange(start + 1, start + 1);\r\n            this.layout();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._hideMessage();\r\n        this.message = null;\r\n        if (this.actionbar) {\r\n            this.actionbar.dispose();\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexport class HistoryInputBox extends InputBox {\r\n    constructor(container, contextViewProvider, options) {\r\n        super(container, contextViewProvider, options);\r\n        this.history = new HistoryNavigator(options.history, 100);\r\n    }\r\n    addToHistory() {\r\n        if (this.value && this.value !== this.getCurrentValue()) {\r\n            this.history.add(this.value);\r\n        }\r\n    }\r\n    showNextValue() {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        let next = this.getNextValue();\r\n        if (next) {\r\n            next = next === this.value ? this.getNextValue() : next;\r\n        }\r\n        if (next) {\r\n            this.value = next;\r\n            aria.status(this.value);\r\n        }\r\n    }\r\n    showPreviousValue() {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        let previous = this.getPreviousValue();\r\n        if (previous) {\r\n            previous = previous === this.value ? this.getPreviousValue() : previous;\r\n        }\r\n        if (previous) {\r\n            this.value = previous;\r\n            aria.status(this.value);\r\n        }\r\n    }\r\n    getCurrentValue() {\r\n        let currentValue = this.history.current();\r\n        if (!currentValue) {\r\n            currentValue = this.history.last();\r\n            this.history.next();\r\n        }\r\n        return currentValue;\r\n    }\r\n    getPreviousValue() {\r\n        return this.history.previous() || this.history.first();\r\n    }\r\n    getNextValue() {\r\n        return this.history.next() || this.history.last();\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}