{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as platform from '../../../base/common/platform.js';\nimport { EditorZoom } from './editorZoom.js';\n/**\r\n * Determined from empirical observations.\r\n * @internal\r\n */\nconst GOLDEN_LINE_HEIGHT_RATIO = platform.isMacintosh ? 1.5 : 1.35;\n/**\r\n * @internal\r\n */\nconst MINIMUM_LINE_HEIGHT = 8;\nexport class BareFontInfo {\n  /**\r\n   * @internal\r\n   */\n  constructor(opts) {\n    this.zoomLevel = opts.zoomLevel;\n    this.pixelRatio = opts.pixelRatio;\n    this.fontFamily = String(opts.fontFamily);\n    this.fontWeight = String(opts.fontWeight);\n    this.fontSize = opts.fontSize;\n    this.fontFeatureSettings = opts.fontFeatureSettings;\n    this.lineHeight = opts.lineHeight | 0;\n    this.letterSpacing = opts.letterSpacing;\n  }\n  /**\r\n   * @internal\r\n   */\n  static createFromValidatedSettings(options, zoomLevel, pixelRatio, ignoreEditorZoom) {\n    const fontFamily = options.get(37 /* fontFamily */);\n    const fontWeight = options.get(41 /* fontWeight */);\n    const fontSize = options.get(40 /* fontSize */);\n    const fontFeatureSettings = options.get(39 /* fontLigatures */);\n    const lineHeight = options.get(53 /* lineHeight */);\n    const letterSpacing = options.get(50 /* letterSpacing */);\n    return BareFontInfo._create(fontFamily, fontWeight, fontSize, fontFeatureSettings, lineHeight, letterSpacing, zoomLevel, pixelRatio, ignoreEditorZoom);\n  }\n  /**\r\n   * @internal\r\n   */\n  static _create(fontFamily, fontWeight, fontSize, fontFeatureSettings, lineHeight, letterSpacing, zoomLevel, pixelRatio, ignoreEditorZoom) {\n    if (lineHeight === 0) {\n      lineHeight = Math.round(GOLDEN_LINE_HEIGHT_RATIO * fontSize);\n    } else if (lineHeight < MINIMUM_LINE_HEIGHT) {\n      lineHeight = MINIMUM_LINE_HEIGHT;\n    }\n    const editorZoomLevelMultiplier = 1 + (ignoreEditorZoom ? 0 : EditorZoom.getZoomLevel() * 0.1);\n    fontSize *= editorZoomLevelMultiplier;\n    lineHeight *= editorZoomLevelMultiplier;\n    return new BareFontInfo({\n      zoomLevel: zoomLevel,\n      pixelRatio: pixelRatio,\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: fontSize,\n      fontFeatureSettings: fontFeatureSettings,\n      lineHeight: lineHeight,\n      letterSpacing: letterSpacing\n    });\n  }\n  /**\r\n   * @internal\r\n   */\n  getId() {\n    return this.zoomLevel + '-' + this.pixelRatio + '-' + this.fontFamily + '-' + this.fontWeight + '-' + this.fontSize + '-' + this.fontFeatureSettings + '-' + this.lineHeight + '-' + this.letterSpacing;\n  }\n  /**\r\n   * @internal\r\n   */\n  getMassagedFontFamily() {\n    if (/[,\"']/.test(this.fontFamily)) {\n      // Looks like the font family might be already escaped\n      return this.fontFamily;\n    }\n    if (/[+ ]/.test(this.fontFamily)) {\n      // Wrap a font family using + or <space> with quotes\n      return \"\\\"\".concat(this.fontFamily, \"\\\"\");\n    }\n    return this.fontFamily;\n  }\n}\n// change this whenever `FontInfo` members are changed\nexport const SERIALIZED_FONT_INFO_VERSION = 1;\nexport class FontInfo extends BareFontInfo {\n  /**\r\n   * @internal\r\n   */\n  constructor(opts, isTrusted) {\n    super(opts);\n    this.version = SERIALIZED_FONT_INFO_VERSION;\n    this.isTrusted = isTrusted;\n    this.isMonospace = opts.isMonospace;\n    this.typicalHalfwidthCharacterWidth = opts.typicalHalfwidthCharacterWidth;\n    this.typicalFullwidthCharacterWidth = opts.typicalFullwidthCharacterWidth;\n    this.canUseHalfwidthRightwardsArrow = opts.canUseHalfwidthRightwardsArrow;\n    this.spaceWidth = opts.spaceWidth;\n    this.middotWidth = opts.middotWidth;\n    this.wsmiddotWidth = opts.wsmiddotWidth;\n    this.maxDigitWidth = opts.maxDigitWidth;\n  }\n  /**\r\n   * @internal\r\n   */\n  equals(other) {\n    return this.fontFamily === other.fontFamily && this.fontWeight === other.fontWeight && this.fontSize === other.fontSize && this.fontFeatureSettings === other.fontFeatureSettings && this.lineHeight === other.lineHeight && this.letterSpacing === other.letterSpacing && this.typicalHalfwidthCharacterWidth === other.typicalHalfwidthCharacterWidth && this.typicalFullwidthCharacterWidth === other.typicalFullwidthCharacterWidth && this.canUseHalfwidthRightwardsArrow === other.canUseHalfwidthRightwardsArrow && this.spaceWidth === other.spaceWidth && this.middotWidth === other.middotWidth && this.wsmiddotWidth === other.wsmiddotWidth && this.maxDigitWidth === other.maxDigitWidth;\n  }\n}","map":{"version":3,"names":["platform","EditorZoom","GOLDEN_LINE_HEIGHT_RATIO","isMacintosh","MINIMUM_LINE_HEIGHT","BareFontInfo","constructor","opts","zoomLevel","pixelRatio","fontFamily","String","fontWeight","fontSize","fontFeatureSettings","lineHeight","letterSpacing","createFromValidatedSettings","options","ignoreEditorZoom","get","_create","Math","round","editorZoomLevelMultiplier","getZoomLevel","getId","getMassagedFontFamily","test","concat","SERIALIZED_FONT_INFO_VERSION","FontInfo","isTrusted","version","isMonospace","typicalHalfwidthCharacterWidth","typicalFullwidthCharacterWidth","canUseHalfwidthRightwardsArrow","spaceWidth","middotWidth","wsmiddotWidth","maxDigitWidth","equals","other"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/common/config/fontInfo.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { EditorZoom } from './editorZoom.js';\r\n/**\r\n * Determined from empirical observations.\r\n * @internal\r\n */\r\nconst GOLDEN_LINE_HEIGHT_RATIO = platform.isMacintosh ? 1.5 : 1.35;\r\n/**\r\n * @internal\r\n */\r\nconst MINIMUM_LINE_HEIGHT = 8;\r\nexport class BareFontInfo {\r\n    /**\r\n     * @internal\r\n     */\r\n    constructor(opts) {\r\n        this.zoomLevel = opts.zoomLevel;\r\n        this.pixelRatio = opts.pixelRatio;\r\n        this.fontFamily = String(opts.fontFamily);\r\n        this.fontWeight = String(opts.fontWeight);\r\n        this.fontSize = opts.fontSize;\r\n        this.fontFeatureSettings = opts.fontFeatureSettings;\r\n        this.lineHeight = opts.lineHeight | 0;\r\n        this.letterSpacing = opts.letterSpacing;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    static createFromValidatedSettings(options, zoomLevel, pixelRatio, ignoreEditorZoom) {\r\n        const fontFamily = options.get(37 /* fontFamily */);\r\n        const fontWeight = options.get(41 /* fontWeight */);\r\n        const fontSize = options.get(40 /* fontSize */);\r\n        const fontFeatureSettings = options.get(39 /* fontLigatures */);\r\n        const lineHeight = options.get(53 /* lineHeight */);\r\n        const letterSpacing = options.get(50 /* letterSpacing */);\r\n        return BareFontInfo._create(fontFamily, fontWeight, fontSize, fontFeatureSettings, lineHeight, letterSpacing, zoomLevel, pixelRatio, ignoreEditorZoom);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    static _create(fontFamily, fontWeight, fontSize, fontFeatureSettings, lineHeight, letterSpacing, zoomLevel, pixelRatio, ignoreEditorZoom) {\r\n        if (lineHeight === 0) {\r\n            lineHeight = Math.round(GOLDEN_LINE_HEIGHT_RATIO * fontSize);\r\n        }\r\n        else if (lineHeight < MINIMUM_LINE_HEIGHT) {\r\n            lineHeight = MINIMUM_LINE_HEIGHT;\r\n        }\r\n        const editorZoomLevelMultiplier = 1 + (ignoreEditorZoom ? 0 : EditorZoom.getZoomLevel() * 0.1);\r\n        fontSize *= editorZoomLevelMultiplier;\r\n        lineHeight *= editorZoomLevelMultiplier;\r\n        return new BareFontInfo({\r\n            zoomLevel: zoomLevel,\r\n            pixelRatio: pixelRatio,\r\n            fontFamily: fontFamily,\r\n            fontWeight: fontWeight,\r\n            fontSize: fontSize,\r\n            fontFeatureSettings: fontFeatureSettings,\r\n            lineHeight: lineHeight,\r\n            letterSpacing: letterSpacing\r\n        });\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getId() {\r\n        return this.zoomLevel + '-' + this.pixelRatio + '-' + this.fontFamily + '-' + this.fontWeight + '-' + this.fontSize + '-' + this.fontFeatureSettings + '-' + this.lineHeight + '-' + this.letterSpacing;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getMassagedFontFamily() {\r\n        if (/[,\"']/.test(this.fontFamily)) {\r\n            // Looks like the font family might be already escaped\r\n            return this.fontFamily;\r\n        }\r\n        if (/[+ ]/.test(this.fontFamily)) {\r\n            // Wrap a font family using + or <space> with quotes\r\n            return `\"${this.fontFamily}\"`;\r\n        }\r\n        return this.fontFamily;\r\n    }\r\n}\r\n// change this whenever `FontInfo` members are changed\r\nexport const SERIALIZED_FONT_INFO_VERSION = 1;\r\nexport class FontInfo extends BareFontInfo {\r\n    /**\r\n     * @internal\r\n     */\r\n    constructor(opts, isTrusted) {\r\n        super(opts);\r\n        this.version = SERIALIZED_FONT_INFO_VERSION;\r\n        this.isTrusted = isTrusted;\r\n        this.isMonospace = opts.isMonospace;\r\n        this.typicalHalfwidthCharacterWidth = opts.typicalHalfwidthCharacterWidth;\r\n        this.typicalFullwidthCharacterWidth = opts.typicalFullwidthCharacterWidth;\r\n        this.canUseHalfwidthRightwardsArrow = opts.canUseHalfwidthRightwardsArrow;\r\n        this.spaceWidth = opts.spaceWidth;\r\n        this.middotWidth = opts.middotWidth;\r\n        this.wsmiddotWidth = opts.wsmiddotWidth;\r\n        this.maxDigitWidth = opts.maxDigitWidth;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    equals(other) {\r\n        return (this.fontFamily === other.fontFamily\r\n            && this.fontWeight === other.fontWeight\r\n            && this.fontSize === other.fontSize\r\n            && this.fontFeatureSettings === other.fontFeatureSettings\r\n            && this.lineHeight === other.lineHeight\r\n            && this.letterSpacing === other.letterSpacing\r\n            && this.typicalHalfwidthCharacterWidth === other.typicalHalfwidthCharacterWidth\r\n            && this.typicalFullwidthCharacterWidth === other.typicalFullwidthCharacterWidth\r\n            && this.canUseHalfwidthRightwardsArrow === other.canUseHalfwidthRightwardsArrow\r\n            && this.spaceWidth === other.spaceWidth\r\n            && this.middotWidth === other.middotWidth\r\n            && this.wsmiddotWidth === other.wsmiddotWidth\r\n            && this.maxDigitWidth === other.maxDigitWidth);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}