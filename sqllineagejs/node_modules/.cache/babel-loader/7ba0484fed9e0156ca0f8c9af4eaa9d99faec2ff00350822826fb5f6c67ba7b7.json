{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as objects from '../../../common/objects.js';\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nexport class HighlightedLabel {\n  constructor(container, supportIcons) {\n    this.supportIcons = supportIcons;\n    this.text = '';\n    this.title = '';\n    this.highlights = [];\n    this.didEverRender = false;\n    this.domNode = document.createElement('span');\n    this.domNode.className = 'monaco-highlighted-label';\n    container.appendChild(this.domNode);\n  }\n  get element() {\n    return this.domNode;\n  }\n  set(text) {\n    let highlights = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let title = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    let escapeNewLines = arguments.length > 3 ? arguments[3] : undefined;\n    if (!text) {\n      text = '';\n    }\n    if (escapeNewLines) {\n      // adjusts highlights inplace\n      text = HighlightedLabel.escapeNewLines(text, highlights);\n    }\n    if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n      return;\n    }\n    this.text = text;\n    this.title = title;\n    this.highlights = highlights;\n    this.render();\n  }\n  render() {\n    const children = [];\n    let pos = 0;\n    for (const highlight of this.highlights) {\n      if (highlight.end === highlight.start) {\n        continue;\n      }\n      if (pos < highlight.start) {\n        const substring = this.text.substring(pos, highlight.start);\n        children.push(dom.$('span', undefined, ...(this.supportIcons ? renderLabelWithIcons(substring) : [substring])));\n        pos = highlight.end;\n      }\n      const substring = this.text.substring(highlight.start, highlight.end);\n      const element = dom.$('span.highlight', undefined, ...(this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n      if (highlight.extraClasses) {\n        element.classList.add(highlight.extraClasses);\n      }\n      children.push(element);\n      pos = highlight.end;\n    }\n    if (pos < this.text.length) {\n      const substring = this.text.substring(pos);\n      children.push(dom.$('span', undefined, ...(this.supportIcons ? renderLabelWithIcons(substring) : [substring])));\n    }\n    dom.reset(this.domNode, ...children);\n    if (this.title) {\n      this.domNode.title = this.title;\n    } else {\n      this.domNode.removeAttribute('title');\n    }\n    this.didEverRender = true;\n  }\n  static escapeNewLines(text, highlights) {\n    let total = 0;\n    let extra = 0;\n    return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n      extra = match === '\\r\\n' ? -1 : 0;\n      offset += total;\n      for (const highlight of highlights) {\n        if (highlight.end <= offset) {\n          continue;\n        }\n        if (highlight.start >= offset) {\n          highlight.start += extra;\n        }\n        if (highlight.end >= offset) {\n          highlight.end += extra;\n        }\n      }\n      total += extra;\n      return '\\u23CE';\n    });\n  }\n}","map":{"version":3,"names":["objects","dom","renderLabelWithIcons","HighlightedLabel","constructor","container","supportIcons","text","title","highlights","didEverRender","domNode","document","createElement","className","appendChild","element","set","arguments","length","undefined","escapeNewLines","equals","render","children","pos","highlight","end","start","substring","push","$","extraClasses","classList","add","reset","removeAttribute","total","extra","replace","match","offset"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as objects from '../../../common/objects.js';\r\nimport * as dom from '../../dom.js';\r\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\r\nexport class HighlightedLabel {\r\n    constructor(container, supportIcons) {\r\n        this.supportIcons = supportIcons;\r\n        this.text = '';\r\n        this.title = '';\r\n        this.highlights = [];\r\n        this.didEverRender = false;\r\n        this.domNode = document.createElement('span');\r\n        this.domNode.className = 'monaco-highlighted-label';\r\n        container.appendChild(this.domNode);\r\n    }\r\n    get element() {\r\n        return this.domNode;\r\n    }\r\n    set(text, highlights = [], title = '', escapeNewLines) {\r\n        if (!text) {\r\n            text = '';\r\n        }\r\n        if (escapeNewLines) {\r\n            // adjusts highlights inplace\r\n            text = HighlightedLabel.escapeNewLines(text, highlights);\r\n        }\r\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\r\n            return;\r\n        }\r\n        this.text = text;\r\n        this.title = title;\r\n        this.highlights = highlights;\r\n        this.render();\r\n    }\r\n    render() {\r\n        const children = [];\r\n        let pos = 0;\r\n        for (const highlight of this.highlights) {\r\n            if (highlight.end === highlight.start) {\r\n                continue;\r\n            }\r\n            if (pos < highlight.start) {\r\n                const substring = this.text.substring(pos, highlight.start);\r\n                children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\r\n                pos = highlight.end;\r\n            }\r\n            const substring = this.text.substring(highlight.start, highlight.end);\r\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\r\n            if (highlight.extraClasses) {\r\n                element.classList.add(highlight.extraClasses);\r\n            }\r\n            children.push(element);\r\n            pos = highlight.end;\r\n        }\r\n        if (pos < this.text.length) {\r\n            const substring = this.text.substring(pos);\r\n            children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\r\n        }\r\n        dom.reset(this.domNode, ...children);\r\n        if (this.title) {\r\n            this.domNode.title = this.title;\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('title');\r\n        }\r\n        this.didEverRender = true;\r\n    }\r\n    static escapeNewLines(text, highlights) {\r\n        let total = 0;\r\n        let extra = 0;\r\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\r\n            extra = match === '\\r\\n' ? -1 : 0;\r\n            offset += total;\r\n            for (const highlight of highlights) {\r\n                if (highlight.end <= offset) {\r\n                    continue;\r\n                }\r\n                if (highlight.start >= offset) {\r\n                    highlight.start += extra;\r\n                }\r\n                if (highlight.end >= offset) {\r\n                    highlight.end += extra;\r\n                }\r\n            }\r\n            total += extra;\r\n            return '\\u23CE';\r\n        });\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}