{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Event, Emitter } from '../../../base/common/event.js';\nimport { MarkerSeverity } from './markers.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nclass DoubleResourceMap {\n  constructor() {\n    this._byResource = new ResourceMap();\n    this._byOwner = new Map();\n  }\n  set(resource, owner, value) {\n    let ownerMap = this._byResource.get(resource);\n    if (!ownerMap) {\n      ownerMap = new Map();\n      this._byResource.set(resource, ownerMap);\n    }\n    ownerMap.set(owner, value);\n    let resourceMap = this._byOwner.get(owner);\n    if (!resourceMap) {\n      resourceMap = new ResourceMap();\n      this._byOwner.set(owner, resourceMap);\n    }\n    resourceMap.set(resource, value);\n  }\n  get(resource, owner) {\n    let ownerMap = this._byResource.get(resource);\n    return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n  }\n  delete(resource, owner) {\n    let removedA = false;\n    let removedB = false;\n    let ownerMap = this._byResource.get(resource);\n    if (ownerMap) {\n      removedA = ownerMap.delete(owner);\n    }\n    let resourceMap = this._byOwner.get(owner);\n    if (resourceMap) {\n      removedB = resourceMap.delete(resource);\n    }\n    if (removedA !== removedB) {\n      throw new Error('illegal state');\n    }\n    return removedA && removedB;\n  }\n  values(key) {\n    var _a, _b, _c, _d;\n    if (typeof key === 'string') {\n      return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n    }\n    if (URI.isUri(key)) {\n      return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n    }\n    return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n  }\n}\nclass MarkerStats {\n  constructor(service) {\n    this.errors = 0;\n    this.infos = 0;\n    this.warnings = 0;\n    this.unknowns = 0;\n    this._data = new ResourceMap();\n    this._service = service;\n    this._subscription = service.onMarkerChanged(this._update, this);\n  }\n  dispose() {\n    this._subscription.dispose();\n  }\n  _update(resources) {\n    for (const resource of resources) {\n      const oldStats = this._data.get(resource);\n      if (oldStats) {\n        this._substract(oldStats);\n      }\n      const newStats = this._resourceStats(resource);\n      this._add(newStats);\n      this._data.set(resource, newStats);\n    }\n  }\n  _resourceStats(resource) {\n    const result = {\n      errors: 0,\n      warnings: 0,\n      infos: 0,\n      unknowns: 0\n    };\n    // TODO this is a hack\n    if (resource.scheme === Schemas.inMemory || resource.scheme === Schemas.walkThrough || resource.scheme === Schemas.walkThroughSnippet) {\n      return result;\n    }\n    for (const {\n      severity\n    } of this._service.read({\n      resource\n    })) {\n      if (severity === MarkerSeverity.Error) {\n        result.errors += 1;\n      } else if (severity === MarkerSeverity.Warning) {\n        result.warnings += 1;\n      } else if (severity === MarkerSeverity.Info) {\n        result.infos += 1;\n      } else {\n        result.unknowns += 1;\n      }\n    }\n    return result;\n  }\n  _substract(op) {\n    this.errors -= op.errors;\n    this.warnings -= op.warnings;\n    this.infos -= op.infos;\n    this.unknowns -= op.unknowns;\n  }\n  _add(op) {\n    this.errors += op.errors;\n    this.warnings += op.warnings;\n    this.infos += op.infos;\n    this.unknowns += op.unknowns;\n  }\n}\nexport class MarkerService {\n  constructor() {\n    this._onMarkerChanged = new Emitter();\n    this.onMarkerChanged = Event.debounce(this._onMarkerChanged.event, MarkerService._debouncer, 0);\n    this._data = new DoubleResourceMap();\n    this._stats = new MarkerStats(this);\n  }\n  dispose() {\n    this._stats.dispose();\n    this._onMarkerChanged.dispose();\n  }\n  remove(owner, resources) {\n    for (const resource of resources || []) {\n      this.changeOne(owner, resource, []);\n    }\n  }\n  changeOne(owner, resource, markerData) {\n    if (isFalsyOrEmpty(markerData)) {\n      // remove marker for this (owner,resource)-tuple\n      const removed = this._data.delete(resource, owner);\n      if (removed) {\n        this._onMarkerChanged.fire([resource]);\n      }\n    } else {\n      // insert marker for this (owner,resource)-tuple\n      const markers = [];\n      for (const data of markerData) {\n        const marker = MarkerService._toMarker(owner, resource, data);\n        if (marker) {\n          markers.push(marker);\n        }\n      }\n      this._data.set(resource, owner, markers);\n      this._onMarkerChanged.fire([resource]);\n    }\n  }\n  static _toMarker(owner, resource, data) {\n    let {\n      code,\n      severity,\n      message,\n      source,\n      startLineNumber,\n      startColumn,\n      endLineNumber,\n      endColumn,\n      relatedInformation,\n      tags\n    } = data;\n    if (!message) {\n      return undefined;\n    }\n    // santize data\n    startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n    startColumn = startColumn > 0 ? startColumn : 1;\n    endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n    endColumn = endColumn > 0 ? endColumn : startColumn;\n    return {\n      resource,\n      owner,\n      code,\n      severity,\n      message,\n      source,\n      startLineNumber,\n      startColumn,\n      endLineNumber,\n      endColumn,\n      relatedInformation,\n      tags\n    };\n  }\n  read() {\n    let filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object.create(null);\n    let {\n      owner,\n      resource,\n      severities,\n      take\n    } = filter;\n    if (!take || take < 0) {\n      take = -1;\n    }\n    if (owner && resource) {\n      // exactly one owner AND resource\n      const data = this._data.get(resource, owner);\n      if (!data) {\n        return [];\n      } else {\n        const result = [];\n        for (const marker of data) {\n          if (MarkerService._accept(marker, severities)) {\n            const newLen = result.push(marker);\n            if (take > 0 && newLen === take) {\n              break;\n            }\n          }\n        }\n        return result;\n      }\n    } else if (!owner && !resource) {\n      // all\n      const result = [];\n      for (let markers of this._data.values()) {\n        for (let data of markers) {\n          if (MarkerService._accept(data, severities)) {\n            const newLen = result.push(data);\n            if (take > 0 && newLen === take) {\n              return result;\n            }\n          }\n        }\n      }\n      return result;\n    } else {\n      // of one resource OR owner\n      const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n      const result = [];\n      for (const markers of iterable) {\n        for (const data of markers) {\n          if (MarkerService._accept(data, severities)) {\n            const newLen = result.push(data);\n            if (take > 0 && newLen === take) {\n              return result;\n            }\n          }\n        }\n      }\n      return result;\n    }\n  }\n  static _accept(marker, severities) {\n    return severities === undefined || (severities & marker.severity) === marker.severity;\n  }\n  static _debouncer(last, event) {\n    if (!last) {\n      MarkerService._dedupeMap = new ResourceMap();\n      last = [];\n    }\n    for (const uri of event) {\n      if (!MarkerService._dedupeMap.has(uri)) {\n        MarkerService._dedupeMap.set(uri, true);\n        last.push(uri);\n      }\n    }\n    return last;\n  }\n}","map":{"version":3,"names":["isFalsyOrEmpty","Schemas","URI","Event","Emitter","MarkerSeverity","ResourceMap","Iterable","DoubleResourceMap","constructor","_byResource","_byOwner","Map","set","resource","owner","value","ownerMap","get","resourceMap","delete","removedA","removedB","Error","values","key","_a","_b","_c","_d","empty","isUri","map","concat","MarkerStats","service","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","dispose","resources","oldStats","_substract","newStats","_resourceStats","_add","result","scheme","inMemory","walkThrough","walkThroughSnippet","severity","read","Warning","Info","op","MarkerService","_onMarkerChanged","debounce","event","_debouncer","_stats","remove","changeOne","markerData","removed","fire","markers","data","marker","_toMarker","push","code","message","source","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","undefined","filter","arguments","length","Object","create","severities","take","_accept","newLen","iterable","last","_dedupeMap","uri","has"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\r\nimport { Schemas } from '../../../base/common/network.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Event, Emitter } from '../../../base/common/event.js';\r\nimport { MarkerSeverity } from './markers.js';\r\nimport { ResourceMap } from '../../../base/common/map.js';\r\nimport { Iterable } from '../../../base/common/iterator.js';\r\nclass DoubleResourceMap {\r\n    constructor() {\r\n        this._byResource = new ResourceMap();\r\n        this._byOwner = new Map();\r\n    }\r\n    set(resource, owner, value) {\r\n        let ownerMap = this._byResource.get(resource);\r\n        if (!ownerMap) {\r\n            ownerMap = new Map();\r\n            this._byResource.set(resource, ownerMap);\r\n        }\r\n        ownerMap.set(owner, value);\r\n        let resourceMap = this._byOwner.get(owner);\r\n        if (!resourceMap) {\r\n            resourceMap = new ResourceMap();\r\n            this._byOwner.set(owner, resourceMap);\r\n        }\r\n        resourceMap.set(resource, value);\r\n    }\r\n    get(resource, owner) {\r\n        let ownerMap = this._byResource.get(resource);\r\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\r\n    }\r\n    delete(resource, owner) {\r\n        let removedA = false;\r\n        let removedB = false;\r\n        let ownerMap = this._byResource.get(resource);\r\n        if (ownerMap) {\r\n            removedA = ownerMap.delete(owner);\r\n        }\r\n        let resourceMap = this._byOwner.get(owner);\r\n        if (resourceMap) {\r\n            removedB = resourceMap.delete(resource);\r\n        }\r\n        if (removedA !== removedB) {\r\n            throw new Error('illegal state');\r\n        }\r\n        return removedA && removedB;\r\n    }\r\n    values(key) {\r\n        var _a, _b, _c, _d;\r\n        if (typeof key === 'string') {\r\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\r\n        }\r\n        if (URI.isUri(key)) {\r\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\r\n        }\r\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\r\n    }\r\n}\r\nclass MarkerStats {\r\n    constructor(service) {\r\n        this.errors = 0;\r\n        this.infos = 0;\r\n        this.warnings = 0;\r\n        this.unknowns = 0;\r\n        this._data = new ResourceMap();\r\n        this._service = service;\r\n        this._subscription = service.onMarkerChanged(this._update, this);\r\n    }\r\n    dispose() {\r\n        this._subscription.dispose();\r\n    }\r\n    _update(resources) {\r\n        for (const resource of resources) {\r\n            const oldStats = this._data.get(resource);\r\n            if (oldStats) {\r\n                this._substract(oldStats);\r\n            }\r\n            const newStats = this._resourceStats(resource);\r\n            this._add(newStats);\r\n            this._data.set(resource, newStats);\r\n        }\r\n    }\r\n    _resourceStats(resource) {\r\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\r\n        // TODO this is a hack\r\n        if (resource.scheme === Schemas.inMemory || resource.scheme === Schemas.walkThrough || resource.scheme === Schemas.walkThroughSnippet) {\r\n            return result;\r\n        }\r\n        for (const { severity } of this._service.read({ resource })) {\r\n            if (severity === MarkerSeverity.Error) {\r\n                result.errors += 1;\r\n            }\r\n            else if (severity === MarkerSeverity.Warning) {\r\n                result.warnings += 1;\r\n            }\r\n            else if (severity === MarkerSeverity.Info) {\r\n                result.infos += 1;\r\n            }\r\n            else {\r\n                result.unknowns += 1;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    _substract(op) {\r\n        this.errors -= op.errors;\r\n        this.warnings -= op.warnings;\r\n        this.infos -= op.infos;\r\n        this.unknowns -= op.unknowns;\r\n    }\r\n    _add(op) {\r\n        this.errors += op.errors;\r\n        this.warnings += op.warnings;\r\n        this.infos += op.infos;\r\n        this.unknowns += op.unknowns;\r\n    }\r\n}\r\nexport class MarkerService {\r\n    constructor() {\r\n        this._onMarkerChanged = new Emitter();\r\n        this.onMarkerChanged = Event.debounce(this._onMarkerChanged.event, MarkerService._debouncer, 0);\r\n        this._data = new DoubleResourceMap();\r\n        this._stats = new MarkerStats(this);\r\n    }\r\n    dispose() {\r\n        this._stats.dispose();\r\n        this._onMarkerChanged.dispose();\r\n    }\r\n    remove(owner, resources) {\r\n        for (const resource of resources || []) {\r\n            this.changeOne(owner, resource, []);\r\n        }\r\n    }\r\n    changeOne(owner, resource, markerData) {\r\n        if (isFalsyOrEmpty(markerData)) {\r\n            // remove marker for this (owner,resource)-tuple\r\n            const removed = this._data.delete(resource, owner);\r\n            if (removed) {\r\n                this._onMarkerChanged.fire([resource]);\r\n            }\r\n        }\r\n        else {\r\n            // insert marker for this (owner,resource)-tuple\r\n            const markers = [];\r\n            for (const data of markerData) {\r\n                const marker = MarkerService._toMarker(owner, resource, data);\r\n                if (marker) {\r\n                    markers.push(marker);\r\n                }\r\n            }\r\n            this._data.set(resource, owner, markers);\r\n            this._onMarkerChanged.fire([resource]);\r\n        }\r\n    }\r\n    static _toMarker(owner, resource, data) {\r\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\r\n        if (!message) {\r\n            return undefined;\r\n        }\r\n        // santize data\r\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\r\n        startColumn = startColumn > 0 ? startColumn : 1;\r\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\r\n        endColumn = endColumn > 0 ? endColumn : startColumn;\r\n        return {\r\n            resource,\r\n            owner,\r\n            code,\r\n            severity,\r\n            message,\r\n            source,\r\n            startLineNumber,\r\n            startColumn,\r\n            endLineNumber,\r\n            endColumn,\r\n            relatedInformation,\r\n            tags,\r\n        };\r\n    }\r\n    read(filter = Object.create(null)) {\r\n        let { owner, resource, severities, take } = filter;\r\n        if (!take || take < 0) {\r\n            take = -1;\r\n        }\r\n        if (owner && resource) {\r\n            // exactly one owner AND resource\r\n            const data = this._data.get(resource, owner);\r\n            if (!data) {\r\n                return [];\r\n            }\r\n            else {\r\n                const result = [];\r\n                for (const marker of data) {\r\n                    if (MarkerService._accept(marker, severities)) {\r\n                        const newLen = result.push(marker);\r\n                        if (take > 0 && newLen === take) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n        else if (!owner && !resource) {\r\n            // all\r\n            const result = [];\r\n            for (let markers of this._data.values()) {\r\n                for (let data of markers) {\r\n                    if (MarkerService._accept(data, severities)) {\r\n                        const newLen = result.push(data);\r\n                        if (take > 0 && newLen === take) {\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            // of one resource OR owner\r\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\r\n            const result = [];\r\n            for (const markers of iterable) {\r\n                for (const data of markers) {\r\n                    if (MarkerService._accept(data, severities)) {\r\n                        const newLen = result.push(data);\r\n                        if (take > 0 && newLen === take) {\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    static _accept(marker, severities) {\r\n        return severities === undefined || (severities & marker.severity) === marker.severity;\r\n    }\r\n    static _debouncer(last, event) {\r\n        if (!last) {\r\n            MarkerService._dedupeMap = new ResourceMap();\r\n            last = [];\r\n        }\r\n        for (const uri of event) {\r\n            if (!MarkerService._dedupeMap.has(uri)) {\r\n                MarkerService._dedupeMap.set(uri, true);\r\n                last.push(uri);\r\n            }\r\n        }\r\n        return last;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}