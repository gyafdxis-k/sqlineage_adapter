{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nexport class ScrollbarVisibilityController extends Disposable {\n  constructor(visibility, visibleClassName, invisibleClassName) {\n    super();\n    this._visibility = visibility;\n    this._visibleClassName = visibleClassName;\n    this._invisibleClassName = invisibleClassName;\n    this._domNode = null;\n    this._isVisible = false;\n    this._isNeeded = false;\n    this._shouldBeVisible = false;\n    this._revealTimer = this._register(new TimeoutTimer());\n  }\n  // ----------------- Hide / Reveal\n  applyVisibilitySetting(shouldBeVisible) {\n    if (this._visibility === 2 /* Hidden */) {\n      return false;\n    }\n    if (this._visibility === 3 /* Visible */) {\n      return true;\n    }\n    return shouldBeVisible;\n  }\n  setShouldBeVisible(rawShouldBeVisible) {\n    const shouldBeVisible = this.applyVisibilitySetting(rawShouldBeVisible);\n    if (this._shouldBeVisible !== shouldBeVisible) {\n      this._shouldBeVisible = shouldBeVisible;\n      this.ensureVisibility();\n    }\n  }\n  setIsNeeded(isNeeded) {\n    if (this._isNeeded !== isNeeded) {\n      this._isNeeded = isNeeded;\n      this.ensureVisibility();\n    }\n  }\n  setDomNode(domNode) {\n    this._domNode = domNode;\n    this._domNode.setClassName(this._invisibleClassName);\n    // Now that the flags & the dom node are in a consistent state, ensure the Hidden/Visible configuration\n    this.setShouldBeVisible(false);\n  }\n  ensureVisibility() {\n    if (!this._isNeeded) {\n      // Nothing to be rendered\n      this._hide(false);\n      return;\n    }\n    if (this._shouldBeVisible) {\n      this._reveal();\n    } else {\n      this._hide(true);\n    }\n  }\n  _reveal() {\n    if (this._isVisible) {\n      return;\n    }\n    this._isVisible = true;\n    // The CSS animation doesn't play otherwise\n    this._revealTimer.setIfNotSet(() => {\n      if (this._domNode) {\n        this._domNode.setClassName(this._visibleClassName);\n      }\n    }, 0);\n  }\n  _hide(withFadeAway) {\n    this._revealTimer.cancel();\n    if (!this._isVisible) {\n      return;\n    }\n    this._isVisible = false;\n    if (this._domNode) {\n      this._domNode.setClassName(this._invisibleClassName + (withFadeAway ? ' fade' : ''));\n    }\n  }\n}","map":{"version":3,"names":["TimeoutTimer","Disposable","ScrollbarVisibilityController","constructor","visibility","visibleClassName","invisibleClassName","_visibility","_visibleClassName","_invisibleClassName","_domNode","_isVisible","_isNeeded","_shouldBeVisible","_revealTimer","_register","applyVisibilitySetting","shouldBeVisible","setShouldBeVisible","rawShouldBeVisible","ensureVisibility","setIsNeeded","isNeeded","setDomNode","domNode","setClassName","_hide","_reveal","setIfNotSet","withFadeAway","cancel"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollbarVisibilityController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { TimeoutTimer } from '../../../common/async.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nexport class ScrollbarVisibilityController extends Disposable {\r\n    constructor(visibility, visibleClassName, invisibleClassName) {\r\n        super();\r\n        this._visibility = visibility;\r\n        this._visibleClassName = visibleClassName;\r\n        this._invisibleClassName = invisibleClassName;\r\n        this._domNode = null;\r\n        this._isVisible = false;\r\n        this._isNeeded = false;\r\n        this._shouldBeVisible = false;\r\n        this._revealTimer = this._register(new TimeoutTimer());\r\n    }\r\n    // ----------------- Hide / Reveal\r\n    applyVisibilitySetting(shouldBeVisible) {\r\n        if (this._visibility === 2 /* Hidden */) {\r\n            return false;\r\n        }\r\n        if (this._visibility === 3 /* Visible */) {\r\n            return true;\r\n        }\r\n        return shouldBeVisible;\r\n    }\r\n    setShouldBeVisible(rawShouldBeVisible) {\r\n        const shouldBeVisible = this.applyVisibilitySetting(rawShouldBeVisible);\r\n        if (this._shouldBeVisible !== shouldBeVisible) {\r\n            this._shouldBeVisible = shouldBeVisible;\r\n            this.ensureVisibility();\r\n        }\r\n    }\r\n    setIsNeeded(isNeeded) {\r\n        if (this._isNeeded !== isNeeded) {\r\n            this._isNeeded = isNeeded;\r\n            this.ensureVisibility();\r\n        }\r\n    }\r\n    setDomNode(domNode) {\r\n        this._domNode = domNode;\r\n        this._domNode.setClassName(this._invisibleClassName);\r\n        // Now that the flags & the dom node are in a consistent state, ensure the Hidden/Visible configuration\r\n        this.setShouldBeVisible(false);\r\n    }\r\n    ensureVisibility() {\r\n        if (!this._isNeeded) {\r\n            // Nothing to be rendered\r\n            this._hide(false);\r\n            return;\r\n        }\r\n        if (this._shouldBeVisible) {\r\n            this._reveal();\r\n        }\r\n        else {\r\n            this._hide(true);\r\n        }\r\n    }\r\n    _reveal() {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        // The CSS animation doesn't play otherwise\r\n        this._revealTimer.setIfNotSet(() => {\r\n            if (this._domNode) {\r\n                this._domNode.setClassName(this._visibleClassName);\r\n            }\r\n        }, 0);\r\n    }\r\n    _hide(withFadeAway) {\r\n        this._revealTimer.cancel();\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        if (this._domNode) {\r\n            this._domNode.setClassName(this._invisibleClassName + (withFadeAway ? ' fade' : ''));\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}