{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './zoneWidget.css';\nimport * as dom from '../../../base/browser/dom.js';\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../base/common/color.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { Range } from '../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n  showArrow: true,\n  showFrame: true,\n  className: '',\n  frameColor: defaultColor,\n  arrowColor: defaultColor,\n  keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nexport class ViewZoneDelegate {\n  constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\n    this.id = ''; // A valid zone id should be greater than 0\n    this.domNode = domNode;\n    this.afterLineNumber = afterLineNumber;\n    this.afterColumn = afterColumn;\n    this.heightInLines = heightInLines;\n    this._onDomNodeTop = onDomNodeTop;\n    this._onComputedHeight = onComputedHeight;\n  }\n  onDomNodeTop(top) {\n    this._onDomNodeTop(top);\n  }\n  onComputedHeight(height) {\n    this._onComputedHeight(height);\n  }\n}\nexport class OverlayWidgetDelegate {\n  constructor(id, domNode) {\n    this._id = id;\n    this._domNode = domNode;\n  }\n  getId() {\n    return this._id;\n  }\n  getDomNode() {\n    return this._domNode;\n  }\n  getPosition() {\n    return null;\n  }\n}\nclass Arrow {\n  constructor(_editor) {\n    this._editor = _editor;\n    this._ruleName = Arrow._IdGenerator.nextId();\n    this._decorations = [];\n    this._color = null;\n    this._height = -1;\n    //\n  }\n\n  dispose() {\n    this.hide();\n    dom.removeCSSRulesContainingSelector(this._ruleName);\n  }\n  set color(value) {\n    if (this._color !== value) {\n      this._color = value;\n      this._updateStyle();\n    }\n  }\n  set height(value) {\n    if (this._height !== value) {\n      this._height = value;\n      this._updateStyle();\n    }\n  }\n  _updateStyle() {\n    dom.removeCSSRulesContainingSelector(this._ruleName);\n    dom.createCSSRule(\".monaco-editor \".concat(this._ruleName), \"border-style: solid; border-color: transparent; border-bottom-color: \".concat(this._color, \"; border-width: \").concat(this._height, \"px; bottom: -\").concat(this._height, \"px; margin-left: -\").concat(this._height, \"px; \"));\n  }\n  show(where) {\n    this._decorations = this._editor.deltaDecorations(this._decorations, [{\n      range: Range.fromPositions(where),\n      options: {\n        className: this._ruleName,\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */\n      }\n    }]);\n  }\n\n  hide() {\n    this._editor.deltaDecorations(this._decorations, []);\n  }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n  constructor(editor) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this._arrow = null;\n    this._overlayWidget = null;\n    this._resizeSash = null;\n    this._positionMarkerId = [];\n    this._viewZone = null;\n    this._disposables = new DisposableStore();\n    this.container = null;\n    this._isShowing = false;\n    this.editor = editor;\n    this.options = objects.deepClone(options);\n    objects.mixin(this.options, defaultOptions, false);\n    this.domNode = document.createElement('div');\n    if (!this.options.isAccessible) {\n      this.domNode.setAttribute('aria-hidden', 'true');\n      this.domNode.setAttribute('role', 'presentation');\n    }\n    this._disposables.add(this.editor.onDidLayoutChange(info => {\n      const width = this._getWidth(info);\n      this.domNode.style.width = width + 'px';\n      this.domNode.style.left = this._getLeft(info) + 'px';\n      this._onWidth(width);\n    }));\n  }\n  dispose() {\n    if (this._overlayWidget) {\n      this.editor.removeOverlayWidget(this._overlayWidget);\n      this._overlayWidget = null;\n    }\n    if (this._viewZone) {\n      this.editor.changeViewZones(accessor => {\n        if (this._viewZone) {\n          accessor.removeZone(this._viewZone.id);\n        }\n        this._viewZone = null;\n      });\n    }\n    this.editor.deltaDecorations(this._positionMarkerId, []);\n    this._positionMarkerId = [];\n    this._disposables.dispose();\n  }\n  create() {\n    this.domNode.classList.add('zone-widget');\n    if (this.options.className) {\n      this.domNode.classList.add(this.options.className);\n    }\n    this.container = document.createElement('div');\n    this.container.classList.add('zone-widget-container');\n    this.domNode.appendChild(this.container);\n    if (this.options.showArrow) {\n      this._arrow = new Arrow(this.editor);\n      this._disposables.add(this._arrow);\n    }\n    this._fillContainer(this.container);\n    this._initSash();\n    this._applyStyles();\n  }\n  style(styles) {\n    if (styles.frameColor) {\n      this.options.frameColor = styles.frameColor;\n    }\n    if (styles.arrowColor) {\n      this.options.arrowColor = styles.arrowColor;\n    }\n    this._applyStyles();\n  }\n  _applyStyles() {\n    if (this.container && this.options.frameColor) {\n      let frameColor = this.options.frameColor.toString();\n      this.container.style.borderTopColor = frameColor;\n      this.container.style.borderBottomColor = frameColor;\n    }\n    if (this._arrow && this.options.arrowColor) {\n      let arrowColor = this.options.arrowColor.toString();\n      this._arrow.color = arrowColor;\n    }\n  }\n  _getWidth(info) {\n    return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n  }\n  _getLeft(info) {\n    // If minimap is to the left, we move beyond it\n    if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n      return info.minimap.minimapWidth;\n    }\n    return 0;\n  }\n  _onViewZoneTop(top) {\n    this.domNode.style.top = top + 'px';\n  }\n  _onViewZoneHeight(height) {\n    this.domNode.style.height = \"\".concat(height, \"px\");\n    if (this.container) {\n      let containerHeight = height - this._decoratingElementsHeight();\n      this.container.style.height = \"\".concat(containerHeight, \"px\");\n      const layoutInfo = this.editor.getLayoutInfo();\n      this._doLayout(containerHeight, this._getWidth(layoutInfo));\n    }\n    if (this._resizeSash) {\n      this._resizeSash.layout();\n    }\n  }\n  get position() {\n    const [id] = this._positionMarkerId;\n    if (!id) {\n      return undefined;\n    }\n    const model = this.editor.getModel();\n    if (!model) {\n      return undefined;\n    }\n    const range = model.getDecorationRange(id);\n    if (!range) {\n      return undefined;\n    }\n    return range.getStartPosition();\n  }\n  show(rangeOrPos, heightInLines) {\n    const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n    this._isShowing = true;\n    this._showImpl(range, heightInLines);\n    this._isShowing = false;\n    this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{\n      range,\n      options: ModelDecorationOptions.EMPTY\n    }]);\n  }\n  hide() {\n    if (this._viewZone) {\n      this.editor.changeViewZones(accessor => {\n        if (this._viewZone) {\n          accessor.removeZone(this._viewZone.id);\n        }\n      });\n      this._viewZone = null;\n    }\n    if (this._overlayWidget) {\n      this.editor.removeOverlayWidget(this._overlayWidget);\n      this._overlayWidget = null;\n    }\n    if (this._arrow) {\n      this._arrow.hide();\n    }\n  }\n  _decoratingElementsHeight() {\n    let lineHeight = this.editor.getOption(53 /* lineHeight */);\n    let result = 0;\n    if (this.options.showArrow) {\n      let arrowHeight = Math.round(lineHeight / 3);\n      result += 2 * arrowHeight;\n    }\n    if (this.options.showFrame) {\n      let frameThickness = Math.round(lineHeight / 9);\n      result += 2 * frameThickness;\n    }\n    return result;\n  }\n  _showImpl(where, heightInLines) {\n    const position = where.getStartPosition();\n    const layoutInfo = this.editor.getLayoutInfo();\n    const width = this._getWidth(layoutInfo);\n    this.domNode.style.width = \"\".concat(width, \"px\");\n    this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n    // Render the widget as zone (rendering) and widget (lifecycle)\n    const viewZoneDomNode = document.createElement('div');\n    viewZoneDomNode.style.overflow = 'hidden';\n    const lineHeight = this.editor.getOption(53 /* lineHeight */);\n    // adjust heightInLines to viewport\n    const maxHeightInLines = Math.max(12, this.editor.getLayoutInfo().height / lineHeight * 0.8);\n    heightInLines = Math.min(heightInLines, maxHeightInLines);\n    let arrowHeight = 0;\n    let frameThickness = 0;\n    // Render the arrow one 1/3 of an editor line height\n    if (this._arrow && this.options.showArrow) {\n      arrowHeight = Math.round(lineHeight / 3);\n      this._arrow.height = arrowHeight;\n      this._arrow.show(position);\n    }\n    // Render the frame as 1/9 of an editor line height\n    if (this.options.showFrame) {\n      frameThickness = Math.round(lineHeight / 9);\n    }\n    // insert zone widget\n    this.editor.changeViewZones(accessor => {\n      if (this._viewZone) {\n        accessor.removeZone(this._viewZone.id);\n      }\n      if (this._overlayWidget) {\n        this.editor.removeOverlayWidget(this._overlayWidget);\n        this._overlayWidget = null;\n      }\n      this.domNode.style.top = '-1000px';\n      this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, top => this._onViewZoneTop(top), height => this._onViewZoneHeight(height));\n      this._viewZone.id = accessor.addZone(this._viewZone);\n      this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n      this.editor.addOverlayWidget(this._overlayWidget);\n    });\n    if (this.container && this.options.showFrame) {\n      const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n      this.container.style.borderTopWidth = width + 'px';\n      this.container.style.borderBottomWidth = width + 'px';\n    }\n    let containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n    if (this.container) {\n      this.container.style.top = arrowHeight + 'px';\n      this.container.style.height = containerHeight + 'px';\n      this.container.style.overflow = 'hidden';\n    }\n    this._doLayout(containerHeight, width);\n    if (!this.options.keepEditorSelection) {\n      this.editor.setSelection(where);\n    }\n    const model = this.editor.getModel();\n    if (model) {\n      const revealLine = where.endLineNumber + 1;\n      if (revealLine <= model.getLineCount()) {\n        // reveal line below the zone widget\n        this.revealLine(revealLine, false);\n      } else {\n        // reveal last line atop\n        this.revealLine(model.getLineCount(), true);\n      }\n    }\n  }\n  revealLine(lineNumber, isLastLine) {\n    if (isLastLine) {\n      this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\n    } else {\n      this.editor.revealLine(lineNumber, 0 /* Smooth */);\n    }\n  }\n\n  setCssClass(className, classToReplace) {\n    if (!this.container) {\n      return;\n    }\n    if (classToReplace) {\n      this.container.classList.remove(classToReplace);\n    }\n    this.container.classList.add(className);\n  }\n  _onWidth(widthInPixel) {\n    // implement in subclass\n  }\n  _doLayout(heightInPixel, widthInPixel) {\n    // implement in subclass\n  }\n  _relayout(newHeightInLines) {\n    if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n      this.editor.changeViewZones(accessor => {\n        if (this._viewZone) {\n          this._viewZone.heightInLines = newHeightInLines;\n          accessor.layoutZone(this._viewZone.id);\n        }\n      });\n    }\n  }\n  // --- sash\n  _initSash() {\n    if (this._resizeSash) {\n      return;\n    }\n    this._resizeSash = this._disposables.add(new Sash(this.domNode, this, {\n      orientation: 1 /* HORIZONTAL */\n    }));\n    if (!this.options.isResizeable) {\n      this._resizeSash.hide();\n      this._resizeSash.state = 0 /* Disabled */;\n    }\n\n    let data;\n    this._disposables.add(this._resizeSash.onDidStart(e => {\n      if (this._viewZone) {\n        data = {\n          startY: e.startY,\n          heightInLines: this._viewZone.heightInLines\n        };\n      }\n    }));\n    this._disposables.add(this._resizeSash.onDidEnd(() => {\n      data = undefined;\n    }));\n    this._disposables.add(this._resizeSash.onDidChange(evt => {\n      if (data) {\n        let lineDelta = (evt.currentY - data.startY) / this.editor.getOption(53 /* lineHeight */);\n        let roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n        let newHeightInLines = data.heightInLines + roundedLineDelta;\n        if (newHeightInLines > 5 && newHeightInLines < 35) {\n          this._relayout(newHeightInLines);\n        }\n      }\n    }));\n  }\n  getHorizontalSashLeft() {\n    return 0;\n  }\n  getHorizontalSashTop() {\n    return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - this._decoratingElementsHeight() / 2;\n  }\n  getHorizontalSashWidth() {\n    const layoutInfo = this.editor.getLayoutInfo();\n    return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n  }\n}","map":{"version":3,"names":["dom","Sash","Color","RGBA","IdGenerator","DisposableStore","objects","Range","ModelDecorationOptions","defaultColor","defaultOptions","showArrow","showFrame","className","frameColor","arrowColor","keepEditorSelection","WIDGET_ID","ViewZoneDelegate","constructor","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","id","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","getPosition","Arrow","_editor","_ruleName","_IdGenerator","nextId","_decorations","_color","_height","dispose","hide","removeCSSRulesContainingSelector","color","value","_updateStyle","createCSSRule","concat","show","where","deltaDecorations","range","fromPositions","options","stickiness","ZoneWidget","editor","arguments","length","undefined","_arrow","_overlayWidget","_resizeSash","_positionMarkerId","_viewZone","_disposables","container","_isShowing","deepClone","mixin","document","createElement","isAccessible","setAttribute","add","onDidLayoutChange","info","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","accessor","removeZone","create","classList","appendChild","_fillContainer","_initSash","_applyStyles","styles","toString","borderTopColor","borderBottomColor","minimap","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","position","model","getModel","getDecorationRange","getStartPosition","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","getOption","result","arrowHeight","Math","round","frameThickness","viewZoneDomNode","overflow","maxHeightInLines","max","min","lineNumber","column","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","revealLine","endLineNumber","getLineCount","isLastLine","revealLineInCenter","setCssClass","classToReplace","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","orientation","isResizeable","state","data","onDidStart","e","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './zoneWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nconst defaultColor = new Color(new RGBA(0, 122, 204));\r\nconst defaultOptions = {\r\n    showArrow: true,\r\n    showFrame: true,\r\n    className: '',\r\n    frameColor: defaultColor,\r\n    arrowColor: defaultColor,\r\n    keepEditorSelection: false\r\n};\r\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\r\nexport class ViewZoneDelegate {\r\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\r\n        this.id = ''; // A valid zone id should be greater than 0\r\n        this.domNode = domNode;\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.afterColumn = afterColumn;\r\n        this.heightInLines = heightInLines;\r\n        this._onDomNodeTop = onDomNodeTop;\r\n        this._onComputedHeight = onComputedHeight;\r\n    }\r\n    onDomNodeTop(top) {\r\n        this._onDomNodeTop(top);\r\n    }\r\n    onComputedHeight(height) {\r\n        this._onComputedHeight(height);\r\n    }\r\n}\r\nexport class OverlayWidgetDelegate {\r\n    constructor(id, domNode) {\r\n        this._id = id;\r\n        this._domNode = domNode;\r\n    }\r\n    getId() {\r\n        return this._id;\r\n    }\r\n    getDomNode() {\r\n        return this._domNode;\r\n    }\r\n    getPosition() {\r\n        return null;\r\n    }\r\n}\r\nclass Arrow {\r\n    constructor(_editor) {\r\n        this._editor = _editor;\r\n        this._ruleName = Arrow._IdGenerator.nextId();\r\n        this._decorations = [];\r\n        this._color = null;\r\n        this._height = -1;\r\n        //\r\n    }\r\n    dispose() {\r\n        this.hide();\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n    }\r\n    set color(value) {\r\n        if (this._color !== value) {\r\n            this._color = value;\r\n            this._updateStyle();\r\n        }\r\n    }\r\n    set height(value) {\r\n        if (this._height !== value) {\r\n            this._height = value;\r\n            this._updateStyle();\r\n        }\r\n    }\r\n    _updateStyle() {\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);\r\n    }\r\n    show(where) {\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\r\n    }\r\n    hide() {\r\n        this._editor.deltaDecorations(this._decorations, []);\r\n    }\r\n}\r\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\r\nexport class ZoneWidget {\r\n    constructor(editor, options = {}) {\r\n        this._arrow = null;\r\n        this._overlayWidget = null;\r\n        this._resizeSash = null;\r\n        this._positionMarkerId = [];\r\n        this._viewZone = null;\r\n        this._disposables = new DisposableStore();\r\n        this.container = null;\r\n        this._isShowing = false;\r\n        this.editor = editor;\r\n        this.options = objects.deepClone(options);\r\n        objects.mixin(this.options, defaultOptions, false);\r\n        this.domNode = document.createElement('div');\r\n        if (!this.options.isAccessible) {\r\n            this.domNode.setAttribute('aria-hidden', 'true');\r\n            this.domNode.setAttribute('role', 'presentation');\r\n        }\r\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\r\n            const width = this._getWidth(info);\r\n            this.domNode.style.width = width + 'px';\r\n            this.domNode.style.left = this._getLeft(info) + 'px';\r\n            this._onWidth(width);\r\n        }));\r\n    }\r\n    dispose() {\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(accessor => {\r\n                if (this._viewZone) {\r\n                    accessor.removeZone(this._viewZone.id);\r\n                }\r\n                this._viewZone = null;\r\n            });\r\n        }\r\n        this.editor.deltaDecorations(this._positionMarkerId, []);\r\n        this._positionMarkerId = [];\r\n        this._disposables.dispose();\r\n    }\r\n    create() {\r\n        this.domNode.classList.add('zone-widget');\r\n        if (this.options.className) {\r\n            this.domNode.classList.add(this.options.className);\r\n        }\r\n        this.container = document.createElement('div');\r\n        this.container.classList.add('zone-widget-container');\r\n        this.domNode.appendChild(this.container);\r\n        if (this.options.showArrow) {\r\n            this._arrow = new Arrow(this.editor);\r\n            this._disposables.add(this._arrow);\r\n        }\r\n        this._fillContainer(this.container);\r\n        this._initSash();\r\n        this._applyStyles();\r\n    }\r\n    style(styles) {\r\n        if (styles.frameColor) {\r\n            this.options.frameColor = styles.frameColor;\r\n        }\r\n        if (styles.arrowColor) {\r\n            this.options.arrowColor = styles.arrowColor;\r\n        }\r\n        this._applyStyles();\r\n    }\r\n    _applyStyles() {\r\n        if (this.container && this.options.frameColor) {\r\n            let frameColor = this.options.frameColor.toString();\r\n            this.container.style.borderTopColor = frameColor;\r\n            this.container.style.borderBottomColor = frameColor;\r\n        }\r\n        if (this._arrow && this.options.arrowColor) {\r\n            let arrowColor = this.options.arrowColor.toString();\r\n            this._arrow.color = arrowColor;\r\n        }\r\n    }\r\n    _getWidth(info) {\r\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\r\n    }\r\n    _getLeft(info) {\r\n        // If minimap is to the left, we move beyond it\r\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\r\n            return info.minimap.minimapWidth;\r\n        }\r\n        return 0;\r\n    }\r\n    _onViewZoneTop(top) {\r\n        this.domNode.style.top = top + 'px';\r\n    }\r\n    _onViewZoneHeight(height) {\r\n        this.domNode.style.height = `${height}px`;\r\n        if (this.container) {\r\n            let containerHeight = height - this._decoratingElementsHeight();\r\n            this.container.style.height = `${containerHeight}px`;\r\n            const layoutInfo = this.editor.getLayoutInfo();\r\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\r\n        }\r\n        if (this._resizeSash) {\r\n            this._resizeSash.layout();\r\n        }\r\n    }\r\n    get position() {\r\n        const [id] = this._positionMarkerId;\r\n        if (!id) {\r\n            return undefined;\r\n        }\r\n        const model = this.editor.getModel();\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        const range = model.getDecorationRange(id);\r\n        if (!range) {\r\n            return undefined;\r\n        }\r\n        return range.getStartPosition();\r\n    }\r\n    show(rangeOrPos, heightInLines) {\r\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\r\n        this._isShowing = true;\r\n        this._showImpl(range, heightInLines);\r\n        this._isShowing = false;\r\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range, options: ModelDecorationOptions.EMPTY }]);\r\n    }\r\n    hide() {\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(accessor => {\r\n                if (this._viewZone) {\r\n                    accessor.removeZone(this._viewZone.id);\r\n                }\r\n            });\r\n            this._viewZone = null;\r\n        }\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._arrow) {\r\n            this._arrow.hide();\r\n        }\r\n    }\r\n    _decoratingElementsHeight() {\r\n        let lineHeight = this.editor.getOption(53 /* lineHeight */);\r\n        let result = 0;\r\n        if (this.options.showArrow) {\r\n            let arrowHeight = Math.round(lineHeight / 3);\r\n            result += 2 * arrowHeight;\r\n        }\r\n        if (this.options.showFrame) {\r\n            let frameThickness = Math.round(lineHeight / 9);\r\n            result += 2 * frameThickness;\r\n        }\r\n        return result;\r\n    }\r\n    _showImpl(where, heightInLines) {\r\n        const position = where.getStartPosition();\r\n        const layoutInfo = this.editor.getLayoutInfo();\r\n        const width = this._getWidth(layoutInfo);\r\n        this.domNode.style.width = `${width}px`;\r\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\r\n        // Render the widget as zone (rendering) and widget (lifecycle)\r\n        const viewZoneDomNode = document.createElement('div');\r\n        viewZoneDomNode.style.overflow = 'hidden';\r\n        const lineHeight = this.editor.getOption(53 /* lineHeight */);\r\n        // adjust heightInLines to viewport\r\n        const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\r\n        heightInLines = Math.min(heightInLines, maxHeightInLines);\r\n        let arrowHeight = 0;\r\n        let frameThickness = 0;\r\n        // Render the arrow one 1/3 of an editor line height\r\n        if (this._arrow && this.options.showArrow) {\r\n            arrowHeight = Math.round(lineHeight / 3);\r\n            this._arrow.height = arrowHeight;\r\n            this._arrow.show(position);\r\n        }\r\n        // Render the frame as 1/9 of an editor line height\r\n        if (this.options.showFrame) {\r\n            frameThickness = Math.round(lineHeight / 9);\r\n        }\r\n        // insert zone widget\r\n        this.editor.changeViewZones((accessor) => {\r\n            if (this._viewZone) {\r\n                accessor.removeZone(this._viewZone.id);\r\n            }\r\n            if (this._overlayWidget) {\r\n                this.editor.removeOverlayWidget(this._overlayWidget);\r\n                this._overlayWidget = null;\r\n            }\r\n            this.domNode.style.top = '-1000px';\r\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height));\r\n            this._viewZone.id = accessor.addZone(this._viewZone);\r\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\r\n            this.editor.addOverlayWidget(this._overlayWidget);\r\n        });\r\n        if (this.container && this.options.showFrame) {\r\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\r\n            this.container.style.borderTopWidth = width + 'px';\r\n            this.container.style.borderBottomWidth = width + 'px';\r\n        }\r\n        let containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\r\n        if (this.container) {\r\n            this.container.style.top = arrowHeight + 'px';\r\n            this.container.style.height = containerHeight + 'px';\r\n            this.container.style.overflow = 'hidden';\r\n        }\r\n        this._doLayout(containerHeight, width);\r\n        if (!this.options.keepEditorSelection) {\r\n            this.editor.setSelection(where);\r\n        }\r\n        const model = this.editor.getModel();\r\n        if (model) {\r\n            const revealLine = where.endLineNumber + 1;\r\n            if (revealLine <= model.getLineCount()) {\r\n                // reveal line below the zone widget\r\n                this.revealLine(revealLine, false);\r\n            }\r\n            else {\r\n                // reveal last line atop\r\n                this.revealLine(model.getLineCount(), true);\r\n            }\r\n        }\r\n    }\r\n    revealLine(lineNumber, isLastLine) {\r\n        if (isLastLine) {\r\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\r\n        }\r\n        else {\r\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\r\n        }\r\n    }\r\n    setCssClass(className, classToReplace) {\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n        if (classToReplace) {\r\n            this.container.classList.remove(classToReplace);\r\n        }\r\n        this.container.classList.add(className);\r\n    }\r\n    _onWidth(widthInPixel) {\r\n        // implement in subclass\r\n    }\r\n    _doLayout(heightInPixel, widthInPixel) {\r\n        // implement in subclass\r\n    }\r\n    _relayout(newHeightInLines) {\r\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\r\n            this.editor.changeViewZones(accessor => {\r\n                if (this._viewZone) {\r\n                    this._viewZone.heightInLines = newHeightInLines;\r\n                    accessor.layoutZone(this._viewZone.id);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    // --- sash\r\n    _initSash() {\r\n        if (this._resizeSash) {\r\n            return;\r\n        }\r\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\r\n        if (!this.options.isResizeable) {\r\n            this._resizeSash.hide();\r\n            this._resizeSash.state = 0 /* Disabled */;\r\n        }\r\n        let data;\r\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\r\n            if (this._viewZone) {\r\n                data = {\r\n                    startY: e.startY,\r\n                    heightInLines: this._viewZone.heightInLines,\r\n                };\r\n            }\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\r\n            data = undefined;\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\r\n            if (data) {\r\n                let lineDelta = (evt.currentY - data.startY) / this.editor.getOption(53 /* lineHeight */);\r\n                let roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\r\n                let newHeightInLines = data.heightInLines + roundedLineDelta;\r\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\r\n                    this._relayout(newHeightInLines);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    getHorizontalSashLeft() {\r\n        return 0;\r\n    }\r\n    getHorizontalSashTop() {\r\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\r\n    }\r\n    getHorizontalSashWidth() {\r\n        const layoutInfo = this.editor.getLayoutInfo();\r\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}