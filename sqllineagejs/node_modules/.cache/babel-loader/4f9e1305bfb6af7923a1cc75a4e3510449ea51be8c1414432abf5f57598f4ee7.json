{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './codelensWidget.css';\nimport * as dom from '../../../base/browser/dom.js';\nimport { Range } from '../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { editorCodeLensForeground } from '../../common/view/editorColorRegistry.js';\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nclass CodeLensViewZone {\n  constructor(afterLineNumber, heightInPx, onHeight) {\n    this.afterLineNumber = afterLineNumber;\n    this.heightInPx = heightInPx;\n    this._onHeight = onHeight;\n    this.suppressMouseDown = true;\n    this.domNode = document.createElement('div');\n  }\n  onComputedHeight(height) {\n    if (this._lastHeight === undefined) {\n      this._lastHeight = height;\n    } else if (this._lastHeight !== height) {\n      this._lastHeight = height;\n      this._onHeight();\n    }\n  }\n}\nclass CodeLensContentWidget {\n  constructor(editor, className, line) {\n    // Editor.IContentWidget.allowEditorOverflow\n    this.allowEditorOverflow = false;\n    this.suppressMouseDown = true;\n    this._commands = new Map();\n    this._isEmpty = true;\n    this._editor = editor;\n    this._id = \"codelens.widget-\".concat(CodeLensContentWidget._idPool++);\n    this.updatePosition(line);\n    this._domNode = document.createElement('span');\n    this._domNode.className = \"codelens-decoration \".concat(className);\n  }\n  withCommands(lenses, animate) {\n    this._commands.clear();\n    let children = [];\n    let hasSymbol = false;\n    for (let i = 0; i < lenses.length; i++) {\n      const lens = lenses[i];\n      if (!lens) {\n        continue;\n      }\n      hasSymbol = true;\n      if (lens.command) {\n        const title = renderLabelWithIcons(lens.command.title.trim());\n        if (lens.command.id) {\n          children.push(dom.$('a', {\n            id: String(i)\n          }, ...title));\n          this._commands.set(String(i), lens.command);\n        } else {\n          children.push(dom.$('span', undefined, ...title));\n        }\n        if (i + 1 < lenses.length) {\n          children.push(dom.$('span', undefined, '\\u00a0|\\u00a0'));\n        }\n      }\n    }\n    if (!hasSymbol) {\n      // symbols but no commands\n      dom.reset(this._domNode, dom.$('span', undefined, 'no commands'));\n    } else {\n      // symbols and commands\n      dom.reset(this._domNode, ...children);\n      if (this._isEmpty && animate) {\n        this._domNode.classList.add('fadein');\n      }\n      this._isEmpty = false;\n    }\n  }\n  getCommand(link) {\n    return link.parentElement === this._domNode ? this._commands.get(link.id) : undefined;\n  }\n  getId() {\n    return this._id;\n  }\n  getDomNode() {\n    return this._domNode;\n  }\n  updatePosition(line) {\n    const column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);\n    this._widgetPosition = {\n      position: {\n        lineNumber: line,\n        column: column\n      },\n      preference: [1 /* ABOVE */]\n    };\n  }\n\n  getPosition() {\n    return this._widgetPosition || null;\n  }\n}\nCodeLensContentWidget._idPool = 0;\nexport class CodeLensHelper {\n  constructor() {\n    this._removeDecorations = [];\n    this._addDecorations = [];\n    this._addDecorationsCallbacks = [];\n  }\n  addDecoration(decoration, callback) {\n    this._addDecorations.push(decoration);\n    this._addDecorationsCallbacks.push(callback);\n  }\n  removeDecoration(decorationId) {\n    this._removeDecorations.push(decorationId);\n  }\n  commit(changeAccessor) {\n    let resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\n    for (let i = 0, len = resultingDecorations.length; i < len; i++) {\n      this._addDecorationsCallbacks[i](resultingDecorations[i]);\n    }\n  }\n}\nexport class CodeLensWidget {\n  constructor(data, editor, className, helper, viewZoneChangeAccessor, heightInPx, updateCallback) {\n    this._isDisposed = false;\n    this._editor = editor;\n    this._className = className;\n    this._data = data;\n    // create combined range, track all ranges with decorations,\n    // check if there is already something to render\n    this._decorationIds = [];\n    let range;\n    let lenses = [];\n    this._data.forEach((codeLensData, i) => {\n      if (codeLensData.symbol.command) {\n        lenses.push(codeLensData.symbol);\n      }\n      helper.addDecoration({\n        range: codeLensData.symbol.range,\n        options: ModelDecorationOptions.EMPTY\n      }, id => this._decorationIds[i] = id);\n      // the range contains all lenses on this line\n      if (!range) {\n        range = Range.lift(codeLensData.symbol.range);\n      } else {\n        range = Range.plusRange(range, codeLensData.symbol.range);\n      }\n    });\n    this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, heightInPx, updateCallback);\n    this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\n    if (lenses.length > 0) {\n      this._createContentWidgetIfNecessary();\n      this._contentWidget.withCommands(lenses, false);\n    }\n  }\n  _createContentWidgetIfNecessary() {\n    if (!this._contentWidget) {\n      this._contentWidget = new CodeLensContentWidget(this._editor, this._className, this._viewZone.afterLineNumber + 1);\n      this._editor.addContentWidget(this._contentWidget);\n    } else {\n      this._editor.layoutContentWidget(this._contentWidget);\n    }\n  }\n  dispose(helper, viewZoneChangeAccessor) {\n    this._decorationIds.forEach(helper.removeDecoration, helper);\n    this._decorationIds = [];\n    if (viewZoneChangeAccessor) {\n      viewZoneChangeAccessor.removeZone(this._viewZoneId);\n    }\n    if (this._contentWidget) {\n      this._editor.removeContentWidget(this._contentWidget);\n      this._contentWidget = undefined;\n    }\n    this._isDisposed = true;\n  }\n  isDisposed() {\n    return this._isDisposed;\n  }\n  isValid() {\n    return this._decorationIds.some((id, i) => {\n      const range = this._editor.getModel().getDecorationRange(id);\n      const symbol = this._data[i].symbol;\n      return !!(range && Range.isEmpty(symbol.range) === range.isEmpty());\n    });\n  }\n  updateCodeLensSymbols(data, helper) {\n    this._decorationIds.forEach(helper.removeDecoration, helper);\n    this._decorationIds = [];\n    this._data = data;\n    this._data.forEach((codeLensData, i) => {\n      helper.addDecoration({\n        range: codeLensData.symbol.range,\n        options: ModelDecorationOptions.EMPTY\n      }, id => this._decorationIds[i] = id);\n    });\n  }\n  updateHeight(height, viewZoneChangeAccessor) {\n    this._viewZone.heightInPx = height;\n    viewZoneChangeAccessor.layoutZone(this._viewZoneId);\n    if (this._contentWidget) {\n      this._editor.layoutContentWidget(this._contentWidget);\n    }\n  }\n  computeIfNecessary(model) {\n    if (!this._viewZone.domNode.hasAttribute('monaco-visible-view-zone')) {\n      return null;\n    }\n    // Read editor current state\n    for (let i = 0; i < this._decorationIds.length; i++) {\n      const range = model.getDecorationRange(this._decorationIds[i]);\n      if (range) {\n        this._data[i].symbol.range = range;\n      }\n    }\n    return this._data;\n  }\n  updateCommands(symbols) {\n    this._createContentWidgetIfNecessary();\n    this._contentWidget.withCommands(symbols, true);\n    for (let i = 0; i < this._data.length; i++) {\n      const resolved = symbols[i];\n      if (resolved) {\n        const {\n          symbol\n        } = this._data[i];\n        symbol.command = resolved.command || symbol.command;\n      }\n    }\n  }\n  getCommand(link) {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getCommand(link);\n  }\n  getLineNumber() {\n    const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n    if (range) {\n      return range.startLineNumber;\n    }\n    return -1;\n  }\n  update(viewZoneChangeAccessor) {\n    if (this.isValid()) {\n      const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n      if (range) {\n        this._viewZone.afterLineNumber = range.startLineNumber - 1;\n        viewZoneChangeAccessor.layoutZone(this._viewZoneId);\n        if (this._contentWidget) {\n          this._contentWidget.updatePosition(range.startLineNumber);\n          this._editor.layoutContentWidget(this._contentWidget);\n        }\n      }\n    }\n  }\n  getItems() {\n    return this._data;\n  }\n}\nregisterThemingParticipant((theme, collector) => {\n  const codeLensForeground = theme.getColor(editorCodeLensForeground);\n  if (codeLensForeground) {\n    collector.addRule(\".monaco-editor .codelens-decoration { color: \".concat(codeLensForeground, \"; }\"));\n    collector.addRule(\".monaco-editor .codelens-decoration .codicon { color: \".concat(codeLensForeground, \"; }\"));\n  }\n  const activeLinkForeground = theme.getColor(editorActiveLinkForeground);\n  if (activeLinkForeground) {\n    collector.addRule(\".monaco-editor .codelens-decoration > a:hover { color: \".concat(activeLinkForeground, \" !important; }\"));\n    collector.addRule(\".monaco-editor .codelens-decoration > a:hover .codicon { color: \".concat(activeLinkForeground, \" !important; }\"));\n  }\n});","map":{"version":3,"names":["dom","Range","ModelDecorationOptions","editorCodeLensForeground","editorActiveLinkForeground","registerThemingParticipant","renderLabelWithIcons","CodeLensViewZone","constructor","afterLineNumber","heightInPx","onHeight","_onHeight","suppressMouseDown","domNode","document","createElement","onComputedHeight","height","_lastHeight","undefined","CodeLensContentWidget","editor","className","line","allowEditorOverflow","_commands","Map","_isEmpty","_editor","_id","concat","_idPool","updatePosition","_domNode","withCommands","lenses","animate","clear","children","hasSymbol","i","length","lens","command","title","trim","id","push","$","String","set","reset","classList","add","getCommand","link","parentElement","get","getId","getDomNode","column","getModel","getLineFirstNonWhitespaceColumn","_widgetPosition","position","lineNumber","preference","getPosition","CodeLensHelper","_removeDecorations","_addDecorations","_addDecorationsCallbacks","addDecoration","decoration","callback","removeDecoration","decorationId","commit","changeAccessor","resultingDecorations","deltaDecorations","len","CodeLensWidget","data","helper","viewZoneChangeAccessor","updateCallback","_isDisposed","_className","_data","_decorationIds","range","forEach","codeLensData","symbol","options","EMPTY","lift","plusRange","_viewZone","startLineNumber","_viewZoneId","addZone","_createContentWidgetIfNecessary","_contentWidget","addContentWidget","layoutContentWidget","dispose","removeZone","removeContentWidget","isDisposed","isValid","some","getDecorationRange","isEmpty","updateCodeLensSymbols","updateHeight","layoutZone","computeIfNecessary","model","hasAttribute","updateCommands","symbols","resolved","_a","getLineNumber","update","getItems","theme","collector","codeLensForeground","getColor","addRule","activeLinkForeground"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './codelensWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorCodeLensForeground } from '../../common/view/editorColorRegistry.js';\r\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\r\nclass CodeLensViewZone {\r\n    constructor(afterLineNumber, heightInPx, onHeight) {\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.heightInPx = heightInPx;\r\n        this._onHeight = onHeight;\r\n        this.suppressMouseDown = true;\r\n        this.domNode = document.createElement('div');\r\n    }\r\n    onComputedHeight(height) {\r\n        if (this._lastHeight === undefined) {\r\n            this._lastHeight = height;\r\n        }\r\n        else if (this._lastHeight !== height) {\r\n            this._lastHeight = height;\r\n            this._onHeight();\r\n        }\r\n    }\r\n}\r\nclass CodeLensContentWidget {\r\n    constructor(editor, className, line) {\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = false;\r\n        this.suppressMouseDown = true;\r\n        this._commands = new Map();\r\n        this._isEmpty = true;\r\n        this._editor = editor;\r\n        this._id = `codelens.widget-${(CodeLensContentWidget._idPool++)}`;\r\n        this.updatePosition(line);\r\n        this._domNode = document.createElement('span');\r\n        this._domNode.className = `codelens-decoration ${className}`;\r\n    }\r\n    withCommands(lenses, animate) {\r\n        this._commands.clear();\r\n        let children = [];\r\n        let hasSymbol = false;\r\n        for (let i = 0; i < lenses.length; i++) {\r\n            const lens = lenses[i];\r\n            if (!lens) {\r\n                continue;\r\n            }\r\n            hasSymbol = true;\r\n            if (lens.command) {\r\n                const title = renderLabelWithIcons(lens.command.title.trim());\r\n                if (lens.command.id) {\r\n                    children.push(dom.$('a', { id: String(i) }, ...title));\r\n                    this._commands.set(String(i), lens.command);\r\n                }\r\n                else {\r\n                    children.push(dom.$('span', undefined, ...title));\r\n                }\r\n                if (i + 1 < lenses.length) {\r\n                    children.push(dom.$('span', undefined, '\\u00a0|\\u00a0'));\r\n                }\r\n            }\r\n        }\r\n        if (!hasSymbol) {\r\n            // symbols but no commands\r\n            dom.reset(this._domNode, dom.$('span', undefined, 'no commands'));\r\n        }\r\n        else {\r\n            // symbols and commands\r\n            dom.reset(this._domNode, ...children);\r\n            if (this._isEmpty && animate) {\r\n                this._domNode.classList.add('fadein');\r\n            }\r\n            this._isEmpty = false;\r\n        }\r\n    }\r\n    getCommand(link) {\r\n        return link.parentElement === this._domNode\r\n            ? this._commands.get(link.id)\r\n            : undefined;\r\n    }\r\n    getId() {\r\n        return this._id;\r\n    }\r\n    getDomNode() {\r\n        return this._domNode;\r\n    }\r\n    updatePosition(line) {\r\n        const column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);\r\n        this._widgetPosition = {\r\n            position: { lineNumber: line, column: column },\r\n            preference: [1 /* ABOVE */]\r\n        };\r\n    }\r\n    getPosition() {\r\n        return this._widgetPosition || null;\r\n    }\r\n}\r\nCodeLensContentWidget._idPool = 0;\r\nexport class CodeLensHelper {\r\n    constructor() {\r\n        this._removeDecorations = [];\r\n        this._addDecorations = [];\r\n        this._addDecorationsCallbacks = [];\r\n    }\r\n    addDecoration(decoration, callback) {\r\n        this._addDecorations.push(decoration);\r\n        this._addDecorationsCallbacks.push(callback);\r\n    }\r\n    removeDecoration(decorationId) {\r\n        this._removeDecorations.push(decorationId);\r\n    }\r\n    commit(changeAccessor) {\r\n        let resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\r\n        for (let i = 0, len = resultingDecorations.length; i < len; i++) {\r\n            this._addDecorationsCallbacks[i](resultingDecorations[i]);\r\n        }\r\n    }\r\n}\r\nexport class CodeLensWidget {\r\n    constructor(data, editor, className, helper, viewZoneChangeAccessor, heightInPx, updateCallback) {\r\n        this._isDisposed = false;\r\n        this._editor = editor;\r\n        this._className = className;\r\n        this._data = data;\r\n        // create combined range, track all ranges with decorations,\r\n        // check if there is already something to render\r\n        this._decorationIds = [];\r\n        let range;\r\n        let lenses = [];\r\n        this._data.forEach((codeLensData, i) => {\r\n            if (codeLensData.symbol.command) {\r\n                lenses.push(codeLensData.symbol);\r\n            }\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, id => this._decorationIds[i] = id);\r\n            // the range contains all lenses on this line\r\n            if (!range) {\r\n                range = Range.lift(codeLensData.symbol.range);\r\n            }\r\n            else {\r\n                range = Range.plusRange(range, codeLensData.symbol.range);\r\n            }\r\n        });\r\n        this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, heightInPx, updateCallback);\r\n        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\r\n        if (lenses.length > 0) {\r\n            this._createContentWidgetIfNecessary();\r\n            this._contentWidget.withCommands(lenses, false);\r\n        }\r\n    }\r\n    _createContentWidgetIfNecessary() {\r\n        if (!this._contentWidget) {\r\n            this._contentWidget = new CodeLensContentWidget(this._editor, this._className, this._viewZone.afterLineNumber + 1);\r\n            this._editor.addContentWidget(this._contentWidget);\r\n        }\r\n        else {\r\n            this._editor.layoutContentWidget(this._contentWidget);\r\n        }\r\n    }\r\n    dispose(helper, viewZoneChangeAccessor) {\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        if (viewZoneChangeAccessor) {\r\n            viewZoneChangeAccessor.removeZone(this._viewZoneId);\r\n        }\r\n        if (this._contentWidget) {\r\n            this._editor.removeContentWidget(this._contentWidget);\r\n            this._contentWidget = undefined;\r\n        }\r\n        this._isDisposed = true;\r\n    }\r\n    isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    isValid() {\r\n        return this._decorationIds.some((id, i) => {\r\n            const range = this._editor.getModel().getDecorationRange(id);\r\n            const symbol = this._data[i].symbol;\r\n            return !!(range && Range.isEmpty(symbol.range) === range.isEmpty());\r\n        });\r\n    }\r\n    updateCodeLensSymbols(data, helper) {\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        this._data = data;\r\n        this._data.forEach((codeLensData, i) => {\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, id => this._decorationIds[i] = id);\r\n        });\r\n    }\r\n    updateHeight(height, viewZoneChangeAccessor) {\r\n        this._viewZone.heightInPx = height;\r\n        viewZoneChangeAccessor.layoutZone(this._viewZoneId);\r\n        if (this._contentWidget) {\r\n            this._editor.layoutContentWidget(this._contentWidget);\r\n        }\r\n    }\r\n    computeIfNecessary(model) {\r\n        if (!this._viewZone.domNode.hasAttribute('monaco-visible-view-zone')) {\r\n            return null;\r\n        }\r\n        // Read editor current state\r\n        for (let i = 0; i < this._decorationIds.length; i++) {\r\n            const range = model.getDecorationRange(this._decorationIds[i]);\r\n            if (range) {\r\n                this._data[i].symbol.range = range;\r\n            }\r\n        }\r\n        return this._data;\r\n    }\r\n    updateCommands(symbols) {\r\n        this._createContentWidgetIfNecessary();\r\n        this._contentWidget.withCommands(symbols, true);\r\n        for (let i = 0; i < this._data.length; i++) {\r\n            const resolved = symbols[i];\r\n            if (resolved) {\r\n                const { symbol } = this._data[i];\r\n                symbol.command = resolved.command || symbol.command;\r\n            }\r\n        }\r\n    }\r\n    getCommand(link) {\r\n        var _a;\r\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getCommand(link);\r\n    }\r\n    getLineNumber() {\r\n        const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n        if (range) {\r\n            return range.startLineNumber;\r\n        }\r\n        return -1;\r\n    }\r\n    update(viewZoneChangeAccessor) {\r\n        if (this.isValid()) {\r\n            const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n            if (range) {\r\n                this._viewZone.afterLineNumber = range.startLineNumber - 1;\r\n                viewZoneChangeAccessor.layoutZone(this._viewZoneId);\r\n                if (this._contentWidget) {\r\n                    this._contentWidget.updatePosition(range.startLineNumber);\r\n                    this._editor.layoutContentWidget(this._contentWidget);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getItems() {\r\n        return this._data;\r\n    }\r\n}\r\nregisterThemingParticipant((theme, collector) => {\r\n    const codeLensForeground = theme.getColor(editorCodeLensForeground);\r\n    if (codeLensForeground) {\r\n        collector.addRule(`.monaco-editor .codelens-decoration { color: ${codeLensForeground}; }`);\r\n        collector.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${codeLensForeground}; }`);\r\n    }\r\n    const activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${activeLinkForeground} !important; }`);\r\n        collector.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${activeLinkForeground} !important; }`);\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}