{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport { noop, processSize } from \"./utils\";\nvar MonacoEditor = /** @class */function (_super) {\n  __extends(MonacoEditor, _super);\n  function MonacoEditor(props) {\n    var _this = _super.call(this, props) || this;\n    _this.assignRef = function (component) {\n      _this.containerElement = component;\n    };\n    _this.containerElement = undefined;\n    return _this;\n  }\n  MonacoEditor.prototype.componentDidMount = function () {\n    this.initMonaco();\n  };\n  MonacoEditor.prototype.componentDidUpdate = function (prevProps) {\n    var _a = this.props,\n      value = _a.value,\n      language = _a.language,\n      theme = _a.theme,\n      height = _a.height,\n      options = _a.options,\n      width = _a.width;\n    var editor = this.editor;\n    var model = editor.getModel();\n    if (this.props.value != null && this.props.value !== model.getValue()) {\n      this.__prevent_trigger_change_event = true;\n      this.editor.pushUndoStop();\n      // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n      // @ts-expect-error\n      model.pushEditOperations([], [{\n        range: model.getFullModelRange(),\n        text: value\n      }]);\n      this.editor.pushUndoStop();\n      this.__prevent_trigger_change_event = false;\n    }\n    if (prevProps.language !== language) {\n      monaco.editor.setModelLanguage(model, language);\n    }\n    if (prevProps.theme !== theme) {\n      monaco.editor.setTheme(theme);\n    }\n    if (editor && (width !== prevProps.width || height !== prevProps.height)) {\n      editor.layout();\n    }\n    if (prevProps.options !== options) {\n      // Don't pass in the model on update because monaco crashes if we pass the model\n      // a second time. See https://github.com/microsoft/monaco-editor/issues/2027\n      var _model = options.model,\n        optionsWithoutModel = __rest(options, [\"model\"]);\n      editor.updateOptions(optionsWithoutModel);\n    }\n  };\n  MonacoEditor.prototype.componentWillUnmount = function () {\n    this.destroyMonaco();\n  };\n  MonacoEditor.prototype.destroyMonaco = function () {\n    if (this.editor) {\n      this.editor.dispose();\n      var model = this.editor.getModel();\n      if (model) {\n        model.dispose();\n      }\n    }\n    if (this._subscription) {\n      this._subscription.dispose();\n    }\n  };\n  MonacoEditor.prototype.initMonaco = function () {\n    var value = this.props.value != null ? this.props.value : this.props.defaultValue;\n    var _a = this.props,\n      language = _a.language,\n      theme = _a.theme,\n      overrideServices = _a.overrideServices;\n    if (this.containerElement) {\n      // Before initializing monaco editor\n      var options = __assign(__assign({}, this.props.options), this.editorWillMount());\n      this.editor = monaco.editor.create(this.containerElement, __assign(__assign({\n        value: value,\n        language: language\n      }, options), theme ? {\n        theme: theme\n      } : {}), overrideServices);\n      // After initializing monaco editor\n      this.editorDidMount(this.editor);\n    }\n  };\n  MonacoEditor.prototype.editorWillMount = function () {\n    var editorWillMount = this.props.editorWillMount;\n    var options = editorWillMount(monaco);\n    return options || {};\n  };\n  MonacoEditor.prototype.editorDidMount = function (editor) {\n    var _this = this;\n    this.props.editorDidMount(editor, monaco);\n    this._subscription = editor.onDidChangeModelContent(function (event) {\n      if (!_this.__prevent_trigger_change_event) {\n        _this.props.onChange(editor.getValue(), event);\n      }\n    });\n  };\n  MonacoEditor.prototype.render = function () {\n    var _a = this.props,\n      width = _a.width,\n      height = _a.height;\n    var fixedWidth = processSize(width);\n    var fixedHeight = processSize(height);\n    var style = {\n      width: fixedWidth,\n      height: fixedHeight\n    };\n    return React.createElement(\"div\", {\n      ref: this.assignRef,\n      style: style,\n      className: \"react-monaco-editor-container\"\n    });\n  };\n  MonacoEditor.propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    language: PropTypes.string,\n    theme: PropTypes.string,\n    options: PropTypes.object,\n    overrideServices: PropTypes.object,\n    editorDidMount: PropTypes.func,\n    editorWillMount: PropTypes.func,\n    onChange: PropTypes.func\n  };\n  MonacoEditor.defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorDidMount: noop,\n    editorWillMount: noop,\n    onChange: noop\n  };\n  return MonacoEditor;\n}(React.Component);\nexport default MonacoEditor;","map":{"version":3,"names":["monaco","PropTypes","React","noop","processSize","MonacoEditor","_super","__extends","props","_this","call","assignRef","component","containerElement","undefined","prototype","componentDidMount","initMonaco","componentDidUpdate","prevProps","_a","value","language","theme","height","options","width","editor","model","getModel","getValue","__prevent_trigger_change_event","pushUndoStop","pushEditOperations","range","getFullModelRange","text","setModelLanguage","setTheme","layout","_model","optionsWithoutModel","__rest","updateOptions","componentWillUnmount","destroyMonaco","dispose","_subscription","defaultValue","overrideServices","__assign","editorWillMount","create","editorDidMount","onDidChangeModelContent","event","onChange","render","fixedWidth","fixedHeight","style","createElement","ref","className","propTypes","oneOfType","string","number","object","func","defaultProps","Component"],"sources":["C:\\Users\\Administrator\\Desktop\\sqllineage-master\\sqllineagejs\\node_modules\\react-monaco-editor\\src\\editor.tsx"],"sourcesContent":["import * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport { MonacoEditorProps } from \"./types\";\nimport { noop, processSize } from \"./utils\";\n\nclass MonacoEditor extends React.Component<MonacoEditorProps> {\n  static propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    language: PropTypes.string,\n    theme: PropTypes.string,\n    options: PropTypes.object,\n    overrideServices: PropTypes.object,\n    editorDidMount: PropTypes.func,\n    editorWillMount: PropTypes.func,\n    onChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorDidMount: noop,\n    editorWillMount: noop,\n    onChange: noop,\n  };\n\n  editor?: monaco.editor.IStandaloneCodeEditor;\n\n  private containerElement?: HTMLDivElement;\n\n  private _subscription: monaco.IDisposable;\n\n  private __prevent_trigger_change_event?: boolean;\n\n  constructor(props: MonacoEditorProps) {\n    super(props);\n    this.containerElement = undefined;\n  }\n\n  componentDidMount() {\n    this.initMonaco();\n  }\n\n  componentDidUpdate(prevProps: MonacoEditorProps) {\n    const { value, language, theme, height, options, width } = this.props;\n\n    const { editor } = this;\n    const model = editor.getModel();\n\n    if (this.props.value != null && this.props.value !== model.getValue()) {\n      this.__prevent_trigger_change_event = true;\n      this.editor.pushUndoStop();\n      // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n      // @ts-expect-error\n      model.pushEditOperations(\n        [],\n        [\n          {\n            range: model.getFullModelRange(),\n            text: value,\n          },\n        ]\n      );\n      this.editor.pushUndoStop();\n      this.__prevent_trigger_change_event = false;\n    }\n    if (prevProps.language !== language) {\n      monaco.editor.setModelLanguage(model, language);\n    }\n    if (prevProps.theme !== theme) {\n      monaco.editor.setTheme(theme);\n    }\n    if (editor && (width !== prevProps.width || height !== prevProps.height)) {\n      editor.layout();\n    }\n    if (prevProps.options !== options) {\n      // Don't pass in the model on update because monaco crashes if we pass the model\n      // a second time. See https://github.com/microsoft/monaco-editor/issues/2027\n      const { model: _model, ...optionsWithoutModel } = options;\n      editor.updateOptions(optionsWithoutModel);\n    }\n  }\n\n  componentWillUnmount() {\n    this.destroyMonaco();\n  }\n\n  assignRef = (component: HTMLDivElement) => {\n    this.containerElement = component;\n  };\n\n  destroyMonaco() {\n    if (this.editor) {\n      this.editor.dispose();\n      const model = this.editor.getModel();\n      if (model) {\n        model.dispose();\n      }\n    }\n    if (this._subscription) {\n      this._subscription.dispose();\n    }\n  }\n\n  initMonaco() {\n    const value =\n      this.props.value != null ? this.props.value : this.props.defaultValue;\n    const { language, theme, overrideServices } = this.props;\n    if (this.containerElement) {\n      // Before initializing monaco editor\n      const options = { ...this.props.options, ...this.editorWillMount() };\n      this.editor = monaco.editor.create(\n        this.containerElement,\n        {\n          value,\n          language,\n          ...options,\n          ...(theme ? { theme } : {}),\n        },\n        overrideServices\n      );\n      // After initializing monaco editor\n      this.editorDidMount(this.editor);\n    }\n  }\n\n  editorWillMount() {\n    const { editorWillMount } = this.props;\n    const options = editorWillMount(monaco);\n    return options || {};\n  }\n\n  editorDidMount(editor: monaco.editor.IStandaloneCodeEditor) {\n    this.props.editorDidMount(editor, monaco);\n\n    this._subscription = editor.onDidChangeModelContent((event) => {\n      if (!this.__prevent_trigger_change_event) {\n        this.props.onChange(editor.getValue(), event);\n      }\n    });\n  }\n\n  render() {\n    const { width, height } = this.props;\n    const fixedWidth = processSize(width);\n    const fixedHeight = processSize(height);\n    const style = {\n      width: fixedWidth,\n      height: fixedHeight,\n    };\n\n    return (\n      <div\n        ref={this.assignRef}\n        style={style}\n        className=\"react-monaco-editor-container\"\n      />\n    );\n  }\n}\n\nexport default MonacoEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}