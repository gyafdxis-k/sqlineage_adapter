{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './dropdown.css';\nimport { Gesture, EventType as GestureEventType } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { EventHelper, EventType, append, $, addDisposableListener } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Emitter } from '../../../common/event.js';\nexport class BaseDropdown extends ActionRunner {\n  constructor(container, options) {\n    super();\n    this._onDidChangeVisibility = new Emitter();\n    this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n    this._element = append(container, $('.monaco-dropdown'));\n    this._label = append(this._element, $('.dropdown-label'));\n    let labelRenderer = options.labelRenderer;\n    if (!labelRenderer) {\n      labelRenderer = container => {\n        container.textContent = options.label || '';\n        return null;\n      };\n    }\n    for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n      this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n    }\n\n    for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n      this._register(addDisposableListener(this._label, event, e => {\n        if (e instanceof MouseEvent && e.detail > 1) {\n          return; // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n        }\n\n        if (this.visible) {\n          this.hide();\n        } else {\n          this.show();\n        }\n      }));\n    }\n    this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n      const event = new StandardKeyboardEvent(e);\n      if (event.equals(3 /* Enter */) || event.equals(10 /* Space */)) {\n        EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n        if (this.visible) {\n          this.hide();\n        } else {\n          this.show();\n        }\n      }\n    }));\n    const cleanupFn = labelRenderer(this._label);\n    if (cleanupFn) {\n      this._register(cleanupFn);\n    }\n    this._register(Gesture.addTarget(this._label));\n  }\n  get element() {\n    return this._element;\n  }\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this._onDidChangeVisibility.fire(true);\n    }\n  }\n  hide() {\n    if (this.visible) {\n      this.visible = false;\n      this._onDidChangeVisibility.fire(false);\n    }\n  }\n  dispose() {\n    super.dispose();\n    this.hide();\n    if (this.boxContainer) {\n      this.boxContainer.remove();\n      this.boxContainer = undefined;\n    }\n    if (this.contents) {\n      this.contents.remove();\n      this.contents = undefined;\n    }\n    if (this._label) {\n      this._label.remove();\n      this._label = undefined;\n    }\n  }\n}\nexport class DropdownMenu extends BaseDropdown {\n  constructor(container, options) {\n    super(container, options);\n    this._actions = [];\n    this._contextMenuProvider = options.contextMenuProvider;\n    this.actions = options.actions || [];\n    this.actionProvider = options.actionProvider;\n    this.menuClassName = options.menuClassName || '';\n    this.menuAsChild = !!options.menuAsChild;\n  }\n  set menuOptions(options) {\n    this._menuOptions = options;\n  }\n  get menuOptions() {\n    return this._menuOptions;\n  }\n  get actions() {\n    if (this.actionProvider) {\n      return this.actionProvider.getActions();\n    }\n    return this._actions;\n  }\n  set actions(actions) {\n    this._actions = actions;\n  }\n  show() {\n    super.show();\n    this.element.classList.add('active');\n    this._contextMenuProvider.showContextMenu({\n      getAnchor: () => this.element,\n      getActions: () => this.actions,\n      getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n      getActionViewItem: action => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action) : undefined,\n      getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n      getMenuClassName: () => this.menuClassName,\n      onHide: () => this.onHide(),\n      actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n      anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* LEFT */,\n      domForShadowRoot: this.menuAsChild ? this.element : undefined\n    });\n  }\n  hide() {\n    super.hide();\n  }\n  onHide() {\n    this.hide();\n    this.element.classList.remove('active');\n  }\n}","map":{"version":3,"names":["Gesture","EventType","GestureEventType","ActionRunner","EventHelper","append","$","addDisposableListener","StandardKeyboardEvent","Emitter","BaseDropdown","constructor","container","options","_onDidChangeVisibility","onDidChangeVisibility","event","_element","_label","labelRenderer","textContent","label","CLICK","MOUSE_DOWN","Tap","_register","element","e","stop","MouseEvent","detail","visible","hide","show","KEY_UP","equals","cleanupFn","addTarget","fire","dispose","boxContainer","remove","undefined","contents","DropdownMenu","_actions","_contextMenuProvider","contextMenuProvider","actions","actionProvider","menuClassName","menuAsChild","menuOptions","_menuOptions","getActions","classList","add","showContextMenu","getAnchor","getActionsContext","context","getActionViewItem","action","actionViewItemProvider","getKeyBinding","getMenuClassName","onHide","actionRunner","anchorAlignment","domForShadowRoot"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './dropdown.css';\r\nimport { Gesture, EventType as GestureEventType } from '../../touch.js';\r\nimport { ActionRunner } from '../../../common/actions.js';\r\nimport { EventHelper, EventType, append, $, addDisposableListener } from '../../dom.js';\r\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nexport class BaseDropdown extends ActionRunner {\r\n    constructor(container, options) {\r\n        super();\r\n        this._onDidChangeVisibility = new Emitter();\r\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\r\n        this._element = append(container, $('.monaco-dropdown'));\r\n        this._label = append(this._element, $('.dropdown-label'));\r\n        let labelRenderer = options.labelRenderer;\r\n        if (!labelRenderer) {\r\n            labelRenderer = (container) => {\r\n                container.textContent = options.label || '';\r\n                return null;\r\n            };\r\n        }\r\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\r\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\r\n        }\r\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\r\n            this._register(addDisposableListener(this._label, event, e => {\r\n                if (e instanceof MouseEvent && e.detail > 1) {\r\n                    return; // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\r\n                }\r\n                if (this.visible) {\r\n                    this.hide();\r\n                }\r\n                else {\r\n                    this.show();\r\n                }\r\n            }));\r\n        }\r\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\r\n            const event = new StandardKeyboardEvent(e);\r\n            if (event.equals(3 /* Enter */) || event.equals(10 /* Space */)) {\r\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\r\n                if (this.visible) {\r\n                    this.hide();\r\n                }\r\n                else {\r\n                    this.show();\r\n                }\r\n            }\r\n        }));\r\n        const cleanupFn = labelRenderer(this._label);\r\n        if (cleanupFn) {\r\n            this._register(cleanupFn);\r\n        }\r\n        this._register(Gesture.addTarget(this._label));\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    show() {\r\n        if (!this.visible) {\r\n            this.visible = true;\r\n            this._onDidChangeVisibility.fire(true);\r\n        }\r\n    }\r\n    hide() {\r\n        if (this.visible) {\r\n            this.visible = false;\r\n            this._onDidChangeVisibility.fire(false);\r\n        }\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.hide();\r\n        if (this.boxContainer) {\r\n            this.boxContainer.remove();\r\n            this.boxContainer = undefined;\r\n        }\r\n        if (this.contents) {\r\n            this.contents.remove();\r\n            this.contents = undefined;\r\n        }\r\n        if (this._label) {\r\n            this._label.remove();\r\n            this._label = undefined;\r\n        }\r\n    }\r\n}\r\nexport class DropdownMenu extends BaseDropdown {\r\n    constructor(container, options) {\r\n        super(container, options);\r\n        this._actions = [];\r\n        this._contextMenuProvider = options.contextMenuProvider;\r\n        this.actions = options.actions || [];\r\n        this.actionProvider = options.actionProvider;\r\n        this.menuClassName = options.menuClassName || '';\r\n        this.menuAsChild = !!options.menuAsChild;\r\n    }\r\n    set menuOptions(options) {\r\n        this._menuOptions = options;\r\n    }\r\n    get menuOptions() {\r\n        return this._menuOptions;\r\n    }\r\n    get actions() {\r\n        if (this.actionProvider) {\r\n            return this.actionProvider.getActions();\r\n        }\r\n        return this._actions;\r\n    }\r\n    set actions(actions) {\r\n        this._actions = actions;\r\n    }\r\n    show() {\r\n        super.show();\r\n        this.element.classList.add('active');\r\n        this._contextMenuProvider.showContextMenu({\r\n            getAnchor: () => this.element,\r\n            getActions: () => this.actions,\r\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\r\n            getActionViewItem: action => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action) : undefined,\r\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\r\n            getMenuClassName: () => this.menuClassName,\r\n            onHide: () => this.onHide(),\r\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\r\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* LEFT */,\r\n            domForShadowRoot: this.menuAsChild ? this.element : undefined\r\n        });\r\n    }\r\n    hide() {\r\n        super.hide();\r\n    }\r\n    onHide() {\r\n        this.hide();\r\n        this.element.classList.remove('active');\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}