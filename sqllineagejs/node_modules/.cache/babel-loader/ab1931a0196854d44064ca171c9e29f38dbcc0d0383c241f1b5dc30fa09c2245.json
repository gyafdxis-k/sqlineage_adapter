{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport * as nls from '../../../nls.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { Range } from '../../common/core/range.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { ModesContentHoverWidget } from './modesContentHover.js';\nimport { ModesGlyphHoverWidget } from './modesGlyphHover.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nimport { editorHoverBackground, editorHoverBorder, editorHoverHighlight, textCodeBlockBackground, textLinkForeground, editorHoverStatusBarBackground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../gotoSymbol/link/goToDefinitionAtPosition.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nlet ModesHoverController = class ModesHoverController {\n  constructor(_editor, _instantiationService, _openerService, _modeService, _themeService, _contextKeyService) {\n    this._editor = _editor;\n    this._instantiationService = _instantiationService;\n    this._openerService = _openerService;\n    this._modeService = _modeService;\n    this._themeService = _themeService;\n    this._toUnhook = new DisposableStore();\n    this._isMouseDown = false;\n    this._hoverClicked = false;\n    this._contentWidget = null;\n    this._glyphWidget = null;\n    this._hookEvents();\n    this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(48 /* hover */)) {\n        this._unhookEvents();\n        this._hookEvents();\n      }\n    });\n    this._hoverVisibleKey = EditorContextKeys.hoverVisible.bindTo(_contextKeyService);\n  }\n  static get(editor) {\n    return editor.getContribution(ModesHoverController.ID);\n  }\n  _hookEvents() {\n    const hideWidgetsEventHandler = () => this._hideWidgets();\n    const hoverOpts = this._editor.getOption(48 /* hover */);\n    this._isHoverEnabled = hoverOpts.enabled;\n    this._isHoverSticky = hoverOpts.sticky;\n    if (this._isHoverEnabled) {\n      this._toUnhook.add(this._editor.onMouseDown(e => this._onEditorMouseDown(e)));\n      this._toUnhook.add(this._editor.onMouseUp(e => this._onEditorMouseUp(e)));\n      this._toUnhook.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._toUnhook.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n      this._toUnhook.add(this._editor.onDidChangeModelDecorations(() => this._onModelDecorationsChanged()));\n    } else {\n      this._toUnhook.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._toUnhook.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    }\n    this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));\n    this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));\n    this._toUnhook.add(this._editor.onDidScrollChange(e => this._onEditorScrollChanged(e)));\n  }\n  _unhookEvents() {\n    this._toUnhook.clear();\n  }\n  _onModelDecorationsChanged() {\n    var _a, _b;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.onModelDecorationsChanged();\n    (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.onModelDecorationsChanged();\n  }\n  _onEditorScrollChanged(e) {\n    if (e.scrollTopChanged || e.scrollLeftChanged) {\n      this._hideWidgets();\n    }\n  }\n  _onEditorMouseDown(mouseEvent) {\n    this._isMouseDown = true;\n    const targetType = mouseEvent.target.type;\n    if (targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\n      this._hoverClicked = true;\n      // mouse down on top of content hover widget\n      return;\n    }\n    if (targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\n      // mouse down on top of overlay hover widget\n      return;\n    }\n    if (targetType !== 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail !== ModesGlyphHoverWidget.ID) {\n      this._hoverClicked = false;\n    }\n    this._hideWidgets();\n  }\n  _onEditorMouseUp(mouseEvent) {\n    this._isMouseDown = false;\n  }\n  _onEditorMouseMove(mouseEvent) {\n    var _a, _b, _c, _d, _e, _f;\n    let targetType = mouseEvent.target.type;\n    if (this._isMouseDown && this._hoverClicked) {\n      return;\n    }\n    if (this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\n      // mouse moved on top of content hover widget\n      return;\n    }\n    if (this._isHoverSticky && !((_b = (_a = mouseEvent.event.browserEvent.view) === null || _a === void 0 ? void 0 : _a.getSelection()) === null || _b === void 0 ? void 0 : _b.isCollapsed)) {\n      // selected text within content hover widget\n      return;\n    }\n    if (!this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isColorPickerVisible())) {\n      // though the hover is not sticky, the color picker needs to.\n      return;\n    }\n    if (this._isHoverSticky && targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\n      // mouse moved on top of overlay hover widget\n      return;\n    }\n    if (targetType === 7 /* CONTENT_EMPTY */) {\n      const epsilon = this._editor.getOption(38 /* fontInfo */).typicalHalfwidthCharacterWidth / 2;\n      const data = mouseEvent.target.detail;\n      if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) {\n        // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\n        targetType = 6 /* CONTENT_TEXT */;\n      }\n    }\n\n    if (targetType === 6 /* CONTENT_TEXT */) {\n      (_d = this._glyphWidget) === null || _d === void 0 ? void 0 : _d.hide();\n      if (this._isHoverEnabled && mouseEvent.target.range) {\n        // TODO@rebornix. This should be removed if we move Color Picker out of Hover component.\n        // Check if mouse is hovering on color decorator\n        const hoverOnColorDecorator = [...(((_e = mouseEvent.target.element) === null || _e === void 0 ? void 0 : _e.classList.values()) || [])].find(className => className.startsWith('ced-colorBox')) && mouseEvent.target.range.endColumn - mouseEvent.target.range.startColumn === 1;\n        const showAtRange = hoverOnColorDecorator // shift the mouse focus by one as color decorator is a `before` decoration of next character.\n        ? new Range(mouseEvent.target.range.startLineNumber, mouseEvent.target.range.startColumn + 1, mouseEvent.target.range.endLineNumber, mouseEvent.target.range.endColumn + 1) : mouseEvent.target.range;\n        if (!this._contentWidget) {\n          this._contentWidget = new ModesContentHoverWidget(this._editor, this._hoverVisibleKey, this._instantiationService, this._themeService);\n        }\n        this._contentWidget.startShowingAt(showAtRange, 0 /* Delayed */, false);\n      }\n    } else if (targetType === 2 /* GUTTER_GLYPH_MARGIN */) {\n      (_f = this._contentWidget) === null || _f === void 0 ? void 0 : _f.hide();\n      if (this._isHoverEnabled && mouseEvent.target.position) {\n        if (!this._glyphWidget) {\n          this._glyphWidget = new ModesGlyphHoverWidget(this._editor, this._modeService, this._openerService);\n        }\n        this._glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);\n      }\n    } else {\n      this._hideWidgets();\n    }\n  }\n  _onKeyDown(e) {\n    if (e.keyCode !== 5 /* Ctrl */ && e.keyCode !== 6 /* Alt */ && e.keyCode !== 57 /* Meta */ && e.keyCode !== 4 /* Shift */) {\n      // Do not hide hover when a modifier key is pressed\n      this._hideWidgets();\n    }\n  }\n  _hideWidgets() {\n    var _a, _b, _c;\n    if (this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible())) {\n      return;\n    }\n    this._hoverClicked = false;\n    (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n    (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n  }\n  isColorPickerVisible() {\n    var _a;\n    return ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible()) || false;\n  }\n  showContentHover(range, mode, focus) {\n    if (!this._contentWidget) {\n      this._contentWidget = new ModesContentHoverWidget(this._editor, this._hoverVisibleKey, this._instantiationService, this._themeService);\n    }\n    this._contentWidget.startShowingAt(range, mode, focus);\n  }\n  dispose() {\n    var _a, _b;\n    this._unhookEvents();\n    this._toUnhook.dispose();\n    this._didChangeConfigurationHandler.dispose();\n    (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n    (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n  }\n};\nModesHoverController.ID = 'editor.contrib.hover';\nModesHoverController = __decorate([__param(1, IInstantiationService), __param(2, IOpenerService), __param(3, IModeService), __param(4, IThemeService), __param(5, IContextKeyService)], ModesHoverController);\nexport { ModesHoverController };\nclass ShowHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showHover',\n      label: nls.localize({\n        key: 'showHover',\n        comment: ['Label for action that will trigger the showing of a hover in the editor.', 'This allows for users to show the hover without using the mouse.']\n      }, \"Show Hover\"),\n      alias: 'Show Hover',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 39 /* KEY_I */),\n        weight: 100 /* EditorContrib */\n      }\n    });\n  }\n\n  run(accessor, editor) {\n    if (!editor.hasModel()) {\n      return;\n    }\n    let controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const position = editor.getPosition();\n    const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n    const focus = editor.getOption(2 /* accessibilitySupport */) === 2 /* Enabled */;\n    controller.showContentHover(range, 1 /* Immediate */, focus);\n  }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showDefinitionPreviewHover',\n      label: nls.localize({\n        key: 'showDefinitionPreviewHover',\n        comment: ['Label for action that will trigger the showing of definition preview hover in the editor.', 'This allows for users to show the definition preview hover without using the mouse.']\n      }, \"Show Definition Preview Hover\"),\n      alias: 'Show Definition Preview Hover',\n      precondition: undefined\n    });\n  }\n  run(accessor, editor) {\n    let controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const position = editor.getPosition();\n    if (!position) {\n      return;\n    }\n    const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n    const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n    const promise = goto.startFindDefinitionFromCursor(position);\n    if (promise) {\n      promise.then(() => {\n        controller.showContentHover(range, 1 /* Immediate */, true);\n      });\n    } else {\n      controller.showContentHover(range, 1 /* Immediate */, true);\n    }\n  }\n}\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController);\nregisterEditorAction(ShowHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\n// theming\nregisterThemingParticipant((theme, collector) => {\n  const editorHoverHighlightColor = theme.getColor(editorHoverHighlight);\n  if (editorHoverHighlightColor) {\n    collector.addRule(\".monaco-editor .hoverHighlight { background-color: \".concat(editorHoverHighlightColor, \"; }\"));\n  }\n  const hoverBackground = theme.getColor(editorHoverBackground);\n  if (hoverBackground) {\n    collector.addRule(\".monaco-editor .monaco-hover { background-color: \".concat(hoverBackground, \"; }\"));\n  }\n  const hoverBorder = theme.getColor(editorHoverBorder);\n  if (hoverBorder) {\n    collector.addRule(\".monaco-editor .monaco-hover { border: 1px solid \".concat(hoverBorder, \"; }\"));\n    collector.addRule(\".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid \".concat(hoverBorder.transparent(0.5), \"; }\"));\n    collector.addRule(\".monaco-editor .monaco-hover hr { border-top: 1px solid \".concat(hoverBorder.transparent(0.5), \"; }\"));\n    collector.addRule(\".monaco-editor .monaco-hover hr { border-bottom: 0px solid \".concat(hoverBorder.transparent(0.5), \"; }\"));\n  }\n  const link = theme.getColor(textLinkForeground);\n  if (link) {\n    collector.addRule(\".monaco-editor .monaco-hover a { color: \".concat(link, \"; }\"));\n  }\n  const hoverForeground = theme.getColor(editorHoverForeground);\n  if (hoverForeground) {\n    collector.addRule(\".monaco-editor .monaco-hover { color: \".concat(hoverForeground, \"; }\"));\n  }\n  const actionsBackground = theme.getColor(editorHoverStatusBarBackground);\n  if (actionsBackground) {\n    collector.addRule(\".monaco-editor .monaco-hover .hover-row .actions { background-color: \".concat(actionsBackground, \"; }\"));\n  }\n  const codeBackground = theme.getColor(textCodeBlockBackground);\n  if (codeBackground) {\n    collector.addRule(\".monaco-editor .monaco-hover code { background-color: \".concat(codeBackground, \"; }\"));\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","nls","KeyChord","DisposableStore","EditorAction","registerEditorAction","registerEditorContribution","Range","EditorContextKeys","IModeService","ModesContentHoverWidget","ModesGlyphHoverWidget","IOpenerService","editorHoverBackground","editorHoverBorder","editorHoverHighlight","textCodeBlockBackground","textLinkForeground","editorHoverStatusBarBackground","editorHoverForeground","IThemeService","registerThemingParticipant","GotoDefinitionAtPositionEditorContribution","IContextKeyService","IInstantiationService","ModesHoverController","constructor","_editor","_instantiationService","_openerService","_modeService","_themeService","_contextKeyService","_toUnhook","_isMouseDown","_hoverClicked","_contentWidget","_glyphWidget","_hookEvents","_didChangeConfigurationHandler","onDidChangeConfiguration","e","hasChanged","_unhookEvents","_hoverVisibleKey","hoverVisible","bindTo","get","editor","getContribution","ID","hideWidgetsEventHandler","_hideWidgets","hoverOpts","getOption","_isHoverEnabled","enabled","_isHoverSticky","sticky","add","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseMove","_onEditorMouseMove","onKeyDown","_onKeyDown","onDidChangeModelDecorations","_onModelDecorationsChanged","onMouseLeave","onDidChangeModel","onDidScrollChange","_onEditorScrollChanged","clear","_a","_b","onModelDecorationsChanged","scrollTopChanged","scrollLeftChanged","mouseEvent","targetType","type","detail","_c","_d","_e","_f","event","browserEvent","view","getSelection","isCollapsed","isColorPickerVisible","epsilon","typicalHalfwidthCharacterWidth","data","isAfterLines","horizontalDistanceToText","hide","range","hoverOnColorDecorator","element","classList","values","find","className","startsWith","endColumn","startColumn","showAtRange","startLineNumber","endLineNumber","startShowingAt","position","lineNumber","keyCode","showContentHover","mode","focus","dispose","ShowHoverAction","id","label","localize","comment","alias","precondition","undefined","kbOpts","kbExpr","editorTextFocus","primary","weight","run","accessor","hasModel","controller","getPosition","column","ShowDefinitionPreviewHoverAction","goto","promise","startFindDefinitionFromCursor","then","theme","collector","editorHoverHighlightColor","getColor","addRule","concat","hoverBackground","hoverBorder","transparent","link","hoverForeground","actionsBackground","codeBackground"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { ModesContentHoverWidget } from './modesContentHover.js';\r\nimport { ModesGlyphHoverWidget } from './modesGlyphHover.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorHoverBackground, editorHoverBorder, editorHoverHighlight, textCodeBlockBackground, textLinkForeground, editorHoverStatusBarBackground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { GotoDefinitionAtPositionEditorContribution } from '../gotoSymbol/link/goToDefinitionAtPosition.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nlet ModesHoverController = class ModesHoverController {\r\n    constructor(_editor, _instantiationService, _openerService, _modeService, _themeService, _contextKeyService) {\r\n        this._editor = _editor;\r\n        this._instantiationService = _instantiationService;\r\n        this._openerService = _openerService;\r\n        this._modeService = _modeService;\r\n        this._themeService = _themeService;\r\n        this._toUnhook = new DisposableStore();\r\n        this._isMouseDown = false;\r\n        this._hoverClicked = false;\r\n        this._contentWidget = null;\r\n        this._glyphWidget = null;\r\n        this._hookEvents();\r\n        this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration((e) => {\r\n            if (e.hasChanged(48 /* hover */)) {\r\n                this._unhookEvents();\r\n                this._hookEvents();\r\n            }\r\n        });\r\n        this._hoverVisibleKey = EditorContextKeys.hoverVisible.bindTo(_contextKeyService);\r\n    }\r\n    static get(editor) {\r\n        return editor.getContribution(ModesHoverController.ID);\r\n    }\r\n    _hookEvents() {\r\n        const hideWidgetsEventHandler = () => this._hideWidgets();\r\n        const hoverOpts = this._editor.getOption(48 /* hover */);\r\n        this._isHoverEnabled = hoverOpts.enabled;\r\n        this._isHoverSticky = hoverOpts.sticky;\r\n        if (this._isHoverEnabled) {\r\n            this._toUnhook.add(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\r\n            this._toUnhook.add(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\r\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\r\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\r\n            this._toUnhook.add(this._editor.onDidChangeModelDecorations(() => this._onModelDecorationsChanged()));\r\n        }\r\n        else {\r\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\r\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\r\n        }\r\n        this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidScrollChange((e) => this._onEditorScrollChanged(e)));\r\n    }\r\n    _unhookEvents() {\r\n        this._toUnhook.clear();\r\n    }\r\n    _onModelDecorationsChanged() {\r\n        var _a, _b;\r\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.onModelDecorationsChanged();\r\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.onModelDecorationsChanged();\r\n    }\r\n    _onEditorScrollChanged(e) {\r\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\r\n            this._hideWidgets();\r\n        }\r\n    }\r\n    _onEditorMouseDown(mouseEvent) {\r\n        this._isMouseDown = true;\r\n        const targetType = mouseEvent.target.type;\r\n        if (targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            this._hoverClicked = true;\r\n            // mouse down on top of content hover widget\r\n            return;\r\n        }\r\n        if (targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse down on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType !== 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail !== ModesGlyphHoverWidget.ID) {\r\n            this._hoverClicked = false;\r\n        }\r\n        this._hideWidgets();\r\n    }\r\n    _onEditorMouseUp(mouseEvent) {\r\n        this._isMouseDown = false;\r\n    }\r\n    _onEditorMouseMove(mouseEvent) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        let targetType = mouseEvent.target.type;\r\n        if (this._isMouseDown && this._hoverClicked) {\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            // mouse moved on top of content hover widget\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && !((_b = (_a = mouseEvent.event.browserEvent.view) === null || _a === void 0 ? void 0 : _a.getSelection()) === null || _b === void 0 ? void 0 : _b.isCollapsed)) {\r\n            // selected text within content hover widget\r\n            return;\r\n        }\r\n        if (!this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID\r\n            && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isColorPickerVisible())) {\r\n            // though the hover is not sticky, the color picker needs to.\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse moved on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType === 7 /* CONTENT_EMPTY */) {\r\n            const epsilon = this._editor.getOption(38 /* fontInfo */).typicalHalfwidthCharacterWidth / 2;\r\n            const data = mouseEvent.target.detail;\r\n            if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) {\r\n                // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\r\n                targetType = 6 /* CONTENT_TEXT */;\r\n            }\r\n        }\r\n        if (targetType === 6 /* CONTENT_TEXT */) {\r\n            (_d = this._glyphWidget) === null || _d === void 0 ? void 0 : _d.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.range) {\r\n                // TODO@rebornix. This should be removed if we move Color Picker out of Hover component.\r\n                // Check if mouse is hovering on color decorator\r\n                const hoverOnColorDecorator = [...((_e = mouseEvent.target.element) === null || _e === void 0 ? void 0 : _e.classList.values()) || []].find(className => className.startsWith('ced-colorBox'))\r\n                    && mouseEvent.target.range.endColumn - mouseEvent.target.range.startColumn === 1;\r\n                const showAtRange = (hoverOnColorDecorator // shift the mouse focus by one as color decorator is a `before` decoration of next character.\r\n                    ? new Range(mouseEvent.target.range.startLineNumber, mouseEvent.target.range.startColumn + 1, mouseEvent.target.range.endLineNumber, mouseEvent.target.range.endColumn + 1)\r\n                    : mouseEvent.target.range);\r\n                if (!this._contentWidget) {\r\n                    this._contentWidget = new ModesContentHoverWidget(this._editor, this._hoverVisibleKey, this._instantiationService, this._themeService);\r\n                }\r\n                this._contentWidget.startShowingAt(showAtRange, 0 /* Delayed */, false);\r\n            }\r\n        }\r\n        else if (targetType === 2 /* GUTTER_GLYPH_MARGIN */) {\r\n            (_f = this._contentWidget) === null || _f === void 0 ? void 0 : _f.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.position) {\r\n                if (!this._glyphWidget) {\r\n                    this._glyphWidget = new ModesGlyphHoverWidget(this._editor, this._modeService, this._openerService);\r\n                }\r\n                this._glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);\r\n            }\r\n        }\r\n        else {\r\n            this._hideWidgets();\r\n        }\r\n    }\r\n    _onKeyDown(e) {\r\n        if (e.keyCode !== 5 /* Ctrl */ && e.keyCode !== 6 /* Alt */ && e.keyCode !== 57 /* Meta */ && e.keyCode !== 4 /* Shift */) {\r\n            // Do not hide hover when a modifier key is pressed\r\n            this._hideWidgets();\r\n        }\r\n    }\r\n    _hideWidgets() {\r\n        var _a, _b, _c;\r\n        if ((this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible()))) {\r\n            return;\r\n        }\r\n        this._hoverClicked = false;\r\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\r\n        (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\r\n    }\r\n    isColorPickerVisible() {\r\n        var _a;\r\n        return ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible()) || false;\r\n    }\r\n    showContentHover(range, mode, focus) {\r\n        if (!this._contentWidget) {\r\n            this._contentWidget = new ModesContentHoverWidget(this._editor, this._hoverVisibleKey, this._instantiationService, this._themeService);\r\n        }\r\n        this._contentWidget.startShowingAt(range, mode, focus);\r\n    }\r\n    dispose() {\r\n        var _a, _b;\r\n        this._unhookEvents();\r\n        this._toUnhook.dispose();\r\n        this._didChangeConfigurationHandler.dispose();\r\n        (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\r\n    }\r\n};\r\nModesHoverController.ID = 'editor.contrib.hover';\r\nModesHoverController = __decorate([\r\n    __param(1, IInstantiationService),\r\n    __param(2, IOpenerService),\r\n    __param(3, IModeService),\r\n    __param(4, IThemeService),\r\n    __param(5, IContextKeyService)\r\n], ModesHoverController);\r\nexport { ModesHoverController };\r\nclass ShowHoverAction extends EditorAction {\r\n    constructor() {\r\n        super({\r\n            id: 'editor.action.showHover',\r\n            label: nls.localize({\r\n                key: 'showHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of a hover in the editor.',\r\n                    'This allows for users to show the hover without using the mouse.'\r\n                ]\r\n            }, \"Show Hover\"),\r\n            alias: 'Show Hover',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 39 /* KEY_I */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        });\r\n    }\r\n    run(accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        let controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        const position = editor.getPosition();\r\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        const focus = editor.getOption(2 /* accessibilitySupport */) === 2 /* Enabled */;\r\n        controller.showContentHover(range, 1 /* Immediate */, focus);\r\n    }\r\n}\r\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\r\n    constructor() {\r\n        super({\r\n            id: 'editor.action.showDefinitionPreviewHover',\r\n            label: nls.localize({\r\n                key: 'showDefinitionPreviewHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\r\n                    'This allows for users to show the definition preview hover without using the mouse.'\r\n                ]\r\n            }, \"Show Definition Preview Hover\"),\r\n            alias: 'Show Definition Preview Hover',\r\n            precondition: undefined\r\n        });\r\n    }\r\n    run(accessor, editor) {\r\n        let controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        const position = editor.getPosition();\r\n        if (!position) {\r\n            return;\r\n        }\r\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\r\n        const promise = goto.startFindDefinitionFromCursor(position);\r\n        if (promise) {\r\n            promise.then(() => {\r\n                controller.showContentHover(range, 1 /* Immediate */, true);\r\n            });\r\n        }\r\n        else {\r\n            controller.showContentHover(range, 1 /* Immediate */, true);\r\n        }\r\n    }\r\n}\r\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController);\r\nregisterEditorAction(ShowHoverAction);\r\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\r\n// theming\r\nregisterThemingParticipant((theme, collector) => {\r\n    const editorHoverHighlightColor = theme.getColor(editorHoverHighlight);\r\n    if (editorHoverHighlightColor) {\r\n        collector.addRule(`.monaco-editor .hoverHighlight { background-color: ${editorHoverHighlightColor}; }`);\r\n    }\r\n    const hoverBackground = theme.getColor(editorHoverBackground);\r\n    if (hoverBackground) {\r\n        collector.addRule(`.monaco-editor .monaco-hover { background-color: ${hoverBackground}; }`);\r\n    }\r\n    const hoverBorder = theme.getColor(editorHoverBorder);\r\n    if (hoverBorder) {\r\n        collector.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${hoverBorder}; }`);\r\n        collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\r\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\r\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\r\n    }\r\n    const link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(`.monaco-editor .monaco-hover a { color: ${link}; }`);\r\n    }\r\n    const hoverForeground = theme.getColor(editorHoverForeground);\r\n    if (hoverForeground) {\r\n        collector.addRule(`.monaco-editor .monaco-hover { color: ${hoverForeground}; }`);\r\n    }\r\n    const actionsBackground = theme.getColor(editorHoverStatusBarBackground);\r\n    if (actionsBackground) {\r\n        collector.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${actionsBackground}; }`);\r\n    }\r\n    const codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(`.monaco-editor .monaco-hover code { background-color: ${codeBackground}; }`);\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}