{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nexport class TokenizationRegistryImpl {\n  constructor() {\n    this._map = new Map();\n    this._promises = new Map();\n    this._onDidChange = new Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._colorMap = null;\n  }\n  fire(languages) {\n    this._onDidChange.fire({\n      changedLanguages: languages,\n      changedColorMap: false\n    });\n  }\n  register(language, support) {\n    this._map.set(language, support);\n    this.fire([language]);\n    return toDisposable(() => {\n      if (this._map.get(language) !== support) {\n        return;\n      }\n      this._map.delete(language);\n      this.fire([language]);\n    });\n  }\n  registerPromise(language, supportPromise) {\n    let registration = null;\n    let isDisposed = false;\n    this._promises.set(language, supportPromise.then(support => {\n      this._promises.delete(language);\n      if (isDisposed || !support) {\n        return;\n      }\n      registration = this.register(language, support);\n    }));\n    return toDisposable(() => {\n      isDisposed = true;\n      if (registration) {\n        registration.dispose();\n      }\n    });\n  }\n  getPromise(language) {\n    const support = this.get(language);\n    if (support) {\n      return Promise.resolve(support);\n    }\n    const promise = this._promises.get(language);\n    if (promise) {\n      return promise.then(_ => this.get(language));\n    }\n    return null;\n  }\n  get(language) {\n    return this._map.get(language) || null;\n  }\n  setColorMap(colorMap) {\n    this._colorMap = colorMap;\n    this._onDidChange.fire({\n      changedLanguages: Array.from(this._map.keys()),\n      changedColorMap: true\n    });\n  }\n  getColorMap() {\n    return this._colorMap;\n  }\n  getDefaultBackground() {\n    if (this._colorMap && this._colorMap.length > 2 /* DefaultBackground */) {\n      return this._colorMap[2 /* DefaultBackground */];\n    }\n\n    return null;\n  }\n}","map":{"version":3,"names":["Emitter","toDisposable","TokenizationRegistryImpl","constructor","_map","Map","_promises","_onDidChange","onDidChange","event","_colorMap","fire","languages","changedLanguages","changedColorMap","register","language","support","set","get","delete","registerPromise","supportPromise","registration","isDisposed","then","dispose","getPromise","Promise","resolve","promise","_","setColorMap","colorMap","Array","from","keys","getColorMap","getDefaultBackground","length"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/common/modes/tokenizationRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nexport class TokenizationRegistryImpl {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._promises = new Map();\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._colorMap = null;\r\n    }\r\n    fire(languages) {\r\n        this._onDidChange.fire({\r\n            changedLanguages: languages,\r\n            changedColorMap: false\r\n        });\r\n    }\r\n    register(language, support) {\r\n        this._map.set(language, support);\r\n        this.fire([language]);\r\n        return toDisposable(() => {\r\n            if (this._map.get(language) !== support) {\r\n                return;\r\n            }\r\n            this._map.delete(language);\r\n            this.fire([language]);\r\n        });\r\n    }\r\n    registerPromise(language, supportPromise) {\r\n        let registration = null;\r\n        let isDisposed = false;\r\n        this._promises.set(language, supportPromise.then(support => {\r\n            this._promises.delete(language);\r\n            if (isDisposed || !support) {\r\n                return;\r\n            }\r\n            registration = this.register(language, support);\r\n        }));\r\n        return toDisposable(() => {\r\n            isDisposed = true;\r\n            if (registration) {\r\n                registration.dispose();\r\n            }\r\n        });\r\n    }\r\n    getPromise(language) {\r\n        const support = this.get(language);\r\n        if (support) {\r\n            return Promise.resolve(support);\r\n        }\r\n        const promise = this._promises.get(language);\r\n        if (promise) {\r\n            return promise.then(_ => this.get(language));\r\n        }\r\n        return null;\r\n    }\r\n    get(language) {\r\n        return (this._map.get(language) || null);\r\n    }\r\n    setColorMap(colorMap) {\r\n        this._colorMap = colorMap;\r\n        this._onDidChange.fire({\r\n            changedLanguages: Array.from(this._map.keys()),\r\n            changedColorMap: true\r\n        });\r\n    }\r\n    getColorMap() {\r\n        return this._colorMap;\r\n    }\r\n    getDefaultBackground() {\r\n        if (this._colorMap && this._colorMap.length > 2 /* DefaultBackground */) {\r\n            return this._colorMap[2 /* DefaultBackground */];\r\n        }\r\n        return null;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}