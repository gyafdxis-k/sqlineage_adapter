{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { ReferencesModel, FileReferences, OneReference } from '../referencesModel.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { IconLabel } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { attachBadgeStyler } from '../../../../platform/theme/common/styler.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { localize } from '../../../../nls.js';\nimport { getBaseLabel } from '../../../../base/common/labels.js';\nimport { dirname, basename } from '../../../../base/common/resources.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { FuzzyScore, createMatches } from '../../../../base/common/filters.js';\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nlet DataSource = class DataSource {\n  constructor(_resolverService) {\n    this._resolverService = _resolverService;\n  }\n  hasChildren(element) {\n    if (element instanceof ReferencesModel) {\n      return true;\n    }\n    if (element instanceof FileReferences) {\n      return true;\n    }\n    return false;\n  }\n  getChildren(element) {\n    if (element instanceof ReferencesModel) {\n      return element.groups;\n    }\n    if (element instanceof FileReferences) {\n      return element.resolve(this._resolverService).then(val => {\n        // if (element.failure) {\n        // \t// refresh the element on failure so that\n        // \t// we can update its rendering\n        // \treturn tree.refresh(element).then(() => val.children);\n        // }\n        return val.children;\n      });\n    }\n    throw new Error('bad tree');\n  }\n};\nDataSource = __decorate([__param(0, ITextModelService)], DataSource);\nexport { DataSource };\n//#endregion\nexport class Delegate {\n  getHeight() {\n    return 23;\n  }\n  getTemplateId(element) {\n    if (element instanceof FileReferences) {\n      return FileReferencesRenderer.id;\n    } else {\n      return OneReferenceRenderer.id;\n    }\n  }\n}\nlet StringRepresentationProvider = class StringRepresentationProvider {\n  constructor(_keybindingService) {\n    this._keybindingService = _keybindingService;\n  }\n  getKeyboardNavigationLabel(element) {\n    var _a;\n    if (element instanceof OneReference) {\n      const parts = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\n      if (parts) {\n        return parts.value;\n      }\n    }\n    // FileReferences or unresolved OneReference\n    return basename(element.uri);\n  }\n};\nStringRepresentationProvider = __decorate([__param(0, IKeybindingService)], StringRepresentationProvider);\nexport { StringRepresentationProvider };\nexport class IdentityProvider {\n  getId(element) {\n    return element instanceof OneReference ? element.id : element.uri;\n  }\n}\n//#region render: File\nlet FileReferencesTemplate = class FileReferencesTemplate extends Disposable {\n  constructor(container, _uriLabel, themeService) {\n    super();\n    this._uriLabel = _uriLabel;\n    const parent = document.createElement('div');\n    parent.classList.add('reference-file');\n    this.file = this._register(new IconLabel(parent, {\n      supportHighlights: true\n    }));\n    this.badge = new CountBadge(dom.append(parent, dom.$('.count')));\n    this._register(attachBadgeStyler(this.badge, themeService));\n    container.appendChild(parent);\n  }\n  set(element, matches) {\n    let parent = dirname(element.uri);\n    this.file.setLabel(getBaseLabel(element.uri), this._uriLabel.getUriLabel(parent, {\n      relative: true\n    }), {\n      title: this._uriLabel.getUriLabel(element.uri),\n      matches\n    });\n    const len = element.children.length;\n    this.badge.setCount(len);\n    if (len > 1) {\n      this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\n    } else {\n      this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\n    }\n  }\n};\nFileReferencesTemplate = __decorate([__param(1, ILabelService), __param(2, IThemeService)], FileReferencesTemplate);\nlet FileReferencesRenderer = class FileReferencesRenderer {\n  constructor(_instantiationService) {\n    this._instantiationService = _instantiationService;\n    this.templateId = FileReferencesRenderer.id;\n  }\n  renderTemplate(container) {\n    return this._instantiationService.createInstance(FileReferencesTemplate, container);\n  }\n  renderElement(node, index, template) {\n    template.set(node.element, createMatches(node.filterData));\n  }\n  disposeTemplate(templateData) {\n    templateData.dispose();\n  }\n};\nFileReferencesRenderer.id = 'FileReferencesRenderer';\nFileReferencesRenderer = __decorate([__param(0, IInstantiationService)], FileReferencesRenderer);\nexport { FileReferencesRenderer };\n//#endregion\n//#region render: Reference\nclass OneReferenceTemplate {\n  constructor(container) {\n    this.label = new HighlightedLabel(container, false);\n  }\n  set(element, score) {\n    var _a;\n    const preview = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\n    if (!preview || !preview.value) {\n      // this means we FAILED to resolve the document or the value is the empty string\n      this.label.set(\"\".concat(basename(element.uri), \":\").concat(element.range.startLineNumber + 1, \":\").concat(element.range.startColumn + 1));\n    } else {\n      // render search match as highlight unless\n      // we have score, then render the score\n      const {\n        value,\n        highlight\n      } = preview;\n      if (score && !FuzzyScore.isDefault(score)) {\n        this.label.element.classList.toggle('referenceMatch', false);\n        this.label.set(value, createMatches(score));\n      } else {\n        this.label.element.classList.toggle('referenceMatch', true);\n        this.label.set(value, [highlight]);\n      }\n    }\n  }\n}\nexport class OneReferenceRenderer {\n  constructor() {\n    this.templateId = OneReferenceRenderer.id;\n  }\n  renderTemplate(container) {\n    return new OneReferenceTemplate(container);\n  }\n  renderElement(node, index, templateData) {\n    templateData.set(node.element, node.filterData);\n  }\n  disposeTemplate() {}\n}\nOneReferenceRenderer.id = 'OneReferenceRenderer';\n//#endregion\nexport class AccessibilityProvider {\n  getWidgetAriaLabel() {\n    return localize('treeAriaLabel', \"References\");\n  }\n  getAriaLabel(element) {\n    return element.ariaMessage;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ReferencesModel","FileReferences","OneReference","ITextModelService","IconLabel","CountBadge","ILabelService","IThemeService","attachBadgeStyler","dom","localize","getBaseLabel","dirname","basename","Disposable","IInstantiationService","IKeybindingService","FuzzyScore","createMatches","HighlightedLabel","DataSource","constructor","_resolverService","hasChildren","element","getChildren","groups","resolve","then","val","children","Error","Delegate","getHeight","getTemplateId","FileReferencesRenderer","id","OneReferenceRenderer","StringRepresentationProvider","_keybindingService","getKeyboardNavigationLabel","_a","parts","parent","getPreview","preview","range","value","uri","IdentityProvider","getId","FileReferencesTemplate","container","_uriLabel","themeService","document","createElement","classList","add","file","_register","supportHighlights","badge","append","$","appendChild","set","matches","setLabel","getUriLabel","relative","title","len","setCount","setTitleFormat","_instantiationService","templateId","renderTemplate","createInstance","renderElement","node","index","template","filterData","disposeTemplate","templateData","dispose","OneReferenceTemplate","label","score","concat","startLineNumber","startColumn","highlight","isDefault","toggle","AccessibilityProvider","getWidgetAriaLabel","getAriaLabel","ariaMessage"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesTree.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ReferencesModel, FileReferences, OneReference } from '../referencesModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { IconLabel } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\r\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\r\nimport { attachBadgeStyler } from '../../../../platform/theme/common/styler.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { localize } from '../../../../nls.js';\r\nimport { getBaseLabel } from '../../../../base/common/labels.js';\r\nimport { dirname, basename } from '../../../../base/common/resources.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { FuzzyScore, createMatches } from '../../../../base/common/filters.js';\r\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\r\nlet DataSource = class DataSource {\r\n    constructor(_resolverService) {\r\n        this._resolverService = _resolverService;\r\n    }\r\n    hasChildren(element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return true;\r\n        }\r\n        if (element instanceof FileReferences) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    getChildren(element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return element.groups;\r\n        }\r\n        if (element instanceof FileReferences) {\r\n            return element.resolve(this._resolverService).then(val => {\r\n                // if (element.failure) {\r\n                // \t// refresh the element on failure so that\r\n                // \t// we can update its rendering\r\n                // \treturn tree.refresh(element).then(() => val.children);\r\n                // }\r\n                return val.children;\r\n            });\r\n        }\r\n        throw new Error('bad tree');\r\n    }\r\n};\r\nDataSource = __decorate([\r\n    __param(0, ITextModelService)\r\n], DataSource);\r\nexport { DataSource };\r\n//#endregion\r\nexport class Delegate {\r\n    getHeight() {\r\n        return 23;\r\n    }\r\n    getTemplateId(element) {\r\n        if (element instanceof FileReferences) {\r\n            return FileReferencesRenderer.id;\r\n        }\r\n        else {\r\n            return OneReferenceRenderer.id;\r\n        }\r\n    }\r\n}\r\nlet StringRepresentationProvider = class StringRepresentationProvider {\r\n    constructor(_keybindingService) {\r\n        this._keybindingService = _keybindingService;\r\n    }\r\n    getKeyboardNavigationLabel(element) {\r\n        var _a;\r\n        if (element instanceof OneReference) {\r\n            const parts = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\r\n            if (parts) {\r\n                return parts.value;\r\n            }\r\n        }\r\n        // FileReferences or unresolved OneReference\r\n        return basename(element.uri);\r\n    }\r\n};\r\nStringRepresentationProvider = __decorate([\r\n    __param(0, IKeybindingService)\r\n], StringRepresentationProvider);\r\nexport { StringRepresentationProvider };\r\nexport class IdentityProvider {\r\n    getId(element) {\r\n        return element instanceof OneReference ? element.id : element.uri;\r\n    }\r\n}\r\n//#region render: File\r\nlet FileReferencesTemplate = class FileReferencesTemplate extends Disposable {\r\n    constructor(container, _uriLabel, themeService) {\r\n        super();\r\n        this._uriLabel = _uriLabel;\r\n        const parent = document.createElement('div');\r\n        parent.classList.add('reference-file');\r\n        this.file = this._register(new IconLabel(parent, { supportHighlights: true }));\r\n        this.badge = new CountBadge(dom.append(parent, dom.$('.count')));\r\n        this._register(attachBadgeStyler(this.badge, themeService));\r\n        container.appendChild(parent);\r\n    }\r\n    set(element, matches) {\r\n        let parent = dirname(element.uri);\r\n        this.file.setLabel(getBaseLabel(element.uri), this._uriLabel.getUriLabel(parent, { relative: true }), { title: this._uriLabel.getUriLabel(element.uri), matches });\r\n        const len = element.children.length;\r\n        this.badge.setCount(len);\r\n        if (len > 1) {\r\n            this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\r\n        }\r\n        else {\r\n            this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\r\n        }\r\n    }\r\n};\r\nFileReferencesTemplate = __decorate([\r\n    __param(1, ILabelService),\r\n    __param(2, IThemeService)\r\n], FileReferencesTemplate);\r\nlet FileReferencesRenderer = class FileReferencesRenderer {\r\n    constructor(_instantiationService) {\r\n        this._instantiationService = _instantiationService;\r\n        this.templateId = FileReferencesRenderer.id;\r\n    }\r\n    renderTemplate(container) {\r\n        return this._instantiationService.createInstance(FileReferencesTemplate, container);\r\n    }\r\n    renderElement(node, index, template) {\r\n        template.set(node.element, createMatches(node.filterData));\r\n    }\r\n    disposeTemplate(templateData) {\r\n        templateData.dispose();\r\n    }\r\n};\r\nFileReferencesRenderer.id = 'FileReferencesRenderer';\r\nFileReferencesRenderer = __decorate([\r\n    __param(0, IInstantiationService)\r\n], FileReferencesRenderer);\r\nexport { FileReferencesRenderer };\r\n//#endregion\r\n//#region render: Reference\r\nclass OneReferenceTemplate {\r\n    constructor(container) {\r\n        this.label = new HighlightedLabel(container, false);\r\n    }\r\n    set(element, score) {\r\n        var _a;\r\n        const preview = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\r\n        if (!preview || !preview.value) {\r\n            // this means we FAILED to resolve the document or the value is the empty string\r\n            this.label.set(`${basename(element.uri)}:${element.range.startLineNumber + 1}:${element.range.startColumn + 1}`);\r\n        }\r\n        else {\r\n            // render search match as highlight unless\r\n            // we have score, then render the score\r\n            const { value, highlight } = preview;\r\n            if (score && !FuzzyScore.isDefault(score)) {\r\n                this.label.element.classList.toggle('referenceMatch', false);\r\n                this.label.set(value, createMatches(score));\r\n            }\r\n            else {\r\n                this.label.element.classList.toggle('referenceMatch', true);\r\n                this.label.set(value, [highlight]);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport class OneReferenceRenderer {\r\n    constructor() {\r\n        this.templateId = OneReferenceRenderer.id;\r\n    }\r\n    renderTemplate(container) {\r\n        return new OneReferenceTemplate(container);\r\n    }\r\n    renderElement(node, index, templateData) {\r\n        templateData.set(node.element, node.filterData);\r\n    }\r\n    disposeTemplate() {\r\n    }\r\n}\r\nOneReferenceRenderer.id = 'OneReferenceRenderer';\r\n//#endregion\r\nexport class AccessibilityProvider {\r\n    getWidgetAriaLabel() {\r\n        return localize('treeAriaLabel', \"References\");\r\n    }\r\n    getAriaLabel(element) {\r\n        return element.ariaMessage;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}