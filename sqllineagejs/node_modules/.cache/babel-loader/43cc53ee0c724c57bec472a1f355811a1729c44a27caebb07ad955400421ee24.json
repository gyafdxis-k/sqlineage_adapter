{"ast":null,"code":"// A tiny wrapper around fetch(), borrowed from\n// https://kentcdodds.com/blog/replace-axios-with-a-simple-custom-fetch-wrapper\nexport function assemble_absolute_endpoint(relative_endpoint){let backend_api=process.env.REACT_APP_BACKEND_API;let api_prefix=backend_api?backend_api:new URL(window.location.href).origin;return\"\".concat(api_prefix).concat(relative_endpoint);}export async function client(endpoint){let{body,...customConfig}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const headers={'Content-Type':'application/json'};const config={method:body?'POST':'GET',...customConfig,headers:{...headers,...customConfig.headers}};if(body){config.body=JSON.stringify(body);}let data;const response=await window.fetch(endpoint,config);data=await response.json();if(response.ok){return data;}else{// 4XX or 5XX, try use response.json() first, if not then fallback to statusText\nreturn Promise.reject(data?data:response.statusText);}}client.get=function(endpoint){let customConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return client(endpoint,{...customConfig,method:'GET'});};client.post=function(endpoint,body){let customConfig=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return client(endpoint,{...customConfig,body});};","map":{"version":3,"names":["assemble_absolute_endpoint","relative_endpoint","backend_api","process","env","REACT_APP_BACKEND_API","api_prefix","URL","window","location","href","origin","concat","client","endpoint","body","customConfig","arguments","length","undefined","headers","config","method","JSON","stringify","data","response","fetch","json","ok","Promise","reject","statusText","get","post"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/src/api/client.js"],"sourcesContent":["// A tiny wrapper around fetch(), borrowed from\n// https://kentcdodds.com/blog/replace-axios-with-a-simple-custom-fetch-wrapper\n\nexport function assemble_absolute_endpoint(relative_endpoint) {\n  let backend_api = process.env.REACT_APP_BACKEND_API;\n  let api_prefix = backend_api ? backend_api : (new URL(window.location.href)).origin;\n  return `${api_prefix}${relative_endpoint}`\n}\n\nexport async function client(endpoint, {body, ...customConfig} = {}) {\n  const headers = {'Content-Type': 'application/json'}\n\n  const config = {\n    method: body ? 'POST' : 'GET',\n    ...customConfig,\n    headers: {\n      ...headers,\n      ...customConfig.headers,\n    },\n  }\n\n  if (body) {\n    config.body = JSON.stringify(body)\n  }\n\n  let data\n  const response = await window.fetch(endpoint, config)\n  data = await response.json()\n  if (response.ok) {\n    return data\n  } else {\n    // 4XX or 5XX, try use response.json() first, if not then fallback to statusText\n    return Promise.reject(data ? data : response.statusText)\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, {...customConfig, method: 'GET'})\n}\n\nclient.post = function (endpoint, body, customConfig = {}) {\n  return client(endpoint, {...customConfig, body})\n}\n"],"mappings":"AAAA;AACA;AAEA,MAAO,SAAS,CAAAA,0BAA0BA,CAACC,iBAAiB,CAAE,CAC5D,GAAI,CAAAC,WAAW,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CACnD,GAAI,CAAAC,UAAU,CAAGJ,WAAW,CAAGA,WAAW,CAAI,GAAI,CAAAK,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAAEC,MAAM,CACnF,SAAAC,MAAA,CAAUN,UAAU,EAAAM,MAAA,CAAGX,iBAAiB,EAC1C,CAEA,MAAO,eAAe,CAAAY,MAAMA,CAACC,QAAQ,CAAgC,IAA9B,CAACC,IAAI,CAAE,GAAGC,YAAY,CAAC,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACjE,KAAM,CAAAG,OAAO,CAAG,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAEpD,KAAM,CAAAC,MAAM,CAAG,CACbC,MAAM,CAAEP,IAAI,CAAG,MAAM,CAAG,KAAK,CAC7B,GAAGC,YAAY,CACfI,OAAO,CAAE,CACP,GAAGA,OAAO,CACV,GAAGJ,YAAY,CAACI,OAClB,CACF,CAAC,CAED,GAAIL,IAAI,CAAE,CACRM,MAAM,CAACN,IAAI,CAAGQ,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,CACpC,CAEA,GAAI,CAAAU,IAAI,CACR,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlB,MAAM,CAACmB,KAAK,CAACb,QAAQ,CAAEO,MAAM,CAAC,CACrDI,IAAI,CAAG,KAAM,CAAAC,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC5B,GAAIF,QAAQ,CAACG,EAAE,CAAE,CACf,MAAO,CAAAJ,IAAI,CACb,CAAC,IAAM,CACL;AACA,MAAO,CAAAK,OAAO,CAACC,MAAM,CAACN,IAAI,CAAGA,IAAI,CAAGC,QAAQ,CAACM,UAAU,CAAC,CAC1D,CACF,CAEAnB,MAAM,CAACoB,GAAG,CAAG,SAAUnB,QAAQ,CAAqB,IAAnB,CAAAE,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAChD,MAAO,CAAAJ,MAAM,CAACC,QAAQ,CAAE,CAAC,GAAGE,YAAY,CAAEM,MAAM,CAAE,KAAK,CAAC,CAAC,CAC3D,CAAC,CAEDT,MAAM,CAACqB,IAAI,CAAG,SAAUpB,QAAQ,CAAEC,IAAI,CAAqB,IAAnB,CAAAC,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACvD,MAAO,CAAAJ,MAAM,CAACC,QAAQ,CAAE,CAAC,GAAGE,YAAY,CAAED,IAAI,CAAC,CAAC,CAClD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}