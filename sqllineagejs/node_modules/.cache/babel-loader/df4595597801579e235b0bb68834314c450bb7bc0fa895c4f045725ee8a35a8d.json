{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { createCancelablePromise, TimeoutTimer } from '../../../base/common/async.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { Range } from '../../common/core/range.js';\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { Progress } from '../../../platform/progress/common/progress.js';\nimport { getCodeActions } from './codeAction.js';\nimport { isEqual } from '../../../base/common/resources.js';\nexport const SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\nclass CodeActionOracle extends Disposable {\n  constructor(_editor, _markerService, _signalChange) {\n    let _delay = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 250;\n    super();\n    this._editor = _editor;\n    this._markerService = _markerService;\n    this._signalChange = _signalChange;\n    this._delay = _delay;\n    this._autoTriggerTimer = this._register(new TimeoutTimer());\n    this._register(this._markerService.onMarkerChanged(e => this._onMarkerChanges(e)));\n    this._register(this._editor.onDidChangeCursorPosition(() => this._onCursorChange()));\n  }\n  trigger(trigger) {\n    const selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\n    return this._createEventAndSignalChange(trigger, selection);\n  }\n  _onMarkerChanges(resources) {\n    const model = this._editor.getModel();\n    if (!model) {\n      return;\n    }\n    if (resources.some(resource => isEqual(resource, model.uri))) {\n      this._autoTriggerTimer.cancelAndSet(() => {\n        this.trigger({\n          type: 1 /* Auto */\n        });\n      }, this._delay);\n    }\n  }\n  _onCursorChange() {\n    this._autoTriggerTimer.cancelAndSet(() => {\n      this.trigger({\n        type: 1 /* Auto */\n      });\n    }, this._delay);\n  }\n  _getRangeOfMarker(selection) {\n    const model = this._editor.getModel();\n    if (!model) {\n      return undefined;\n    }\n    for (const marker of this._markerService.read({\n      resource: model.uri\n    })) {\n      const markerRange = model.validateRange(marker);\n      if (Range.intersectRanges(markerRange, selection)) {\n        return Range.lift(markerRange);\n      }\n    }\n    return undefined;\n  }\n  _getRangeOfSelectionUnlessWhitespaceEnclosed(trigger) {\n    if (!this._editor.hasModel()) {\n      return undefined;\n    }\n    const model = this._editor.getModel();\n    const selection = this._editor.getSelection();\n    if (selection.isEmpty() && trigger.type === 1 /* Auto */) {\n      const {\n        lineNumber,\n        column\n      } = selection.getPosition();\n      const line = model.getLineContent(lineNumber);\n      if (line.length === 0) {\n        // empty line\n        return undefined;\n      } else if (column === 1) {\n        // look only right\n        if (/\\s/.test(line[0])) {\n          return undefined;\n        }\n      } else if (column === model.getLineMaxColumn(lineNumber)) {\n        // look only left\n        if (/\\s/.test(line[line.length - 1])) {\n          return undefined;\n        }\n      } else {\n        // look left and right\n        if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\n          return undefined;\n        }\n      }\n    }\n    return selection;\n  }\n  _createEventAndSignalChange(trigger, selection) {\n    const model = this._editor.getModel();\n    if (!selection || !model) {\n      // cancel\n      this._signalChange(undefined);\n      return undefined;\n    }\n    const markerRange = this._getRangeOfMarker(selection);\n    const position = markerRange ? markerRange.getStartPosition() : selection.getStartPosition();\n    const e = {\n      trigger,\n      selection,\n      position\n    };\n    this._signalChange(e);\n    return e;\n  }\n}\nexport var CodeActionsState;\n(function (CodeActionsState) {\n  CodeActionsState.Empty = {\n    type: 0 /* Empty */\n  };\n  class Triggered {\n    constructor(trigger, rangeOrSelection, position, actions) {\n      this.trigger = trigger;\n      this.rangeOrSelection = rangeOrSelection;\n      this.position = position;\n      this.actions = actions;\n      this.type = 1 /* Triggered */;\n    }\n  }\n\n  CodeActionsState.Triggered = Triggered;\n})(CodeActionsState || (CodeActionsState = {}));\nexport class CodeActionModel extends Disposable {\n  constructor(_editor, _markerService, contextKeyService, _progressService) {\n    super();\n    this._editor = _editor;\n    this._markerService = _markerService;\n    this._progressService = _progressService;\n    this._codeActionOracle = this._register(new MutableDisposable());\n    this._state = CodeActionsState.Empty;\n    this._onDidChangeState = this._register(new Emitter());\n    this.onDidChangeState = this._onDidChangeState.event;\n    this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\n    this._register(this._editor.onDidChangeModel(() => this._update()));\n    this._register(this._editor.onDidChangeModelLanguage(() => this._update()));\n    this._register(CodeActionProviderRegistry.onDidChange(() => this._update()));\n    this._update();\n  }\n  dispose() {\n    super.dispose();\n    this.setState(CodeActionsState.Empty, true);\n  }\n  _update() {\n    this._codeActionOracle.value = undefined;\n    this.setState(CodeActionsState.Empty);\n    const model = this._editor.getModel();\n    if (model && CodeActionProviderRegistry.has(model) && !this._editor.getOption(75 /* readOnly */)) {\n      const supportedActions = [];\n      for (const provider of CodeActionProviderRegistry.all(model)) {\n        if (Array.isArray(provider.providedCodeActionKinds)) {\n          supportedActions.push(...provider.providedCodeActionKinds);\n        }\n      }\n      this._supportedCodeActions.set(supportedActions.join(' '));\n      this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, trigger => {\n        var _a;\n        if (!trigger) {\n          this.setState(CodeActionsState.Empty);\n          return;\n        }\n        const actions = createCancelablePromise(token => getCodeActions(model, trigger.selection, trigger.trigger, Progress.None, token));\n        if (trigger.trigger.type === 2 /* Manual */) {\n          (_a = this._progressService) === null || _a === void 0 ? void 0 : _a.showWhile(actions, 250);\n        }\n        this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\n      }, undefined);\n      this._codeActionOracle.value.trigger({\n        type: 1 /* Auto */\n      });\n    } else {\n      this._supportedCodeActions.reset();\n    }\n  }\n  trigger(trigger) {\n    if (this._codeActionOracle.value) {\n      this._codeActionOracle.value.trigger(trigger);\n    }\n  }\n  setState(newState, skipNotify) {\n    if (newState === this._state) {\n      return;\n    }\n    // Cancel old request\n    if (this._state.type === 1 /* Triggered */) {\n      this._state.actions.cancel();\n    }\n    this._state = newState;\n    if (!skipNotify) {\n      this._onDidChangeState.fire(newState);\n    }\n  }\n}","map":{"version":3,"names":["createCancelablePromise","TimeoutTimer","Emitter","Disposable","MutableDisposable","Range","CodeActionProviderRegistry","RawContextKey","Progress","getCodeActions","isEqual","SUPPORTED_CODE_ACTIONS","CodeActionOracle","constructor","_editor","_markerService","_signalChange","_delay","arguments","length","undefined","_autoTriggerTimer","_register","onMarkerChanged","e","_onMarkerChanges","onDidChangeCursorPosition","_onCursorChange","trigger","selection","_getRangeOfSelectionUnlessWhitespaceEnclosed","_createEventAndSignalChange","resources","model","getModel","some","resource","uri","cancelAndSet","type","_getRangeOfMarker","marker","read","markerRange","validateRange","intersectRanges","lift","hasModel","getSelection","isEmpty","lineNumber","column","getPosition","line","getLineContent","test","getLineMaxColumn","position","getStartPosition","CodeActionsState","Empty","Triggered","rangeOrSelection","actions","CodeActionModel","contextKeyService","_progressService","_codeActionOracle","_state","_onDidChangeState","onDidChangeState","event","_supportedCodeActions","bindTo","onDidChangeModel","_update","onDidChangeModelLanguage","onDidChange","dispose","setState","value","has","getOption","supportedActions","provider","all","Array","isArray","providedCodeActionKinds","push","set","join","_a","token","None","showWhile","reset","newState","skipNotify","cancel","fire"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createCancelablePromise, TimeoutTimer } from '../../../base/common/async.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { Progress } from '../../../platform/progress/common/progress.js';\r\nimport { getCodeActions } from './codeAction.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nexport const SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\r\nclass CodeActionOracle extends Disposable {\r\n    constructor(_editor, _markerService, _signalChange, _delay = 250) {\r\n        super();\r\n        this._editor = _editor;\r\n        this._markerService = _markerService;\r\n        this._signalChange = _signalChange;\r\n        this._delay = _delay;\r\n        this._autoTriggerTimer = this._register(new TimeoutTimer());\r\n        this._register(this._markerService.onMarkerChanged(e => this._onMarkerChanges(e)));\r\n        this._register(this._editor.onDidChangeCursorPosition(() => this._onCursorChange()));\r\n    }\r\n    trigger(trigger) {\r\n        const selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\r\n        return this._createEventAndSignalChange(trigger, selection);\r\n    }\r\n    _onMarkerChanges(resources) {\r\n        const model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        if (resources.some(resource => isEqual(resource, model.uri))) {\r\n            this._autoTriggerTimer.cancelAndSet(() => {\r\n                this.trigger({ type: 1 /* Auto */ });\r\n            }, this._delay);\r\n        }\r\n    }\r\n    _onCursorChange() {\r\n        this._autoTriggerTimer.cancelAndSet(() => {\r\n            this.trigger({ type: 1 /* Auto */ });\r\n        }, this._delay);\r\n    }\r\n    _getRangeOfMarker(selection) {\r\n        const model = this._editor.getModel();\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        for (const marker of this._markerService.read({ resource: model.uri })) {\r\n            const markerRange = model.validateRange(marker);\r\n            if (Range.intersectRanges(markerRange, selection)) {\r\n                return Range.lift(markerRange);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    _getRangeOfSelectionUnlessWhitespaceEnclosed(trigger) {\r\n        if (!this._editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        const model = this._editor.getModel();\r\n        const selection = this._editor.getSelection();\r\n        if (selection.isEmpty() && trigger.type === 1 /* Auto */) {\r\n            const { lineNumber, column } = selection.getPosition();\r\n            const line = model.getLineContent(lineNumber);\r\n            if (line.length === 0) {\r\n                // empty line\r\n                return undefined;\r\n            }\r\n            else if (column === 1) {\r\n                // look only right\r\n                if (/\\s/.test(line[0])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else if (column === model.getLineMaxColumn(lineNumber)) {\r\n                // look only left\r\n                if (/\\s/.test(line[line.length - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else {\r\n                // look left and right\r\n                if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        return selection;\r\n    }\r\n    _createEventAndSignalChange(trigger, selection) {\r\n        const model = this._editor.getModel();\r\n        if (!selection || !model) {\r\n            // cancel\r\n            this._signalChange(undefined);\r\n            return undefined;\r\n        }\r\n        const markerRange = this._getRangeOfMarker(selection);\r\n        const position = markerRange ? markerRange.getStartPosition() : selection.getStartPosition();\r\n        const e = {\r\n            trigger,\r\n            selection,\r\n            position\r\n        };\r\n        this._signalChange(e);\r\n        return e;\r\n    }\r\n}\r\nexport var CodeActionsState;\r\n(function (CodeActionsState) {\r\n    CodeActionsState.Empty = { type: 0 /* Empty */ };\r\n    class Triggered {\r\n        constructor(trigger, rangeOrSelection, position, actions) {\r\n            this.trigger = trigger;\r\n            this.rangeOrSelection = rangeOrSelection;\r\n            this.position = position;\r\n            this.actions = actions;\r\n            this.type = 1 /* Triggered */;\r\n        }\r\n    }\r\n    CodeActionsState.Triggered = Triggered;\r\n})(CodeActionsState || (CodeActionsState = {}));\r\nexport class CodeActionModel extends Disposable {\r\n    constructor(_editor, _markerService, contextKeyService, _progressService) {\r\n        super();\r\n        this._editor = _editor;\r\n        this._markerService = _markerService;\r\n        this._progressService = _progressService;\r\n        this._codeActionOracle = this._register(new MutableDisposable());\r\n        this._state = CodeActionsState.Empty;\r\n        this._onDidChangeState = this._register(new Emitter());\r\n        this.onDidChangeState = this._onDidChangeState.event;\r\n        this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\r\n        this._register(this._editor.onDidChangeModel(() => this._update()));\r\n        this._register(this._editor.onDidChangeModelLanguage(() => this._update()));\r\n        this._register(CodeActionProviderRegistry.onDidChange(() => this._update()));\r\n        this._update();\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.setState(CodeActionsState.Empty, true);\r\n    }\r\n    _update() {\r\n        this._codeActionOracle.value = undefined;\r\n        this.setState(CodeActionsState.Empty);\r\n        const model = this._editor.getModel();\r\n        if (model\r\n            && CodeActionProviderRegistry.has(model)\r\n            && !this._editor.getOption(75 /* readOnly */)) {\r\n            const supportedActions = [];\r\n            for (const provider of CodeActionProviderRegistry.all(model)) {\r\n                if (Array.isArray(provider.providedCodeActionKinds)) {\r\n                    supportedActions.push(...provider.providedCodeActionKinds);\r\n                }\r\n            }\r\n            this._supportedCodeActions.set(supportedActions.join(' '));\r\n            this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, trigger => {\r\n                var _a;\r\n                if (!trigger) {\r\n                    this.setState(CodeActionsState.Empty);\r\n                    return;\r\n                }\r\n                const actions = createCancelablePromise(token => getCodeActions(model, trigger.selection, trigger.trigger, Progress.None, token));\r\n                if (trigger.trigger.type === 2 /* Manual */) {\r\n                    (_a = this._progressService) === null || _a === void 0 ? void 0 : _a.showWhile(actions, 250);\r\n                }\r\n                this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\r\n            }, undefined);\r\n            this._codeActionOracle.value.trigger({ type: 1 /* Auto */ });\r\n        }\r\n        else {\r\n            this._supportedCodeActions.reset();\r\n        }\r\n    }\r\n    trigger(trigger) {\r\n        if (this._codeActionOracle.value) {\r\n            this._codeActionOracle.value.trigger(trigger);\r\n        }\r\n    }\r\n    setState(newState, skipNotify) {\r\n        if (newState === this._state) {\r\n            return;\r\n        }\r\n        // Cancel old request\r\n        if (this._state.type === 1 /* Triggered */) {\r\n            this._state.actions.cancel();\r\n        }\r\n        this._state = newState;\r\n        if (!skipNotify) {\r\n            this._onDidChangeState.fire(newState);\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}