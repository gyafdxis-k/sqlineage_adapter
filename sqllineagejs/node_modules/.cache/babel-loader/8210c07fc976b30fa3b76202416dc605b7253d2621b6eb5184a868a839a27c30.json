{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { localize } from '../../../nls.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { basename, extUri } from '../../../base/common/resources.js';\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\nimport { Range } from '../../common/core/range.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nexport class OneReference {\n  constructor(isProviderFirst, parent, uri, _range, _rangeCallback) {\n    this.isProviderFirst = isProviderFirst;\n    this.parent = parent;\n    this.uri = uri;\n    this._range = _range;\n    this._rangeCallback = _rangeCallback;\n    this.id = defaultGenerator.nextId();\n  }\n  get range() {\n    return this._range;\n  }\n  set range(value) {\n    this._range = value;\n    this._rangeCallback(this);\n  }\n  get ariaMessage() {\n    var _a;\n    const preview = (_a = this.parent.getPreview(this)) === null || _a === void 0 ? void 0 : _a.preview(this.range);\n    if (!preview) {\n      return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n    } else {\n      return localize({\n        key: 'aria.oneReference.preview',\n        comment: ['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code']\n      }, \"symbol in {0} on line {1} at column {2}, {3}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn, preview.value);\n    }\n  }\n}\nexport class FilePreview {\n  constructor(_modelReference) {\n    this._modelReference = _modelReference;\n  }\n  dispose() {\n    this._modelReference.dispose();\n  }\n  preview(range) {\n    let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n    const model = this._modelReference.object.textEditorModel;\n    if (!model) {\n      return undefined;\n    }\n    const {\n      startLineNumber,\n      startColumn,\n      endLineNumber,\n      endColumn\n    } = range;\n    const word = model.getWordUntilPosition({\n      lineNumber: startLineNumber,\n      column: startColumn - n\n    });\n    const beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n    const afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\n    const before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\n    const inside = model.getValueInRange(range);\n    const after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\n    return {\n      value: before + inside + after,\n      highlight: {\n        start: before.length,\n        end: before.length + inside.length\n      }\n    };\n  }\n}\nexport class FileReferences {\n  constructor(parent, uri) {\n    this.parent = parent;\n    this.uri = uri;\n    this.children = [];\n    this._previews = new ResourceMap();\n  }\n  dispose() {\n    dispose(this._previews.values());\n    this._previews.clear();\n  }\n  getPreview(child) {\n    return this._previews.get(child.uri);\n  }\n  get ariaMessage() {\n    const len = this.children.length;\n    if (len === 1) {\n      return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\n    } else {\n      return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\n    }\n  }\n  resolve(textModelResolverService) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this._previews.size !== 0) {\n        return this;\n      }\n      for (let child of this.children) {\n        if (this._previews.has(child.uri)) {\n          continue;\n        }\n        try {\n          const ref = yield textModelResolverService.createModelReference(child.uri);\n          this._previews.set(child.uri, new FilePreview(ref));\n        } catch (err) {\n          onUnexpectedError(err);\n        }\n      }\n      return this;\n    });\n  }\n}\nexport class ReferencesModel {\n  constructor(links, title) {\n    this._disposables = new DisposableStore();\n    this.groups = [];\n    this.references = [];\n    this._onDidChangeReferenceRange = new Emitter();\n    this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\n    this._links = links;\n    this._title = title;\n    // grouping and sorting\n    const [providersFirst] = links;\n    links.sort(ReferencesModel._compareReferences);\n    let current;\n    for (let link of links) {\n      if (!current || !extUri.isEqual(current.uri, link.uri, true)) {\n        // new group\n        current = new FileReferences(this, link.uri);\n        this.groups.push(current);\n      }\n      // append, check for equality first!\n      if (current.children.length === 0 || ReferencesModel._compareReferences(link, current.children[current.children.length - 1]) !== 0) {\n        const oneRef = new OneReference(providersFirst === link, current, link.uri, link.targetSelectionRange || link.range, ref => this._onDidChangeReferenceRange.fire(ref));\n        this.references.push(oneRef);\n        current.children.push(oneRef);\n      }\n    }\n  }\n  dispose() {\n    dispose(this.groups);\n    this._disposables.dispose();\n    this._onDidChangeReferenceRange.dispose();\n    this.groups.length = 0;\n  }\n  clone() {\n    return new ReferencesModel(this._links, this._title);\n  }\n  get title() {\n    return this._title;\n  }\n  get isEmpty() {\n    return this.groups.length === 0;\n  }\n  get ariaMessage() {\n    if (this.isEmpty) {\n      return localize('aria.result.0', \"No results found\");\n    } else if (this.references.length === 1) {\n      return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n    } else if (this.groups.length === 1) {\n      return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n    } else {\n      return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n    }\n  }\n  nextOrPreviousReference(reference, next) {\n    let {\n      parent\n    } = reference;\n    let idx = parent.children.indexOf(reference);\n    let childCount = parent.children.length;\n    let groupCount = parent.parent.groups.length;\n    if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n      // cycling within one file\n      if (next) {\n        idx = (idx + 1) % childCount;\n      } else {\n        idx = (idx + childCount - 1) % childCount;\n      }\n      return parent.children[idx];\n    }\n    idx = parent.parent.groups.indexOf(parent);\n    if (next) {\n      idx = (idx + 1) % groupCount;\n      return parent.parent.groups[idx].children[0];\n    } else {\n      idx = (idx + groupCount - 1) % groupCount;\n      return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n    }\n  }\n  nearestReference(resource, position) {\n    const nearest = this.references.map((ref, idx) => {\n      return {\n        idx,\n        prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n        offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n      };\n    }).sort((a, b) => {\n      if (a.prefixLen > b.prefixLen) {\n        return -1;\n      } else if (a.prefixLen < b.prefixLen) {\n        return 1;\n      } else if (a.offsetDist < b.offsetDist) {\n        return -1;\n      } else if (a.offsetDist > b.offsetDist) {\n        return 1;\n      } else {\n        return 0;\n      }\n    })[0];\n    if (nearest) {\n      return this.references[nearest.idx];\n    }\n    return undefined;\n  }\n  referenceAt(resource, position) {\n    for (const ref of this.references) {\n      if (ref.uri.toString() === resource.toString()) {\n        if (Range.containsPosition(ref.range, position)) {\n          return ref;\n        }\n      }\n    }\n    return undefined;\n  }\n  firstReference() {\n    for (const ref of this.references) {\n      if (ref.isProviderFirst) {\n        return ref;\n      }\n    }\n    return this.references[0];\n  }\n  static _compareReferences(a, b) {\n    return extUri.compare(a.uri, b.uri) || Range.compareRangesUsingStarts(a.range, b.range);\n  }\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","localize","Emitter","basename","extUri","dispose","DisposableStore","strings","defaultGenerator","Range","ResourceMap","onUnexpectedError","OneReference","constructor","isProviderFirst","parent","uri","_range","_rangeCallback","id","nextId","range","ariaMessage","_a","preview","getPreview","startLineNumber","startColumn","key","comment","FilePreview","_modelReference","n","arguments","length","undefined","model","object","textEditorModel","endLineNumber","endColumn","word","getWordUntilPosition","lineNumber","column","beforeRange","afterRange","before","getValueInRange","replace","inside","after","highlight","start","end","FileReferences","children","_previews","values","clear","child","get","len","fsPath","textModelResolverService","size","has","ref","createModelReference","set","err","ReferencesModel","links","title","_disposables","groups","references","_onDidChangeReferenceRange","onDidChangeReferenceRange","event","_links","_title","providersFirst","sort","_compareReferences","current","link","isEqual","push","oneRef","targetSelectionRange","fire","clone","isEmpty","nextOrPreviousReference","reference","idx","indexOf","childCount","groupCount","nearestReference","resource","position","nearest","map","prefixLen","commonPrefixLength","toString","offsetDist","Math","abs","a","b","referenceAt","containsPosition","firstReference","compare","compareRangesUsingStarts"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/referencesModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { localize } from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { basename, extUri } from '../../../base/common/resources.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ResourceMap } from '../../../base/common/map.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nexport class OneReference {\r\n    constructor(isProviderFirst, parent, uri, _range, _rangeCallback) {\r\n        this.isProviderFirst = isProviderFirst;\r\n        this.parent = parent;\r\n        this.uri = uri;\r\n        this._range = _range;\r\n        this._rangeCallback = _rangeCallback;\r\n        this.id = defaultGenerator.nextId();\r\n    }\r\n    get range() {\r\n        return this._range;\r\n    }\r\n    set range(value) {\r\n        this._range = value;\r\n        this._rangeCallback(this);\r\n    }\r\n    get ariaMessage() {\r\n        var _a;\r\n        const preview = (_a = this.parent.getPreview(this)) === null || _a === void 0 ? void 0 : _a.preview(this.range);\r\n        if (!preview) {\r\n            return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\r\n        }\r\n        else {\r\n            return localize({ key: 'aria.oneReference.preview', comment: ['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code'] }, \"symbol in {0} on line {1} at column {2}, {3}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn, preview.value);\r\n        }\r\n    }\r\n}\r\nexport class FilePreview {\r\n    constructor(_modelReference) {\r\n        this._modelReference = _modelReference;\r\n    }\r\n    dispose() {\r\n        this._modelReference.dispose();\r\n    }\r\n    preview(range, n = 8) {\r\n        const model = this._modelReference.object.textEditorModel;\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        const { startLineNumber, startColumn, endLineNumber, endColumn } = range;\r\n        const word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\r\n        const beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\r\n        const afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        const before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\r\n        const inside = model.getValueInRange(range);\r\n        const after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\r\n        return {\r\n            value: before + inside + after,\r\n            highlight: { start: before.length, end: before.length + inside.length }\r\n        };\r\n    }\r\n}\r\nexport class FileReferences {\r\n    constructor(parent, uri) {\r\n        this.parent = parent;\r\n        this.uri = uri;\r\n        this.children = [];\r\n        this._previews = new ResourceMap();\r\n    }\r\n    dispose() {\r\n        dispose(this._previews.values());\r\n        this._previews.clear();\r\n    }\r\n    getPreview(child) {\r\n        return this._previews.get(child.uri);\r\n    }\r\n    get ariaMessage() {\r\n        const len = this.children.length;\r\n        if (len === 1) {\r\n            return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\r\n        }\r\n        else {\r\n            return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\r\n        }\r\n    }\r\n    resolve(textModelResolverService) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._previews.size !== 0) {\r\n                return this;\r\n            }\r\n            for (let child of this.children) {\r\n                if (this._previews.has(child.uri)) {\r\n                    continue;\r\n                }\r\n                try {\r\n                    const ref = yield textModelResolverService.createModelReference(child.uri);\r\n                    this._previews.set(child.uri, new FilePreview(ref));\r\n                }\r\n                catch (err) {\r\n                    onUnexpectedError(err);\r\n                }\r\n            }\r\n            return this;\r\n        });\r\n    }\r\n}\r\nexport class ReferencesModel {\r\n    constructor(links, title) {\r\n        this._disposables = new DisposableStore();\r\n        this.groups = [];\r\n        this.references = [];\r\n        this._onDidChangeReferenceRange = new Emitter();\r\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\r\n        this._links = links;\r\n        this._title = title;\r\n        // grouping and sorting\r\n        const [providersFirst] = links;\r\n        links.sort(ReferencesModel._compareReferences);\r\n        let current;\r\n        for (let link of links) {\r\n            if (!current || !extUri.isEqual(current.uri, link.uri, true)) {\r\n                // new group\r\n                current = new FileReferences(this, link.uri);\r\n                this.groups.push(current);\r\n            }\r\n            // append, check for equality first!\r\n            if (current.children.length === 0 || ReferencesModel._compareReferences(link, current.children[current.children.length - 1]) !== 0) {\r\n                const oneRef = new OneReference(providersFirst === link, current, link.uri, link.targetSelectionRange || link.range, ref => this._onDidChangeReferenceRange.fire(ref));\r\n                this.references.push(oneRef);\r\n                current.children.push(oneRef);\r\n            }\r\n        }\r\n    }\r\n    dispose() {\r\n        dispose(this.groups);\r\n        this._disposables.dispose();\r\n        this._onDidChangeReferenceRange.dispose();\r\n        this.groups.length = 0;\r\n    }\r\n    clone() {\r\n        return new ReferencesModel(this._links, this._title);\r\n    }\r\n    get title() {\r\n        return this._title;\r\n    }\r\n    get isEmpty() {\r\n        return this.groups.length === 0;\r\n    }\r\n    get ariaMessage() {\r\n        if (this.isEmpty) {\r\n            return localize('aria.result.0', \"No results found\");\r\n        }\r\n        else if (this.references.length === 1) {\r\n            return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\r\n        }\r\n        else if (this.groups.length === 1) {\r\n            return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\r\n        }\r\n        else {\r\n            return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\r\n        }\r\n    }\r\n    nextOrPreviousReference(reference, next) {\r\n        let { parent } = reference;\r\n        let idx = parent.children.indexOf(reference);\r\n        let childCount = parent.children.length;\r\n        let groupCount = parent.parent.groups.length;\r\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\r\n            // cycling within one file\r\n            if (next) {\r\n                idx = (idx + 1) % childCount;\r\n            }\r\n            else {\r\n                idx = (idx + childCount - 1) % childCount;\r\n            }\r\n            return parent.children[idx];\r\n        }\r\n        idx = parent.parent.groups.indexOf(parent);\r\n        if (next) {\r\n            idx = (idx + 1) % groupCount;\r\n            return parent.parent.groups[idx].children[0];\r\n        }\r\n        else {\r\n            idx = (idx + groupCount - 1) % groupCount;\r\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\r\n        }\r\n    }\r\n    nearestReference(resource, position) {\r\n        const nearest = this.references.map((ref, idx) => {\r\n            return {\r\n                idx,\r\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\r\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\r\n            };\r\n        }).sort((a, b) => {\r\n            if (a.prefixLen > b.prefixLen) {\r\n                return -1;\r\n            }\r\n            else if (a.prefixLen < b.prefixLen) {\r\n                return 1;\r\n            }\r\n            else if (a.offsetDist < b.offsetDist) {\r\n                return -1;\r\n            }\r\n            else if (a.offsetDist > b.offsetDist) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        })[0];\r\n        if (nearest) {\r\n            return this.references[nearest.idx];\r\n        }\r\n        return undefined;\r\n    }\r\n    referenceAt(resource, position) {\r\n        for (const ref of this.references) {\r\n            if (ref.uri.toString() === resource.toString()) {\r\n                if (Range.containsPosition(ref.range, position)) {\r\n                    return ref;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    firstReference() {\r\n        for (const ref of this.references) {\r\n            if (ref.isProviderFirst) {\r\n                return ref;\r\n            }\r\n        }\r\n        return this.references[0];\r\n    }\r\n    static _compareReferences(a, b) {\r\n        return extUri.compare(a.uri, b.uri) || Range.compareRangesUsingStarts(a.range, b.range);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}