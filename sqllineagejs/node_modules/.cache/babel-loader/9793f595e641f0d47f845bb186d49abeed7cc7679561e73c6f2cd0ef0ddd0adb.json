{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './actionbar.css';\nimport { Disposable, dispose } from '../../../common/lifecycle.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport * as DOM from '../../dom.js';\nimport * as types from '../../../common/types.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Emitter } from '../../../common/event.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nexport class ActionBar extends Disposable {\n  constructor(container) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _a, _b, _c, _d, _e, _f;\n    super();\n    // Trigger Key Tracking\n    this.triggerKeyDown = false;\n    this._onDidBlur = this._register(new Emitter());\n    this.onDidBlur = this._onDidBlur.event;\n    this._onDidCancel = this._register(new Emitter({\n      onFirstListenerAdd: () => this.cancelHasListener = true\n    }));\n    this.onDidCancel = this._onDidCancel.event;\n    this.cancelHasListener = false;\n    this._onDidRun = this._register(new Emitter());\n    this.onDidRun = this._onDidRun.event;\n    this._onBeforeRun = this._register(new Emitter());\n    this.onBeforeRun = this._onBeforeRun.event;\n    this.options = options;\n    this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n    this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* HORIZONTAL */;\n    this._triggerKeys = {\n      keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n      keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* Enter */, 10 /* Space */]\n    };\n\n    if (this.options.actionRunner) {\n      this._actionRunner = this.options.actionRunner;\n    } else {\n      this._actionRunner = new ActionRunner();\n      this._register(this._actionRunner);\n    }\n    this._register(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n    this._register(this._actionRunner.onBeforeRun(e => this._onBeforeRun.fire(e)));\n    this._actionIds = [];\n    this.viewItems = [];\n    this.focusedItem = undefined;\n    this.domNode = document.createElement('div');\n    this.domNode.className = 'monaco-action-bar';\n    if (options.animated !== false) {\n      this.domNode.classList.add('animated');\n    }\n    let previousKeys;\n    let nextKeys;\n    switch (this._orientation) {\n      case 0 /* HORIZONTAL */:\n        previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [15 /* LeftArrow */];\n        nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [17 /* RightArrow */];\n        break;\n      case 1 /* HORIZONTAL_REVERSE */:\n        previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [17 /* RightArrow */];\n        nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [15 /* LeftArrow */];\n        this.domNode.className += ' reverse';\n        break;\n      case 2 /* VERTICAL */:\n        previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [16 /* UpArrow */];\n        nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [18 /* DownArrow */];\n        this.domNode.className += ' vertical';\n        break;\n      case 3 /* VERTICAL_REVERSE */:\n        previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [18 /* DownArrow */];\n        nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [16 /* UpArrow */];\n        this.domNode.className += ' vertical reverse';\n        break;\n    }\n    this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n      const event = new StandardKeyboardEvent(e);\n      let eventHandled = true;\n      if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n        eventHandled = this.focusPrevious();\n      } else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n        eventHandled = this.focusNext();\n      } else if (event.equals(9 /* Escape */) && this.cancelHasListener) {\n        this._onDidCancel.fire();\n      } else if (this.isTriggerKeyEvent(event)) {\n        // Staying out of the else branch even if not triggered\n        if (this._triggerKeys.keyDown) {\n          this.doTrigger(event);\n        } else {\n          this.triggerKeyDown = true;\n        }\n      } else {\n        eventHandled = false;\n      }\n      if (eventHandled) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }));\n    this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n      const event = new StandardKeyboardEvent(e);\n      // Run action on Enter/Space\n      if (this.isTriggerKeyEvent(event)) {\n        if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n          this.triggerKeyDown = false;\n          this.doTrigger(event);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      // Recompute focused item\n      else if (event.equals(2 /* Tab */) || event.equals(1024 /* Shift */ | 2 /* Tab */)) {\n        this.updateFocusedItem();\n      }\n    }));\n    this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n    this._register(this.focusTracker.onDidBlur(() => {\n      if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n        this._onDidBlur.fire();\n        this.focusedItem = undefined;\n        this.triggerKeyDown = false;\n      }\n    }));\n    this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n    this.actionsList = document.createElement('ul');\n    this.actionsList.className = 'actions-container';\n    this.actionsList.setAttribute('role', 'toolbar');\n    if (this.options.ariaLabel) {\n      this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n    }\n    this.domNode.appendChild(this.actionsList);\n    container.appendChild(this.domNode);\n  }\n  isTriggerKeyEvent(event) {\n    let ret = false;\n    this._triggerKeys.keys.forEach(keyCode => {\n      ret = ret || event.equals(keyCode);\n    });\n    return ret;\n  }\n  updateFocusedItem() {\n    for (let i = 0; i < this.actionsList.children.length; i++) {\n      const elem = this.actionsList.children[i];\n      if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n        this.focusedItem = i;\n        break;\n      }\n    }\n  }\n  get context() {\n    return this._context;\n  }\n  set context(context) {\n    this._context = context;\n    this.viewItems.forEach(i => i.setActionContext(context));\n  }\n  get actionRunner() {\n    return this._actionRunner;\n  }\n  set actionRunner(actionRunner) {\n    if (actionRunner) {\n      this._actionRunner = actionRunner;\n      this.viewItems.forEach(item => item.actionRunner = actionRunner);\n    }\n  }\n  getContainer() {\n    return this.domNode;\n  }\n  push(arg) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const actions = Array.isArray(arg) ? arg : [arg];\n    let index = types.isNumber(options.index) ? options.index : null;\n    actions.forEach(action => {\n      const actionViewItemElement = document.createElement('li');\n      actionViewItemElement.className = 'action-item';\n      actionViewItemElement.setAttribute('role', 'presentation');\n      // Prevent native context menu on actions\n      if (!this.options.allowContextMenu) {\n        this._register(DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, e => {\n          DOM.EventHelper.stop(e, true);\n        }));\n      }\n      let item;\n      if (this.options.actionViewItemProvider) {\n        item = this.options.actionViewItemProvider(action);\n      }\n      if (!item) {\n        item = new ActionViewItem(this.context, action, options);\n      }\n      item.actionRunner = this._actionRunner;\n      item.setActionContext(this.context);\n      item.render(actionViewItemElement);\n      if (index === null || index < 0 || index >= this.actionsList.children.length) {\n        this.actionsList.appendChild(actionViewItemElement);\n        this.viewItems.push(item);\n        this._actionIds.push(action.id);\n      } else {\n        this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n        this.viewItems.splice(index, 0, item);\n        this._actionIds.splice(index, 0, action.id);\n        index++;\n      }\n    });\n    if (this.focusedItem) {\n      // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n      this.focus(this.focusedItem);\n    }\n  }\n  clear() {\n    dispose(this.viewItems);\n    this.viewItems = [];\n    this._actionIds = [];\n    DOM.clearNode(this.actionsList);\n  }\n  focus(arg) {\n    let selectFirst = false;\n    let index = undefined;\n    if (arg === undefined) {\n      selectFirst = true;\n    } else if (typeof arg === 'number') {\n      index = arg;\n    } else if (typeof arg === 'boolean') {\n      selectFirst = arg;\n    }\n    if (selectFirst && typeof this.focusedItem === 'undefined') {\n      const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n      // Focus the first enabled item\n      this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n      this.updateFocus();\n    } else {\n      if (index !== undefined) {\n        this.focusedItem = index;\n      }\n      this.updateFocus();\n    }\n  }\n  focusNext() {\n    if (typeof this.focusedItem === 'undefined') {\n      this.focusedItem = this.viewItems.length - 1;\n    }\n    const startIndex = this.focusedItem;\n    let item;\n    do {\n      if (this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n        this.focusedItem = startIndex;\n        return false;\n      }\n      this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n      item = this.viewItems[this.focusedItem];\n    } while (this.focusedItem !== startIndex && !item.isEnabled());\n    if (this.focusedItem === startIndex && !item.isEnabled()) {\n      this.focusedItem = undefined;\n    }\n    this.updateFocus();\n    return true;\n  }\n  focusPrevious() {\n    if (typeof this.focusedItem === 'undefined') {\n      this.focusedItem = 0;\n    }\n    const startIndex = this.focusedItem;\n    let item;\n    do {\n      this.focusedItem = this.focusedItem - 1;\n      if (this.focusedItem < 0) {\n        if (this.options.preventLoopNavigation) {\n          this.focusedItem = startIndex;\n          return false;\n        }\n        this.focusedItem = this.viewItems.length - 1;\n      }\n      item = this.viewItems[this.focusedItem];\n    } while (this.focusedItem !== startIndex && !item.isEnabled());\n    if (this.focusedItem === startIndex && !item.isEnabled()) {\n      this.focusedItem = undefined;\n    }\n    this.updateFocus(true);\n    return true;\n  }\n  updateFocus(fromRight, preventScroll) {\n    if (typeof this.focusedItem === 'undefined') {\n      this.actionsList.focus({\n        preventScroll\n      });\n    }\n    for (let i = 0; i < this.viewItems.length; i++) {\n      const item = this.viewItems[i];\n      const actionViewItem = item;\n      if (i === this.focusedItem) {\n        if (types.isFunction(actionViewItem.isEnabled)) {\n          if (actionViewItem.isEnabled() && types.isFunction(actionViewItem.focus)) {\n            actionViewItem.focus(fromRight);\n          } else {\n            this.actionsList.focus({\n              preventScroll\n            });\n          }\n        }\n      } else {\n        if (types.isFunction(actionViewItem.blur)) {\n          actionViewItem.blur();\n        }\n      }\n    }\n  }\n  doTrigger(event) {\n    if (typeof this.focusedItem === 'undefined') {\n      return; //nothing to focus\n    }\n    // trigger action\n    const actionViewItem = this.viewItems[this.focusedItem];\n    if (actionViewItem instanceof BaseActionViewItem) {\n      const context = actionViewItem._context === null || actionViewItem._context === undefined ? event : actionViewItem._context;\n      this.run(actionViewItem._action, context);\n    }\n  }\n  run(action, context) {\n    return this._actionRunner.run(action, context);\n  }\n  dispose() {\n    dispose(this.viewItems);\n    this.viewItems = [];\n    this._actionIds = [];\n    this.getContainer().remove();\n    super.dispose();\n  }\n}","map":{"version":3,"names":["Disposable","dispose","ActionRunner","DOM","types","StandardKeyboardEvent","Emitter","ActionViewItem","BaseActionViewItem","ActionBar","constructor","container","options","arguments","length","undefined","_a","_b","_c","_d","_e","_f","triggerKeyDown","_onDidBlur","_register","onDidBlur","event","_onDidCancel","onFirstListenerAdd","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onBeforeRun","onBeforeRun","_context","context","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","keys","actionRunner","_actionRunner","e","fire","_actionIds","viewItems","focusedItem","domNode","document","createElement","className","animated","classList","add","previousKeys","nextKeys","ignoreOrientationForPreviousAndNextKey","addDisposableListener","EventType","KEY_DOWN","eventHandled","equals","focusPrevious","focusNext","isTriggerKeyEvent","doTrigger","preventDefault","stopPropagation","KEY_UP","updateFocusedItem","focusTracker","trackFocus","getActiveElement","isAncestor","onDidFocus","actionsList","setAttribute","ariaLabel","appendChild","ret","forEach","keyCode","i","children","elem","setActionContext","item","getContainer","push","arg","actions","Array","isArray","index","isNumber","action","actionViewItemElement","allowContextMenu","CONTEXT_MENU","EventHelper","stop","actionViewItemProvider","render","id","insertBefore","splice","focus","clear","clearNode","selectFirst","firstEnabled","findIndex","isEnabled","updateFocus","startIndex","preventLoopNavigation","fromRight","preventScroll","actionViewItem","isFunction","blur","run","_action","remove"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './actionbar.css';\r\nimport { Disposable, dispose } from '../../../common/lifecycle.js';\r\nimport { ActionRunner } from '../../../common/actions.js';\r\nimport * as DOM from '../../dom.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\r\nexport class ActionBar extends Disposable {\r\n    constructor(container, options = {}) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        super();\r\n        // Trigger Key Tracking\r\n        this.triggerKeyDown = false;\r\n        this._onDidBlur = this._register(new Emitter());\r\n        this.onDidBlur = this._onDidBlur.event;\r\n        this._onDidCancel = this._register(new Emitter({ onFirstListenerAdd: () => this.cancelHasListener = true }));\r\n        this.onDidCancel = this._onDidCancel.event;\r\n        this.cancelHasListener = false;\r\n        this._onDidRun = this._register(new Emitter());\r\n        this.onDidRun = this._onDidRun.event;\r\n        this._onBeforeRun = this._register(new Emitter());\r\n        this.onBeforeRun = this._onBeforeRun.event;\r\n        this.options = options;\r\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\r\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* HORIZONTAL */;\r\n        this._triggerKeys = {\r\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\r\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* Enter */, 10 /* Space */]\r\n        };\r\n        if (this.options.actionRunner) {\r\n            this._actionRunner = this.options.actionRunner;\r\n        }\r\n        else {\r\n            this._actionRunner = new ActionRunner();\r\n            this._register(this._actionRunner);\r\n        }\r\n        this._register(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\r\n        this._register(this._actionRunner.onBeforeRun(e => this._onBeforeRun.fire(e)));\r\n        this._actionIds = [];\r\n        this.viewItems = [];\r\n        this.focusedItem = undefined;\r\n        this.domNode = document.createElement('div');\r\n        this.domNode.className = 'monaco-action-bar';\r\n        if (options.animated !== false) {\r\n            this.domNode.classList.add('animated');\r\n        }\r\n        let previousKeys;\r\n        let nextKeys;\r\n        switch (this._orientation) {\r\n            case 0 /* HORIZONTAL */:\r\n                previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [15 /* LeftArrow */];\r\n                nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [17 /* RightArrow */];\r\n                break;\r\n            case 1 /* HORIZONTAL_REVERSE */:\r\n                previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [17 /* RightArrow */];\r\n                nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [15 /* LeftArrow */];\r\n                this.domNode.className += ' reverse';\r\n                break;\r\n            case 2 /* VERTICAL */:\r\n                previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [16 /* UpArrow */];\r\n                nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [18 /* DownArrow */];\r\n                this.domNode.className += ' vertical';\r\n                break;\r\n            case 3 /* VERTICAL_REVERSE */:\r\n                previousKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [17 /* RightArrow */, 18 /* DownArrow */] : [18 /* DownArrow */];\r\n                nextKeys = this.options.ignoreOrientationForPreviousAndNextKey ? [15 /* LeftArrow */, 16 /* UpArrow */] : [16 /* UpArrow */];\r\n                this.domNode.className += ' vertical reverse';\r\n                break;\r\n        }\r\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\r\n            const event = new StandardKeyboardEvent(e);\r\n            let eventHandled = true;\r\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\r\n                eventHandled = this.focusPrevious();\r\n            }\r\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\r\n                eventHandled = this.focusNext();\r\n            }\r\n            else if (event.equals(9 /* Escape */) && this.cancelHasListener) {\r\n                this._onDidCancel.fire();\r\n            }\r\n            else if (this.isTriggerKeyEvent(event)) {\r\n                // Staying out of the else branch even if not triggered\r\n                if (this._triggerKeys.keyDown) {\r\n                    this.doTrigger(event);\r\n                }\r\n                else {\r\n                    this.triggerKeyDown = true;\r\n                }\r\n            }\r\n            else {\r\n                eventHandled = false;\r\n            }\r\n            if (eventHandled) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\r\n            const event = new StandardKeyboardEvent(e);\r\n            // Run action on Enter/Space\r\n            if (this.isTriggerKeyEvent(event)) {\r\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\r\n                    this.triggerKeyDown = false;\r\n                    this.doTrigger(event);\r\n                }\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n            // Recompute focused item\r\n            else if (event.equals(2 /* Tab */) || event.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                this.updateFocusedItem();\r\n            }\r\n        }));\r\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\r\n        this._register(this.focusTracker.onDidBlur(() => {\r\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\r\n                this._onDidBlur.fire();\r\n                this.focusedItem = undefined;\r\n                this.triggerKeyDown = false;\r\n            }\r\n        }));\r\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\r\n        this.actionsList = document.createElement('ul');\r\n        this.actionsList.className = 'actions-container';\r\n        this.actionsList.setAttribute('role', 'toolbar');\r\n        if (this.options.ariaLabel) {\r\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\r\n        }\r\n        this.domNode.appendChild(this.actionsList);\r\n        container.appendChild(this.domNode);\r\n    }\r\n    isTriggerKeyEvent(event) {\r\n        let ret = false;\r\n        this._triggerKeys.keys.forEach(keyCode => {\r\n            ret = ret || event.equals(keyCode);\r\n        });\r\n        return ret;\r\n    }\r\n    updateFocusedItem() {\r\n        for (let i = 0; i < this.actionsList.children.length; i++) {\r\n            const elem = this.actionsList.children[i];\r\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\r\n                this.focusedItem = i;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    get context() {\r\n        return this._context;\r\n    }\r\n    set context(context) {\r\n        this._context = context;\r\n        this.viewItems.forEach(i => i.setActionContext(context));\r\n    }\r\n    get actionRunner() {\r\n        return this._actionRunner;\r\n    }\r\n    set actionRunner(actionRunner) {\r\n        if (actionRunner) {\r\n            this._actionRunner = actionRunner;\r\n            this.viewItems.forEach(item => item.actionRunner = actionRunner);\r\n        }\r\n    }\r\n    getContainer() {\r\n        return this.domNode;\r\n    }\r\n    push(arg, options = {}) {\r\n        const actions = Array.isArray(arg) ? arg : [arg];\r\n        let index = types.isNumber(options.index) ? options.index : null;\r\n        actions.forEach((action) => {\r\n            const actionViewItemElement = document.createElement('li');\r\n            actionViewItemElement.className = 'action-item';\r\n            actionViewItemElement.setAttribute('role', 'presentation');\r\n            // Prevent native context menu on actions\r\n            if (!this.options.allowContextMenu) {\r\n                this._register(DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\r\n                    DOM.EventHelper.stop(e, true);\r\n                }));\r\n            }\r\n            let item;\r\n            if (this.options.actionViewItemProvider) {\r\n                item = this.options.actionViewItemProvider(action);\r\n            }\r\n            if (!item) {\r\n                item = new ActionViewItem(this.context, action, options);\r\n            }\r\n            item.actionRunner = this._actionRunner;\r\n            item.setActionContext(this.context);\r\n            item.render(actionViewItemElement);\r\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\r\n                this.actionsList.appendChild(actionViewItemElement);\r\n                this.viewItems.push(item);\r\n                this._actionIds.push(action.id);\r\n            }\r\n            else {\r\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\r\n                this.viewItems.splice(index, 0, item);\r\n                this._actionIds.splice(index, 0, action.id);\r\n                index++;\r\n            }\r\n        });\r\n        if (this.focusedItem) {\r\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\r\n            this.focus(this.focusedItem);\r\n        }\r\n    }\r\n    clear() {\r\n        dispose(this.viewItems);\r\n        this.viewItems = [];\r\n        this._actionIds = [];\r\n        DOM.clearNode(this.actionsList);\r\n    }\r\n    focus(arg) {\r\n        let selectFirst = false;\r\n        let index = undefined;\r\n        if (arg === undefined) {\r\n            selectFirst = true;\r\n        }\r\n        else if (typeof arg === 'number') {\r\n            index = arg;\r\n        }\r\n        else if (typeof arg === 'boolean') {\r\n            selectFirst = arg;\r\n        }\r\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\r\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\r\n            // Focus the first enabled item\r\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\r\n            this.updateFocus();\r\n        }\r\n        else {\r\n            if (index !== undefined) {\r\n                this.focusedItem = index;\r\n            }\r\n            this.updateFocus();\r\n        }\r\n    }\r\n    focusNext() {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.focusedItem = this.viewItems.length - 1;\r\n        }\r\n        const startIndex = this.focusedItem;\r\n        let item;\r\n        do {\r\n            if (this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\r\n                this.focusedItem = startIndex;\r\n                return false;\r\n            }\r\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\r\n            item = this.viewItems[this.focusedItem];\r\n        } while (this.focusedItem !== startIndex && !item.isEnabled());\r\n        if (this.focusedItem === startIndex && !item.isEnabled()) {\r\n            this.focusedItem = undefined;\r\n        }\r\n        this.updateFocus();\r\n        return true;\r\n    }\r\n    focusPrevious() {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.focusedItem = 0;\r\n        }\r\n        const startIndex = this.focusedItem;\r\n        let item;\r\n        do {\r\n            this.focusedItem = this.focusedItem - 1;\r\n            if (this.focusedItem < 0) {\r\n                if (this.options.preventLoopNavigation) {\r\n                    this.focusedItem = startIndex;\r\n                    return false;\r\n                }\r\n                this.focusedItem = this.viewItems.length - 1;\r\n            }\r\n            item = this.viewItems[this.focusedItem];\r\n        } while (this.focusedItem !== startIndex && !item.isEnabled());\r\n        if (this.focusedItem === startIndex && !item.isEnabled()) {\r\n            this.focusedItem = undefined;\r\n        }\r\n        this.updateFocus(true);\r\n        return true;\r\n    }\r\n    updateFocus(fromRight, preventScroll) {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.actionsList.focus({ preventScroll });\r\n        }\r\n        for (let i = 0; i < this.viewItems.length; i++) {\r\n            const item = this.viewItems[i];\r\n            const actionViewItem = item;\r\n            if (i === this.focusedItem) {\r\n                if (types.isFunction(actionViewItem.isEnabled)) {\r\n                    if (actionViewItem.isEnabled() && types.isFunction(actionViewItem.focus)) {\r\n                        actionViewItem.focus(fromRight);\r\n                    }\r\n                    else {\r\n                        this.actionsList.focus({ preventScroll });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (types.isFunction(actionViewItem.blur)) {\r\n                    actionViewItem.blur();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    doTrigger(event) {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            return; //nothing to focus\r\n        }\r\n        // trigger action\r\n        const actionViewItem = this.viewItems[this.focusedItem];\r\n        if (actionViewItem instanceof BaseActionViewItem) {\r\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\r\n            this.run(actionViewItem._action, context);\r\n        }\r\n    }\r\n    run(action, context) {\r\n        return this._actionRunner.run(action, context);\r\n    }\r\n    dispose() {\r\n        dispose(this.viewItems);\r\n        this.viewItems = [];\r\n        this._actionIds = [];\r\n        this.getContainer().remove();\r\n        super.dispose();\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}