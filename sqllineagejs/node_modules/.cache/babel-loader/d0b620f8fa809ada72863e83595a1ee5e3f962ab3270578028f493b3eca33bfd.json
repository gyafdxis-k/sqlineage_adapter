{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from '../../../base/browser/browser.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\nimport { ElementSizeObserver } from './elementSizeObserver.js';\nimport { CommonEditorConfiguration } from '../../common/config/commonEditorConfig.js';\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\nimport { FontInfo } from '../../common/config/fontInfo.js';\nclass CSSBasedConfigurationCache {\n  constructor() {\n    this._keys = Object.create(null);\n    this._values = Object.create(null);\n  }\n  has(item) {\n    const itemId = item.getId();\n    return !!this._values[itemId];\n  }\n  get(item) {\n    const itemId = item.getId();\n    return this._values[itemId];\n  }\n  put(item, value) {\n    const itemId = item.getId();\n    this._keys[itemId] = item;\n    this._values[itemId] = value;\n  }\n  remove(item) {\n    const itemId = item.getId();\n    delete this._keys[itemId];\n    delete this._values[itemId];\n  }\n  getValues() {\n    return Object.keys(this._keys).map(id => this._values[id]);\n  }\n}\nexport function clearAllFontInfos() {\n  CSSBasedConfiguration.INSTANCE.clearCache();\n}\nclass CSSBasedConfiguration extends Disposable {\n  constructor() {\n    super();\n    this._onDidChange = this._register(new Emitter());\n    this.onDidChange = this._onDidChange.event;\n    this._cache = new CSSBasedConfigurationCache();\n    this._evictUntrustedReadingsTimeout = -1;\n  }\n  dispose() {\n    if (this._evictUntrustedReadingsTimeout !== -1) {\n      clearTimeout(this._evictUntrustedReadingsTimeout);\n      this._evictUntrustedReadingsTimeout = -1;\n    }\n    super.dispose();\n  }\n  clearCache() {\n    this._cache = new CSSBasedConfigurationCache();\n    this._onDidChange.fire();\n  }\n  _writeToCache(item, value) {\n    this._cache.put(item, value);\n    if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\n      // Try reading again after some time\n      this._evictUntrustedReadingsTimeout = setTimeout(() => {\n        this._evictUntrustedReadingsTimeout = -1;\n        this._evictUntrustedReadings();\n      }, 5000);\n    }\n  }\n  _evictUntrustedReadings() {\n    const values = this._cache.getValues();\n    let somethingRemoved = false;\n    for (const item of values) {\n      if (!item.isTrusted) {\n        somethingRemoved = true;\n        this._cache.remove(item);\n      }\n    }\n    if (somethingRemoved) {\n      this._onDidChange.fire();\n    }\n  }\n  readConfiguration(bareFontInfo) {\n    if (!this._cache.has(bareFontInfo)) {\n      let readConfig = CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);\n      if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\n        // Hey, it's Bug 14341 ... we couldn't read\n        readConfig = new FontInfo({\n          zoomLevel: browser.getZoomLevel(),\n          pixelRatio: browser.getPixelRatio(),\n          fontFamily: readConfig.fontFamily,\n          fontWeight: readConfig.fontWeight,\n          fontSize: readConfig.fontSize,\n          fontFeatureSettings: readConfig.fontFeatureSettings,\n          lineHeight: readConfig.lineHeight,\n          letterSpacing: readConfig.letterSpacing,\n          isMonospace: readConfig.isMonospace,\n          typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\n          typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\n          canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\n          spaceWidth: Math.max(readConfig.spaceWidth, 5),\n          middotWidth: Math.max(readConfig.middotWidth, 5),\n          wsmiddotWidth: Math.max(readConfig.wsmiddotWidth, 5),\n          maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5)\n        }, false);\n      }\n      this._writeToCache(bareFontInfo, readConfig);\n    }\n    return this._cache.get(bareFontInfo);\n  }\n  static createRequest(chr, type, all, monospace) {\n    const result = new CharWidthRequest(chr, type);\n    all.push(result);\n    if (monospace) {\n      monospace.push(result);\n    }\n    return result;\n  }\n  static _actualReadConfiguration(bareFontInfo) {\n    const all = [];\n    const monospace = [];\n    const typicalHalfwidthCharacter = this.createRequest('n', 0 /* Regular */, all, monospace);\n    const typicalFullwidthCharacter = this.createRequest('\\uff4d', 0 /* Regular */, all, null);\n    const space = this.createRequest(' ', 0 /* Regular */, all, monospace);\n    const digit0 = this.createRequest('0', 0 /* Regular */, all, monospace);\n    const digit1 = this.createRequest('1', 0 /* Regular */, all, monospace);\n    const digit2 = this.createRequest('2', 0 /* Regular */, all, monospace);\n    const digit3 = this.createRequest('3', 0 /* Regular */, all, monospace);\n    const digit4 = this.createRequest('4', 0 /* Regular */, all, monospace);\n    const digit5 = this.createRequest('5', 0 /* Regular */, all, monospace);\n    const digit6 = this.createRequest('6', 0 /* Regular */, all, monospace);\n    const digit7 = this.createRequest('7', 0 /* Regular */, all, monospace);\n    const digit8 = this.createRequest('8', 0 /* Regular */, all, monospace);\n    const digit9 = this.createRequest('9', 0 /* Regular */, all, monospace);\n    // monospace test: used for whitespace rendering\n    const rightwardsArrow = this.createRequest('→', 0 /* Regular */, all, monospace);\n    const halfwidthRightwardsArrow = this.createRequest('￫', 0 /* Regular */, all, null);\n    // U+00B7 - MIDDLE DOT\n    const middot = this.createRequest('·', 0 /* Regular */, all, monospace);\n    // U+2E31 - WORD SEPARATOR MIDDLE DOT\n    const wsmiddotWidth = this.createRequest(String.fromCharCode(0x2E31), 0 /* Regular */, all, null);\n    // monospace test: some characters\n    this.createRequest('|', 0 /* Regular */, all, monospace);\n    this.createRequest('/', 0 /* Regular */, all, monospace);\n    this.createRequest('-', 0 /* Regular */, all, monospace);\n    this.createRequest('_', 0 /* Regular */, all, monospace);\n    this.createRequest('i', 0 /* Regular */, all, monospace);\n    this.createRequest('l', 0 /* Regular */, all, monospace);\n    this.createRequest('m', 0 /* Regular */, all, monospace);\n    // monospace italic test\n    this.createRequest('|', 1 /* Italic */, all, monospace);\n    this.createRequest('_', 1 /* Italic */, all, monospace);\n    this.createRequest('i', 1 /* Italic */, all, monospace);\n    this.createRequest('l', 1 /* Italic */, all, monospace);\n    this.createRequest('m', 1 /* Italic */, all, monospace);\n    this.createRequest('n', 1 /* Italic */, all, monospace);\n    // monospace bold test\n    this.createRequest('|', 2 /* Bold */, all, monospace);\n    this.createRequest('_', 2 /* Bold */, all, monospace);\n    this.createRequest('i', 2 /* Bold */, all, monospace);\n    this.createRequest('l', 2 /* Bold */, all, monospace);\n    this.createRequest('m', 2 /* Bold */, all, monospace);\n    this.createRequest('n', 2 /* Bold */, all, monospace);\n    readCharWidths(bareFontInfo, all);\n    const maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\n    let isMonospace = bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF;\n    const referenceWidth = monospace[0].width;\n    for (let i = 1, len = monospace.length; isMonospace && i < len; i++) {\n      const diff = referenceWidth - monospace[i].width;\n      if (diff < -0.001 || diff > 0.001) {\n        isMonospace = false;\n        break;\n      }\n    }\n    let canUseHalfwidthRightwardsArrow = true;\n    if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\n      // using a halfwidth rightwards arrow would break monospace...\n      canUseHalfwidthRightwardsArrow = false;\n    }\n    if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\n      // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\n      canUseHalfwidthRightwardsArrow = false;\n    }\n    // let's trust the zoom level only 2s after it was changed.\n    const canTrustBrowserZoomLevel = browser.getTimeSinceLastZoomLevelChanged() > 2000;\n    return new FontInfo({\n      zoomLevel: browser.getZoomLevel(),\n      pixelRatio: browser.getPixelRatio(),\n      fontFamily: bareFontInfo.fontFamily,\n      fontWeight: bareFontInfo.fontWeight,\n      fontSize: bareFontInfo.fontSize,\n      fontFeatureSettings: bareFontInfo.fontFeatureSettings,\n      lineHeight: bareFontInfo.lineHeight,\n      letterSpacing: bareFontInfo.letterSpacing,\n      isMonospace: isMonospace,\n      typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\n      typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\n      canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\n      spaceWidth: space.width,\n      middotWidth: middot.width,\n      wsmiddotWidth: wsmiddotWidth.width,\n      maxDigitWidth: maxDigitWidth\n    }, canTrustBrowserZoomLevel);\n  }\n}\nCSSBasedConfiguration.INSTANCE = new CSSBasedConfiguration();\nexport class Configuration extends CommonEditorConfiguration {\n  constructor(isSimpleWidget, options) {\n    let referenceDomElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let accessibilityService = arguments.length > 3 ? arguments[3] : undefined;\n    super(isSimpleWidget, options);\n    this.accessibilityService = accessibilityService;\n    this._elementSizeObserver = this._register(new ElementSizeObserver(referenceDomElement, options.dimension, () => this._recomputeOptions()));\n    this._register(CSSBasedConfiguration.INSTANCE.onDidChange(() => this._recomputeOptions()));\n    if (this._validatedOptions.get(9 /* automaticLayout */)) {\n      this._elementSizeObserver.startObserving();\n    }\n    this._register(browser.onDidChangeZoomLevel(_ => this._recomputeOptions()));\n    this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(() => this._recomputeOptions()));\n    this._recomputeOptions();\n  }\n  static applyFontInfoSlow(domNode, fontInfo) {\n    domNode.style.fontFamily = fontInfo.getMassagedFontFamily();\n    domNode.style.fontWeight = fontInfo.fontWeight;\n    domNode.style.fontSize = fontInfo.fontSize + 'px';\n    domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n    domNode.style.lineHeight = fontInfo.lineHeight + 'px';\n    domNode.style.letterSpacing = fontInfo.letterSpacing + 'px';\n  }\n  static applyFontInfo(domNode, fontInfo) {\n    domNode.setFontFamily(fontInfo.getMassagedFontFamily());\n    domNode.setFontWeight(fontInfo.fontWeight);\n    domNode.setFontSize(fontInfo.fontSize);\n    domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings);\n    domNode.setLineHeight(fontInfo.lineHeight);\n    domNode.setLetterSpacing(fontInfo.letterSpacing);\n  }\n  observeReferenceElement(dimension) {\n    this._elementSizeObserver.observe(dimension);\n  }\n  updatePixelRatio() {\n    this._recomputeOptions();\n  }\n  static _getExtraEditorClassName() {\n    let extra = '';\n    if (!browser.isSafari && !browser.isWebkitWebView) {\n      // Use user-select: none in all browsers except Safari and native macOS WebView\n      extra += 'no-user-select ';\n    }\n    if (browser.isSafari) {\n      // See https://github.com/microsoft/vscode/issues/108822\n      extra += 'no-minimap-shadow ';\n    }\n    if (platform.isMacintosh) {\n      extra += 'mac ';\n    }\n    return extra;\n  }\n  _getEnvConfiguration() {\n    return {\n      extraEditorClassName: Configuration._getExtraEditorClassName(),\n      outerWidth: this._elementSizeObserver.getWidth(),\n      outerHeight: this._elementSizeObserver.getHeight(),\n      emptySelectionClipboard: browser.isWebKit || browser.isFirefox,\n      pixelRatio: browser.getPixelRatio(),\n      zoomLevel: browser.getZoomLevel(),\n      accessibilitySupport: this.accessibilityService.isScreenReaderOptimized() ? 2 /* Enabled */ : this.accessibilityService.getAccessibilitySupport()\n    };\n  }\n  readConfiguration(bareFontInfo) {\n    return CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo);\n  }\n}","map":{"version":3,"names":["browser","Emitter","Disposable","platform","CharWidthRequest","readCharWidths","ElementSizeObserver","CommonEditorConfiguration","EditorFontLigatures","FontInfo","CSSBasedConfigurationCache","constructor","_keys","Object","create","_values","has","item","itemId","getId","get","put","value","remove","getValues","keys","map","id","clearAllFontInfos","CSSBasedConfiguration","INSTANCE","clearCache","_onDidChange","_register","onDidChange","event","_cache","_evictUntrustedReadingsTimeout","dispose","clearTimeout","fire","_writeToCache","isTrusted","setTimeout","_evictUntrustedReadings","values","somethingRemoved","readConfiguration","bareFontInfo","readConfig","_actualReadConfiguration","typicalHalfwidthCharacterWidth","typicalFullwidthCharacterWidth","spaceWidth","maxDigitWidth","zoomLevel","getZoomLevel","pixelRatio","getPixelRatio","fontFamily","fontWeight","fontSize","fontFeatureSettings","lineHeight","letterSpacing","isMonospace","Math","max","canUseHalfwidthRightwardsArrow","middotWidth","wsmiddotWidth","createRequest","chr","type","all","monospace","result","push","typicalHalfwidthCharacter","typicalFullwidthCharacter","space","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","rightwardsArrow","halfwidthRightwardsArrow","middot","String","fromCharCode","width","OFF","referenceWidth","i","len","length","diff","canTrustBrowserZoomLevel","getTimeSinceLastZoomLevelChanged","Configuration","isSimpleWidget","options","referenceDomElement","arguments","undefined","accessibilityService","_elementSizeObserver","dimension","_recomputeOptions","_validatedOptions","startObserving","onDidChangeZoomLevel","_","onDidChangeScreenReaderOptimized","applyFontInfoSlow","domNode","fontInfo","style","getMassagedFontFamily","applyFontInfo","setFontFamily","setFontWeight","setFontSize","setFontFeatureSettings","setLineHeight","setLetterSpacing","observeReferenceElement","observe","updatePixelRatio","_getExtraEditorClassName","extra","isSafari","isWebkitWebView","isMacintosh","_getEnvConfiguration","extraEditorClassName","outerWidth","getWidth","outerHeight","getHeight","emptySelectionClipboard","isWebKit","isFirefox","accessibilitySupport","isScreenReaderOptimized","getAccessibilitySupport"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/browser/config/configuration.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as browser from '../../../base/browser/browser.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\r\nimport { ElementSizeObserver } from './elementSizeObserver.js';\r\nimport { CommonEditorConfiguration } from '../../common/config/commonEditorConfig.js';\r\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\r\nimport { FontInfo } from '../../common/config/fontInfo.js';\r\nclass CSSBasedConfigurationCache {\r\n    constructor() {\r\n        this._keys = Object.create(null);\r\n        this._values = Object.create(null);\r\n    }\r\n    has(item) {\r\n        const itemId = item.getId();\r\n        return !!this._values[itemId];\r\n    }\r\n    get(item) {\r\n        const itemId = item.getId();\r\n        return this._values[itemId];\r\n    }\r\n    put(item, value) {\r\n        const itemId = item.getId();\r\n        this._keys[itemId] = item;\r\n        this._values[itemId] = value;\r\n    }\r\n    remove(item) {\r\n        const itemId = item.getId();\r\n        delete this._keys[itemId];\r\n        delete this._values[itemId];\r\n    }\r\n    getValues() {\r\n        return Object.keys(this._keys).map(id => this._values[id]);\r\n    }\r\n}\r\nexport function clearAllFontInfos() {\r\n    CSSBasedConfiguration.INSTANCE.clearCache();\r\n}\r\nclass CSSBasedConfiguration extends Disposable {\r\n    constructor() {\r\n        super();\r\n        this._onDidChange = this._register(new Emitter());\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._cache = new CSSBasedConfigurationCache();\r\n        this._evictUntrustedReadingsTimeout = -1;\r\n    }\r\n    dispose() {\r\n        if (this._evictUntrustedReadingsTimeout !== -1) {\r\n            clearTimeout(this._evictUntrustedReadingsTimeout);\r\n            this._evictUntrustedReadingsTimeout = -1;\r\n        }\r\n        super.dispose();\r\n    }\r\n    clearCache() {\r\n        this._cache = new CSSBasedConfigurationCache();\r\n        this._onDidChange.fire();\r\n    }\r\n    _writeToCache(item, value) {\r\n        this._cache.put(item, value);\r\n        if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\r\n            // Try reading again after some time\r\n            this._evictUntrustedReadingsTimeout = setTimeout(() => {\r\n                this._evictUntrustedReadingsTimeout = -1;\r\n                this._evictUntrustedReadings();\r\n            }, 5000);\r\n        }\r\n    }\r\n    _evictUntrustedReadings() {\r\n        const values = this._cache.getValues();\r\n        let somethingRemoved = false;\r\n        for (const item of values) {\r\n            if (!item.isTrusted) {\r\n                somethingRemoved = true;\r\n                this._cache.remove(item);\r\n            }\r\n        }\r\n        if (somethingRemoved) {\r\n            this._onDidChange.fire();\r\n        }\r\n    }\r\n    readConfiguration(bareFontInfo) {\r\n        if (!this._cache.has(bareFontInfo)) {\r\n            let readConfig = CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);\r\n            if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\r\n                // Hey, it's Bug 14341 ... we couldn't read\r\n                readConfig = new FontInfo({\r\n                    zoomLevel: browser.getZoomLevel(),\r\n                    pixelRatio: browser.getPixelRatio(),\r\n                    fontFamily: readConfig.fontFamily,\r\n                    fontWeight: readConfig.fontWeight,\r\n                    fontSize: readConfig.fontSize,\r\n                    fontFeatureSettings: readConfig.fontFeatureSettings,\r\n                    lineHeight: readConfig.lineHeight,\r\n                    letterSpacing: readConfig.letterSpacing,\r\n                    isMonospace: readConfig.isMonospace,\r\n                    typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\r\n                    typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\r\n                    canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\r\n                    spaceWidth: Math.max(readConfig.spaceWidth, 5),\r\n                    middotWidth: Math.max(readConfig.middotWidth, 5),\r\n                    wsmiddotWidth: Math.max(readConfig.wsmiddotWidth, 5),\r\n                    maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5),\r\n                }, false);\r\n            }\r\n            this._writeToCache(bareFontInfo, readConfig);\r\n        }\r\n        return this._cache.get(bareFontInfo);\r\n    }\r\n    static createRequest(chr, type, all, monospace) {\r\n        const result = new CharWidthRequest(chr, type);\r\n        all.push(result);\r\n        if (monospace) {\r\n            monospace.push(result);\r\n        }\r\n        return result;\r\n    }\r\n    static _actualReadConfiguration(bareFontInfo) {\r\n        const all = [];\r\n        const monospace = [];\r\n        const typicalHalfwidthCharacter = this.createRequest('n', 0 /* Regular */, all, monospace);\r\n        const typicalFullwidthCharacter = this.createRequest('\\uff4d', 0 /* Regular */, all, null);\r\n        const space = this.createRequest(' ', 0 /* Regular */, all, monospace);\r\n        const digit0 = this.createRequest('0', 0 /* Regular */, all, monospace);\r\n        const digit1 = this.createRequest('1', 0 /* Regular */, all, monospace);\r\n        const digit2 = this.createRequest('2', 0 /* Regular */, all, monospace);\r\n        const digit3 = this.createRequest('3', 0 /* Regular */, all, monospace);\r\n        const digit4 = this.createRequest('4', 0 /* Regular */, all, monospace);\r\n        const digit5 = this.createRequest('5', 0 /* Regular */, all, monospace);\r\n        const digit6 = this.createRequest('6', 0 /* Regular */, all, monospace);\r\n        const digit7 = this.createRequest('7', 0 /* Regular */, all, monospace);\r\n        const digit8 = this.createRequest('8', 0 /* Regular */, all, monospace);\r\n        const digit9 = this.createRequest('9', 0 /* Regular */, all, monospace);\r\n        // monospace test: used for whitespace rendering\r\n        const rightwardsArrow = this.createRequest('→', 0 /* Regular */, all, monospace);\r\n        const halfwidthRightwardsArrow = this.createRequest('￫', 0 /* Regular */, all, null);\r\n        // U+00B7 - MIDDLE DOT\r\n        const middot = this.createRequest('·', 0 /* Regular */, all, monospace);\r\n        // U+2E31 - WORD SEPARATOR MIDDLE DOT\r\n        const wsmiddotWidth = this.createRequest(String.fromCharCode(0x2E31), 0 /* Regular */, all, null);\r\n        // monospace test: some characters\r\n        this.createRequest('|', 0 /* Regular */, all, monospace);\r\n        this.createRequest('/', 0 /* Regular */, all, monospace);\r\n        this.createRequest('-', 0 /* Regular */, all, monospace);\r\n        this.createRequest('_', 0 /* Regular */, all, monospace);\r\n        this.createRequest('i', 0 /* Regular */, all, monospace);\r\n        this.createRequest('l', 0 /* Regular */, all, monospace);\r\n        this.createRequest('m', 0 /* Regular */, all, monospace);\r\n        // monospace italic test\r\n        this.createRequest('|', 1 /* Italic */, all, monospace);\r\n        this.createRequest('_', 1 /* Italic */, all, monospace);\r\n        this.createRequest('i', 1 /* Italic */, all, monospace);\r\n        this.createRequest('l', 1 /* Italic */, all, monospace);\r\n        this.createRequest('m', 1 /* Italic */, all, monospace);\r\n        this.createRequest('n', 1 /* Italic */, all, monospace);\r\n        // monospace bold test\r\n        this.createRequest('|', 2 /* Bold */, all, monospace);\r\n        this.createRequest('_', 2 /* Bold */, all, monospace);\r\n        this.createRequest('i', 2 /* Bold */, all, monospace);\r\n        this.createRequest('l', 2 /* Bold */, all, monospace);\r\n        this.createRequest('m', 2 /* Bold */, all, monospace);\r\n        this.createRequest('n', 2 /* Bold */, all, monospace);\r\n        readCharWidths(bareFontInfo, all);\r\n        const maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\r\n        let isMonospace = (bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF);\r\n        const referenceWidth = monospace[0].width;\r\n        for (let i = 1, len = monospace.length; isMonospace && i < len; i++) {\r\n            const diff = referenceWidth - monospace[i].width;\r\n            if (diff < -0.001 || diff > 0.001) {\r\n                isMonospace = false;\r\n                break;\r\n            }\r\n        }\r\n        let canUseHalfwidthRightwardsArrow = true;\r\n        if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\r\n            // using a halfwidth rightwards arrow would break monospace...\r\n            canUseHalfwidthRightwardsArrow = false;\r\n        }\r\n        if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\r\n            // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\r\n            canUseHalfwidthRightwardsArrow = false;\r\n        }\r\n        // let's trust the zoom level only 2s after it was changed.\r\n        const canTrustBrowserZoomLevel = (browser.getTimeSinceLastZoomLevelChanged() > 2000);\r\n        return new FontInfo({\r\n            zoomLevel: browser.getZoomLevel(),\r\n            pixelRatio: browser.getPixelRatio(),\r\n            fontFamily: bareFontInfo.fontFamily,\r\n            fontWeight: bareFontInfo.fontWeight,\r\n            fontSize: bareFontInfo.fontSize,\r\n            fontFeatureSettings: bareFontInfo.fontFeatureSettings,\r\n            lineHeight: bareFontInfo.lineHeight,\r\n            letterSpacing: bareFontInfo.letterSpacing,\r\n            isMonospace: isMonospace,\r\n            typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\r\n            typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\r\n            canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\r\n            spaceWidth: space.width,\r\n            middotWidth: middot.width,\r\n            wsmiddotWidth: wsmiddotWidth.width,\r\n            maxDigitWidth: maxDigitWidth\r\n        }, canTrustBrowserZoomLevel);\r\n    }\r\n}\r\nCSSBasedConfiguration.INSTANCE = new CSSBasedConfiguration();\r\nexport class Configuration extends CommonEditorConfiguration {\r\n    constructor(isSimpleWidget, options, referenceDomElement = null, accessibilityService) {\r\n        super(isSimpleWidget, options);\r\n        this.accessibilityService = accessibilityService;\r\n        this._elementSizeObserver = this._register(new ElementSizeObserver(referenceDomElement, options.dimension, () => this._recomputeOptions()));\r\n        this._register(CSSBasedConfiguration.INSTANCE.onDidChange(() => this._recomputeOptions()));\r\n        if (this._validatedOptions.get(9 /* automaticLayout */)) {\r\n            this._elementSizeObserver.startObserving();\r\n        }\r\n        this._register(browser.onDidChangeZoomLevel(_ => this._recomputeOptions()));\r\n        this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(() => this._recomputeOptions()));\r\n        this._recomputeOptions();\r\n    }\r\n    static applyFontInfoSlow(domNode, fontInfo) {\r\n        domNode.style.fontFamily = fontInfo.getMassagedFontFamily();\r\n        domNode.style.fontWeight = fontInfo.fontWeight;\r\n        domNode.style.fontSize = fontInfo.fontSize + 'px';\r\n        domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\r\n        domNode.style.lineHeight = fontInfo.lineHeight + 'px';\r\n        domNode.style.letterSpacing = fontInfo.letterSpacing + 'px';\r\n    }\r\n    static applyFontInfo(domNode, fontInfo) {\r\n        domNode.setFontFamily(fontInfo.getMassagedFontFamily());\r\n        domNode.setFontWeight(fontInfo.fontWeight);\r\n        domNode.setFontSize(fontInfo.fontSize);\r\n        domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings);\r\n        domNode.setLineHeight(fontInfo.lineHeight);\r\n        domNode.setLetterSpacing(fontInfo.letterSpacing);\r\n    }\r\n    observeReferenceElement(dimension) {\r\n        this._elementSizeObserver.observe(dimension);\r\n    }\r\n    updatePixelRatio() {\r\n        this._recomputeOptions();\r\n    }\r\n    static _getExtraEditorClassName() {\r\n        let extra = '';\r\n        if (!browser.isSafari && !browser.isWebkitWebView) {\r\n            // Use user-select: none in all browsers except Safari and native macOS WebView\r\n            extra += 'no-user-select ';\r\n        }\r\n        if (browser.isSafari) {\r\n            // See https://github.com/microsoft/vscode/issues/108822\r\n            extra += 'no-minimap-shadow ';\r\n        }\r\n        if (platform.isMacintosh) {\r\n            extra += 'mac ';\r\n        }\r\n        return extra;\r\n    }\r\n    _getEnvConfiguration() {\r\n        return {\r\n            extraEditorClassName: Configuration._getExtraEditorClassName(),\r\n            outerWidth: this._elementSizeObserver.getWidth(),\r\n            outerHeight: this._elementSizeObserver.getHeight(),\r\n            emptySelectionClipboard: browser.isWebKit || browser.isFirefox,\r\n            pixelRatio: browser.getPixelRatio(),\r\n            zoomLevel: browser.getZoomLevel(),\r\n            accessibilitySupport: (this.accessibilityService.isScreenReaderOptimized()\r\n                ? 2 /* Enabled */\r\n                : this.accessibilityService.getAccessibilitySupport())\r\n        };\r\n    }\r\n    readConfiguration(bareFontInfo) {\r\n        return CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}