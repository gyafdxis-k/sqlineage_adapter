{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './colorPicker.css';\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nconst $ = dom.$;\nexport class ColorPickerHeader extends Disposable {\n  constructor(container, model, themeService) {\n    super();\n    this.model = model;\n    this.domNode = $('.colorpicker-header');\n    dom.append(container, this.domNode);\n    this.pickedColorNode = dom.append(this.domNode, $('.picked-color'));\n    const colorBox = dom.append(this.domNode, $('.original-color'));\n    colorBox.style.backgroundColor = Color.Format.CSS.format(this.model.originalColor) || '';\n    this.backgroundColor = themeService.getColorTheme().getColor(editorHoverBackground) || Color.white;\n    this._register(registerThemingParticipant((theme, collector) => {\n      this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\n    }));\n    this._register(dom.addDisposableListener(this.pickedColorNode, dom.EventType.CLICK, () => this.model.selectNextColorPresentation()));\n    this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, () => {\n      this.model.color = this.model.originalColor;\n      this.model.flushColor();\n    }));\n    this._register(model.onDidChangeColor(this.onDidChangeColor, this));\n    this._register(model.onDidChangePresentation(this.onDidChangePresentation, this));\n    this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\n    this.pickedColorNode.classList.toggle('light', model.color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : model.color.isLighter());\n  }\n  onDidChangeColor(color) {\n    this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\n    this.pickedColorNode.classList.toggle('light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\n    this.onDidChangePresentation();\n  }\n  onDidChangePresentation() {\n    this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\n  }\n}\nexport class ColorPickerBody extends Disposable {\n  constructor(container, model, pixelRatio) {\n    super();\n    this.model = model;\n    this.pixelRatio = pixelRatio;\n    this.domNode = $('.colorpicker-body');\n    dom.append(container, this.domNode);\n    this.saturationBox = new SaturationBox(this.domNode, this.model, this.pixelRatio);\n    this._register(this.saturationBox);\n    this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange, this));\n    this._register(this.saturationBox.onColorFlushed(this.flushColor, this));\n    this.opacityStrip = new OpacityStrip(this.domNode, this.model);\n    this._register(this.opacityStrip);\n    this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange, this));\n    this._register(this.opacityStrip.onColorFlushed(this.flushColor, this));\n    this.hueStrip = new HueStrip(this.domNode, this.model);\n    this._register(this.hueStrip);\n    this._register(this.hueStrip.onDidChange(this.onDidHueChange, this));\n    this._register(this.hueStrip.onColorFlushed(this.flushColor, this));\n  }\n  flushColor() {\n    this.model.flushColor();\n  }\n  onDidSaturationValueChange(_ref) {\n    let {\n      s,\n      v\n    } = _ref;\n    const hsva = this.model.color.hsva;\n    this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n  }\n  onDidOpacityChange(a) {\n    const hsva = this.model.color.hsva;\n    this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n  }\n  onDidHueChange(value) {\n    const hsva = this.model.color.hsva;\n    const h = (1 - value) * 360;\n    this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n  }\n  layout() {\n    this.saturationBox.layout();\n    this.opacityStrip.layout();\n    this.hueStrip.layout();\n  }\n}\nclass SaturationBox extends Disposable {\n  constructor(container, model, pixelRatio) {\n    super();\n    this.model = model;\n    this.pixelRatio = pixelRatio;\n    this._onDidChange = new Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._onColorFlushed = new Emitter();\n    this.onColorFlushed = this._onColorFlushed.event;\n    this.domNode = $('.saturation-wrap');\n    dom.append(container, this.domNode);\n    // Create canvas, draw selected color\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'saturation-box';\n    dom.append(this.domNode, this.canvas);\n    // Add selection circle\n    this.selection = $('.saturation-selection');\n    dom.append(this.domNode, this.selection);\n    this.layout();\n    this._register(dom.addDisposableGenericMouseDownListner(this.domNode, e => this.onMouseDown(e)));\n    this._register(this.model.onDidChangeColor(this.onDidChangeColor, this));\n    this.monitor = null;\n  }\n  onMouseDown(e) {\n    this.monitor = this._register(new GlobalMouseMoveMonitor());\n    const origin = dom.getDomNodePagePosition(this.domNode);\n    if (e.target !== this.selection) {\n      this.onDidChangePosition(e.offsetX, e.offsetY);\n    }\n    this.monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, event => this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top), () => null);\n    const mouseUpListener = dom.addDisposableGenericMouseUpListner(document, () => {\n      this._onColorFlushed.fire();\n      mouseUpListener.dispose();\n      if (this.monitor) {\n        this.monitor.stopMonitoring(true);\n        this.monitor = null;\n      }\n    }, true);\n  }\n  onDidChangePosition(left, top) {\n    const s = Math.max(0, Math.min(1, left / this.width));\n    const v = Math.max(0, Math.min(1, 1 - top / this.height));\n    this.paintSelection(s, v);\n    this._onDidChange.fire({\n      s,\n      v\n    });\n  }\n  layout() {\n    this.width = this.domNode.offsetWidth;\n    this.height = this.domNode.offsetHeight;\n    this.canvas.width = this.width * this.pixelRatio;\n    this.canvas.height = this.height * this.pixelRatio;\n    this.paint();\n    const hsva = this.model.color.hsva;\n    this.paintSelection(hsva.s, hsva.v);\n  }\n  paint() {\n    const hsva = this.model.color.hsva;\n    const saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n    const ctx = this.canvas.getContext('2d');\n    const whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\n    whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n    whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n    whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n    const blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\n    blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n    blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n    ctx.rect(0, 0, this.canvas.width, this.canvas.height);\n    ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\n    ctx.fill();\n    ctx.fillStyle = whiteGradient;\n    ctx.fill();\n    ctx.fillStyle = blackGradient;\n    ctx.fill();\n  }\n  paintSelection(s, v) {\n    this.selection.style.left = \"\".concat(s * this.width, \"px\");\n    this.selection.style.top = \"\".concat(this.height - v * this.height, \"px\");\n  }\n  onDidChangeColor() {\n    if (this.monitor && this.monitor.isMonitoring()) {\n      return;\n    }\n    this.paint();\n  }\n}\nclass Strip extends Disposable {\n  constructor(container, model) {\n    super();\n    this.model = model;\n    this._onDidChange = new Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._onColorFlushed = new Emitter();\n    this.onColorFlushed = this._onColorFlushed.event;\n    this.domNode = dom.append(container, $('.strip'));\n    this.overlay = dom.append(this.domNode, $('.overlay'));\n    this.slider = dom.append(this.domNode, $('.slider'));\n    this.slider.style.top = \"0px\";\n    this._register(dom.addDisposableGenericMouseDownListner(this.domNode, e => this.onMouseDown(e)));\n    this.layout();\n  }\n  layout() {\n    this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n    const value = this.getValue(this.model.color);\n    this.updateSliderPosition(value);\n  }\n  onMouseDown(e) {\n    const monitor = this._register(new GlobalMouseMoveMonitor());\n    const origin = dom.getDomNodePagePosition(this.domNode);\n    this.domNode.classList.add('grabbing');\n    if (e.target !== this.slider) {\n      this.onDidChangeTop(e.offsetY);\n    }\n    monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, event => this.onDidChangeTop(event.posy - origin.top), () => null);\n    const mouseUpListener = dom.addDisposableGenericMouseUpListner(document, () => {\n      this._onColorFlushed.fire();\n      mouseUpListener.dispose();\n      monitor.stopMonitoring(true);\n      this.domNode.classList.remove('grabbing');\n    }, true);\n  }\n  onDidChangeTop(top) {\n    const value = Math.max(0, Math.min(1, 1 - top / this.height));\n    this.updateSliderPosition(value);\n    this._onDidChange.fire(value);\n  }\n  updateSliderPosition(value) {\n    this.slider.style.top = \"\".concat((1 - value) * this.height, \"px\");\n  }\n}\nclass OpacityStrip extends Strip {\n  constructor(container, model) {\n    super(container, model);\n    this.domNode.classList.add('opacity-strip');\n    this._register(model.onDidChangeColor(this.onDidChangeColor, this));\n    this.onDidChangeColor(this.model.color);\n  }\n  onDidChangeColor(color) {\n    const {\n      r,\n      g,\n      b\n    } = color.rgba;\n    const opaque = new Color(new RGBA(r, g, b, 1));\n    const transparent = new Color(new RGBA(r, g, b, 0));\n    this.overlay.style.background = \"linear-gradient(to bottom, \".concat(opaque, \" 0%, \").concat(transparent, \" 100%)\");\n  }\n  getValue(color) {\n    return color.hsva.a;\n  }\n}\nclass HueStrip extends Strip {\n  constructor(container, model) {\n    super(container, model);\n    this.domNode.classList.add('hue-strip');\n  }\n  getValue(color) {\n    return 1 - color.hsva.h / 360;\n  }\n}\nexport class ColorPickerWidget extends Widget {\n  constructor(container, model, pixelRatio, themeService) {\n    super();\n    this.model = model;\n    this.pixelRatio = pixelRatio;\n    this._register(onDidChangeZoomLevel(() => this.layout()));\n    const element = $('.colorpicker-widget');\n    container.appendChild(element);\n    const header = new ColorPickerHeader(element, this.model, themeService);\n    this.body = new ColorPickerBody(element, this.model, this.pixelRatio);\n    this._register(header);\n    this._register(this.body);\n  }\n  layout() {\n    this.body.layout();\n  }\n}","map":{"version":3,"names":["onDidChangeZoomLevel","dom","GlobalMouseMoveMonitor","standardMouseMoveMerger","Widget","Color","HSVA","RGBA","Emitter","Disposable","editorHoverBackground","registerThemingParticipant","$","ColorPickerHeader","constructor","container","model","themeService","domNode","append","pickedColorNode","colorBox","style","backgroundColor","Format","CSS","format","originalColor","getColorTheme","getColor","white","_register","theme","collector","addDisposableListener","EventType","CLICK","selectNextColorPresentation","color","flushColor","onDidChangeColor","onDidChangePresentation","classList","toggle","rgba","a","isLighter","textContent","presentation","label","ColorPickerBody","pixelRatio","saturationBox","SaturationBox","onDidChange","onDidSaturationValueChange","onColorFlushed","opacityStrip","OpacityStrip","onDidOpacityChange","hueStrip","HueStrip","onDidHueChange","_ref","s","v","hsva","h","value","layout","_onDidChange","event","_onColorFlushed","canvas","document","createElement","className","selection","addDisposableGenericMouseDownListner","e","onMouseDown","monitor","origin","getDomNodePagePosition","target","onDidChangePosition","offsetX","offsetY","startMonitoring","buttons","posx","left","posy","top","mouseUpListener","addDisposableGenericMouseUpListner","fire","dispose","stopMonitoring","Math","max","min","width","height","paintSelection","offsetWidth","offsetHeight","paint","saturatedColor","ctx","getContext","whiteGradient","createLinearGradient","addColorStop","blackGradient","rect","fillStyle","fill","concat","isMonitoring","Strip","overlay","slider","getValue","updateSliderPosition","add","onDidChangeTop","remove","r","g","b","opaque","transparent","background","ColorPickerWidget","element","appendChild","header","body"],"sources":["C:/Users/Administrator/Desktop/sqllineage-master/sqllineagejs/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './colorPicker.css';\r\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nconst $ = dom.$;\r\nexport class ColorPickerHeader extends Disposable {\r\n    constructor(container, model, themeService) {\r\n        super();\r\n        this.model = model;\r\n        this.domNode = $('.colorpicker-header');\r\n        dom.append(container, this.domNode);\r\n        this.pickedColorNode = dom.append(this.domNode, $('.picked-color'));\r\n        const colorBox = dom.append(this.domNode, $('.original-color'));\r\n        colorBox.style.backgroundColor = Color.Format.CSS.format(this.model.originalColor) || '';\r\n        this.backgroundColor = themeService.getColorTheme().getColor(editorHoverBackground) || Color.white;\r\n        this._register(registerThemingParticipant((theme, collector) => {\r\n            this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\r\n        }));\r\n        this._register(dom.addDisposableListener(this.pickedColorNode, dom.EventType.CLICK, () => this.model.selectNextColorPresentation()));\r\n        this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, () => {\r\n            this.model.color = this.model.originalColor;\r\n            this.model.flushColor();\r\n        }));\r\n        this._register(model.onDidChangeColor(this.onDidChangeColor, this));\r\n        this._register(model.onDidChangePresentation(this.onDidChangePresentation, this));\r\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\r\n        this.pickedColorNode.classList.toggle('light', model.color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : model.color.isLighter());\r\n    }\r\n    onDidChangeColor(color) {\r\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\r\n        this.pickedColorNode.classList.toggle('light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\r\n        this.onDidChangePresentation();\r\n    }\r\n    onDidChangePresentation() {\r\n        this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\r\n    }\r\n}\r\nexport class ColorPickerBody extends Disposable {\r\n    constructor(container, model, pixelRatio) {\r\n        super();\r\n        this.model = model;\r\n        this.pixelRatio = pixelRatio;\r\n        this.domNode = $('.colorpicker-body');\r\n        dom.append(container, this.domNode);\r\n        this.saturationBox = new SaturationBox(this.domNode, this.model, this.pixelRatio);\r\n        this._register(this.saturationBox);\r\n        this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange, this));\r\n        this._register(this.saturationBox.onColorFlushed(this.flushColor, this));\r\n        this.opacityStrip = new OpacityStrip(this.domNode, this.model);\r\n        this._register(this.opacityStrip);\r\n        this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange, this));\r\n        this._register(this.opacityStrip.onColorFlushed(this.flushColor, this));\r\n        this.hueStrip = new HueStrip(this.domNode, this.model);\r\n        this._register(this.hueStrip);\r\n        this._register(this.hueStrip.onDidChange(this.onDidHueChange, this));\r\n        this._register(this.hueStrip.onColorFlushed(this.flushColor, this));\r\n    }\r\n    flushColor() {\r\n        this.model.flushColor();\r\n    }\r\n    onDidSaturationValueChange({ s, v }) {\r\n        const hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\r\n    }\r\n    onDidOpacityChange(a) {\r\n        const hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\r\n    }\r\n    onDidHueChange(value) {\r\n        const hsva = this.model.color.hsva;\r\n        const h = (1 - value) * 360;\r\n        this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\r\n    }\r\n    layout() {\r\n        this.saturationBox.layout();\r\n        this.opacityStrip.layout();\r\n        this.hueStrip.layout();\r\n    }\r\n}\r\nclass SaturationBox extends Disposable {\r\n    constructor(container, model, pixelRatio) {\r\n        super();\r\n        this.model = model;\r\n        this.pixelRatio = pixelRatio;\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._onColorFlushed = new Emitter();\r\n        this.onColorFlushed = this._onColorFlushed.event;\r\n        this.domNode = $('.saturation-wrap');\r\n        dom.append(container, this.domNode);\r\n        // Create canvas, draw selected color\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.className = 'saturation-box';\r\n        dom.append(this.domNode, this.canvas);\r\n        // Add selection circle\r\n        this.selection = $('.saturation-selection');\r\n        dom.append(this.domNode, this.selection);\r\n        this.layout();\r\n        this._register(dom.addDisposableGenericMouseDownListner(this.domNode, e => this.onMouseDown(e)));\r\n        this._register(this.model.onDidChangeColor(this.onDidChangeColor, this));\r\n        this.monitor = null;\r\n    }\r\n    onMouseDown(e) {\r\n        this.monitor = this._register(new GlobalMouseMoveMonitor());\r\n        const origin = dom.getDomNodePagePosition(this.domNode);\r\n        if (e.target !== this.selection) {\r\n            this.onDidChangePosition(e.offsetX, e.offsetY);\r\n        }\r\n        this.monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, event => this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top), () => null);\r\n        const mouseUpListener = dom.addDisposableGenericMouseUpListner(document, () => {\r\n            this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            if (this.monitor) {\r\n                this.monitor.stopMonitoring(true);\r\n                this.monitor = null;\r\n            }\r\n        }, true);\r\n    }\r\n    onDidChangePosition(left, top) {\r\n        const s = Math.max(0, Math.min(1, left / this.width));\r\n        const v = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.paintSelection(s, v);\r\n        this._onDidChange.fire({ s, v });\r\n    }\r\n    layout() {\r\n        this.width = this.domNode.offsetWidth;\r\n        this.height = this.domNode.offsetHeight;\r\n        this.canvas.width = this.width * this.pixelRatio;\r\n        this.canvas.height = this.height * this.pixelRatio;\r\n        this.paint();\r\n        const hsva = this.model.color.hsva;\r\n        this.paintSelection(hsva.s, hsva.v);\r\n    }\r\n    paint() {\r\n        const hsva = this.model.color.hsva;\r\n        const saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\r\n        const ctx = this.canvas.getContext('2d');\r\n        const whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\r\n        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\r\n        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\r\n        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n        const blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\r\n        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\r\n        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\r\n        ctx.rect(0, 0, this.canvas.width, this.canvas.height);\r\n        ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\r\n        ctx.fill();\r\n        ctx.fillStyle = whiteGradient;\r\n        ctx.fill();\r\n        ctx.fillStyle = blackGradient;\r\n        ctx.fill();\r\n    }\r\n    paintSelection(s, v) {\r\n        this.selection.style.left = `${s * this.width}px`;\r\n        this.selection.style.top = `${this.height - v * this.height}px`;\r\n    }\r\n    onDidChangeColor() {\r\n        if (this.monitor && this.monitor.isMonitoring()) {\r\n            return;\r\n        }\r\n        this.paint();\r\n    }\r\n}\r\nclass Strip extends Disposable {\r\n    constructor(container, model) {\r\n        super();\r\n        this.model = model;\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._onColorFlushed = new Emitter();\r\n        this.onColorFlushed = this._onColorFlushed.event;\r\n        this.domNode = dom.append(container, $('.strip'));\r\n        this.overlay = dom.append(this.domNode, $('.overlay'));\r\n        this.slider = dom.append(this.domNode, $('.slider'));\r\n        this.slider.style.top = `0px`;\r\n        this._register(dom.addDisposableGenericMouseDownListner(this.domNode, e => this.onMouseDown(e)));\r\n        this.layout();\r\n    }\r\n    layout() {\r\n        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\r\n        const value = this.getValue(this.model.color);\r\n        this.updateSliderPosition(value);\r\n    }\r\n    onMouseDown(e) {\r\n        const monitor = this._register(new GlobalMouseMoveMonitor());\r\n        const origin = dom.getDomNodePagePosition(this.domNode);\r\n        this.domNode.classList.add('grabbing');\r\n        if (e.target !== this.slider) {\r\n            this.onDidChangeTop(e.offsetY);\r\n        }\r\n        monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, event => this.onDidChangeTop(event.posy - origin.top), () => null);\r\n        const mouseUpListener = dom.addDisposableGenericMouseUpListner(document, () => {\r\n            this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            monitor.stopMonitoring(true);\r\n            this.domNode.classList.remove('grabbing');\r\n        }, true);\r\n    }\r\n    onDidChangeTop(top) {\r\n        const value = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.updateSliderPosition(value);\r\n        this._onDidChange.fire(value);\r\n    }\r\n    updateSliderPosition(value) {\r\n        this.slider.style.top = `${(1 - value) * this.height}px`;\r\n    }\r\n}\r\nclass OpacityStrip extends Strip {\r\n    constructor(container, model) {\r\n        super(container, model);\r\n        this.domNode.classList.add('opacity-strip');\r\n        this._register(model.onDidChangeColor(this.onDidChangeColor, this));\r\n        this.onDidChangeColor(this.model.color);\r\n    }\r\n    onDidChangeColor(color) {\r\n        const { r, g, b } = color.rgba;\r\n        const opaque = new Color(new RGBA(r, g, b, 1));\r\n        const transparent = new Color(new RGBA(r, g, b, 0));\r\n        this.overlay.style.background = `linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`;\r\n    }\r\n    getValue(color) {\r\n        return color.hsva.a;\r\n    }\r\n}\r\nclass HueStrip extends Strip {\r\n    constructor(container, model) {\r\n        super(container, model);\r\n        this.domNode.classList.add('hue-strip');\r\n    }\r\n    getValue(color) {\r\n        return 1 - (color.hsva.h / 360);\r\n    }\r\n}\r\nexport class ColorPickerWidget extends Widget {\r\n    constructor(container, model, pixelRatio, themeService) {\r\n        super();\r\n        this.model = model;\r\n        this.pixelRatio = pixelRatio;\r\n        this._register(onDidChangeZoomLevel(() => this.layout()));\r\n        const element = $('.colorpicker-widget');\r\n        container.appendChild(element);\r\n        const header = new ColorPickerHeader(element, this.model, themeService);\r\n        this.body = new ColorPickerBody(element, this.model, this.pixelRatio);\r\n        this._register(header);\r\n        this._register(this.body);\r\n    }\r\n    layout() {\r\n        this.body.layout();\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}